{"version":3,"file":"kendo-angular-dropdowns.js","sources":["../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/common/keys.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/util.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/navigation-action.js","../../../node_modules/@progress/kendo-angular-l10n/dist/es/message.service.js","../../../node_modules/@progress/kendo-angular-l10n/dist/es/component-messages.js","../../../node_modules/@progress/kendo-angular-l10n/dist/es/rtl.js","../../../node_modules/@progress/kendo-angular-l10n/dist/es/localization.service.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/searchbar.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/item-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/header-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/footer-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/selection.service.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/disabled-items.service.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/navigation.service.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/no-data-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/common/preventable-event.js","../../../node_modules/@progress/kendo-popup-common/dist/es/align-point.js","../../../node_modules/@progress/kendo-popup-common/dist/es/owner-document.js","../../../node_modules/@progress/kendo-popup-common/dist/es/window.js","../../../node_modules/@progress/kendo-popup-common/dist/es/document.js","../../../node_modules/@progress/kendo-popup-common/dist/es/scrollbar-width.js","../../../node_modules/@progress/kendo-popup-common/dist/es/window-viewport.js","../../../node_modules/@progress/kendo-popup-common/dist/es/bounding-offset.js","../../../node_modules/@progress/kendo-popup-common/dist/es/offset-parent.js","../../../node_modules/@progress/kendo-popup-common/dist/es/offset.js","../../../node_modules/@progress/kendo-popup-common/dist/es/parents.js","../../../node_modules/@progress/kendo-popup-common/dist/es/scroll-position.js","../../../node_modules/@progress/kendo-popup-common/dist/es/element-scroll-position.js","../../../node_modules/@progress/kendo-popup-common/dist/es/position.js","../../../node_modules/@progress/kendo-popup-common/dist/es/offset-parent-scroll-position.js","../../../node_modules/@progress/kendo-popup-common/dist/es/parent-scroll-position.js","../../../node_modules/@progress/kendo-popup-common/dist/es/collision.js","../../../node_modules/@progress/kendo-popup-common/dist/es/restrict-to-view.js","../../../node_modules/@progress/kendo-popup-common/dist/es/siblings.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/util.js","../../../node_modules/@progress/kendo-popup-common/dist/es/sibling-container.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/services/dom.service.js","../../../node_modules/@progress/kendo-popup-common/dist/es/add-scroll.js","../../../node_modules/@progress/kendo-popup-common/dist/es/align.js","../../../node_modules/@progress/kendo-popup-common/dist/es/position-with-scroll.js","../../../node_modules/@progress/kendo-popup-common/dist/es/remove-scroll.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/services/align.service.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/services/position.service.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/services/resize.service.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/services/scrollable.service.js","../../../node_modules/@angular/animations/fesm5/animations.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/services/animation.service.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/popup.component.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/popup.service.js","../../../node_modules/@progress/kendo-angular-popup/dist/es/popup.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/filterable-base.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/autocomplete.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/touch-enabled.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/error-messages.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/combobox.component.js","../../../node_modules/tslib/tslib.es6.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/value-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/dropdownlist.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/custom-item-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/tag-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/group-tag-template.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/common/remove-tag-event.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/multiselect.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/taglist.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/templates/template-context.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/selectable.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/summary-tag.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/filter.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/list-item.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/list.component.js","../../../node_modules/@progress/kendo-angular-resize-sensor/dist/es/resize-batch.service.js","../../../node_modules/@progress/kendo-angular-resize-sensor/dist/es/resize-sensor.component.js","../../../node_modules/@progress/kendo-angular-resize-sensor/dist/es/resize-sensor.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/localization/messages.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/localization/localized-messages.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/localization/custom-messages.component.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/shared-directives.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/shared.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/autocomplete.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/support.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/combobox.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/filter-input.directive.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/dropdownlist.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/multiselect.module.js","../../../node_modules/@progress/kendo-angular-dropdowns/dist/es/dropdowns.module.js"],"sourcesContent":["/**\n * @hidden\n */\nexport var Keys;\n(function (Keys) {\n    Keys[Keys[\"backspace\"] = 8] = \"backspace\";\n    Keys[Keys[\"tab\"] = 9] = \"tab\";\n    Keys[Keys[\"enter\"] = 13] = \"enter\";\n    Keys[Keys[\"shift\"] = 16] = \"shift\";\n    Keys[Keys[\"ctrl\"] = 17] = \"ctrl\";\n    Keys[Keys[\"alt\"] = 18] = \"alt\";\n    Keys[Keys[\"pause/break\"] = 19] = \"pause/break\";\n    Keys[Keys[\"caps lock\"] = 20] = \"caps lock\";\n    Keys[Keys[\"esc\"] = 27] = \"esc\";\n    Keys[Keys[\"space\"] = 32] = \"space\";\n    Keys[Keys[\"page up\"] = 33] = \"page up\";\n    Keys[Keys[\"page down\"] = 34] = \"page down\";\n    Keys[Keys[\"end\"] = 35] = \"end\";\n    Keys[Keys[\"home\"] = 36] = \"home\";\n    Keys[Keys[\"left\"] = 37] = \"left\";\n    Keys[Keys[\"up\"] = 38] = \"up\";\n    Keys[Keys[\"right\"] = 39] = \"right\";\n    Keys[Keys[\"down\"] = 40] = \"down\";\n    Keys[Keys[\"insert\"] = 45] = \"insert\";\n    Keys[Keys[\"delete\"] = 46] = \"delete\";\n    Keys[Keys[\"command\"] = 91] = \"command\";\n    Keys[Keys[\"left command\"] = 91] = \"left command\";\n    Keys[Keys[\"right command\"] = 93] = \"right command\";\n    Keys[Keys[\"numpad *\"] = 106] = \"numpad *\";\n    Keys[Keys[\"numpad +\"] = 107] = \"numpad +\";\n    Keys[Keys[\"numpad -\"] = 109] = \"numpad -\";\n    Keys[Keys[\"numpad .\"] = 110] = \"numpad .\";\n    Keys[Keys[\"numpad /\"] = 111] = \"numpad /\";\n    Keys[Keys[\"num lock\"] = 144] = \"num lock\";\n    Keys[Keys[\"scroll lock\"] = 145] = \"scroll lock\";\n    Keys[Keys[\"my computer\"] = 182] = \"my computer\";\n    Keys[Keys[\"my calculator\"] = 183] = \"my calculator\";\n    Keys[Keys[\";\"] = 186] = \";\";\n    Keys[Keys[\"=\"] = 187] = \"=\";\n    Keys[Keys[\",\"] = 188] = \",\";\n    Keys[Keys[\"-\"] = 189] = \"-\";\n    Keys[Keys[\".\"] = 190] = \".\";\n    Keys[Keys[\"/\"] = 191] = \"/\";\n    Keys[Keys[\"`\"] = 192] = \"`\";\n    Keys[Keys[\"[\"] = 219] = \"[\";\n    Keys[Keys[\"\\\\\"] = 220] = \"\\\\\";\n    Keys[Keys[\"]\"] = 221] = \"]\";\n    Keys[Keys[\"'\"] = 222] = \"'\";\n})(Keys || (Keys = {}));\n","/* tslint:disable:no-null-keyword */\n/* tslint:disable:no-bitwise */\n/* tslint:disable:align */\n/**\n * @hidden\n */\nexport var isPresent = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n */\nexport var isNumber = function (value) { return !isNaN(value); };\n/**\n * @hidden\n */\nexport var isChanged = function (propertyName, changes) { return (changes[propertyName] && !changes[propertyName].isFirstChange() &&\n    changes[propertyName].previousValue !== changes[propertyName].currentValue); };\n/**\n * @hidden\n */\nexport var guid = function () {\n    var id = \"\";\n    var i;\n    var random;\n    for (i = 0; i < 32; i++) {\n        random = Math.random() * 16 | 0;\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            id += \"-\";\n        }\n        id += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16);\n    }\n    return id;\n};\n/**\n * @hidden\n */\nexport var combineStr = function (begin, end) {\n    return begin.concat(end.substr(end.toLowerCase().indexOf(begin.toLowerCase()) + begin.length));\n};\n/**\n * @hidden\n */\nexport var isDocumentAvailable = function () { return typeof document !== 'undefined'; };\n/**\n * @hidden\n */\nexport var isWindowAvailable = function () { return typeof window !== 'undefined'; };\n/**\n * @hidden\n */\nexport var isArray = function (value) { return Array.isArray(value); };\n/**\n * @hidden\n */\nexport var isObject = function (value) { return typeof value === 'object'; };\n/**\n * @hidden\n */\nexport var resolveValuesInArray = function (values, data, valueField) {\n    if (data === void 0) { data = []; }\n    return values\n        .map(function (value) {\n        return data.find(function (item) { return item[valueField] === value; });\n    })\n        .filter(function (value) { return value !== undefined; });\n};\n/**\n * @hidden\n */\nexport var validateComplexValues = function (values, valueField) {\n    return isArray(values) && values.filter(function (item) {\n        return isObject(item) && item[valueField];\n    });\n};\n/**\n * @hidden\n */\nexport var resolveAllValues = function (value, data, valueField) {\n    var customValues = validateComplexValues(value, valueField) || [];\n    var resolvedValues = resolveValuesInArray(value, data, valueField) || [];\n    return resolvedValues.concat(customValues);\n};\n/**\n * @hidden\n */\nexport var isObjectArray = function (values) {\n    return isArray(values) && values.some(function (item) { return isObject(item); });\n};\n/**\n * @hidden\n */\nexport var selectedIndices = function (values, data, valueField) {\n    var extractedValues = data.map(function (item) {\n        return isPresent(item[valueField]) ? item[valueField] : item;\n    });\n    return values.reduce(function (arr, item) {\n        var value = isPresent(item[valueField]) ? item[valueField] : item;\n        var index = extractedValues.indexOf(value);\n        if (index !== -1) {\n            arr.push(index);\n        }\n        return arr;\n    }, []);\n};\n/**\n * @hidden\n */\nexport var getter = function (dataItem, field, usePrimitive) {\n    if (usePrimitive === void 0) { usePrimitive = false; }\n    if (isPresent(dataItem)) {\n        if (usePrimitive) {\n            return field && isPresent(dataItem[field]) ? dataItem[field] : dataItem;\n        }\n        else {\n            return field ? dataItem[field] : dataItem;\n        }\n    }\n};\n/**\n * @hidden\n */\nexport var resolveValue = function (args) {\n    var dataItem;\n    if (isPresent(args.value)) {\n        var data = [args.defaultItem].concat(args.data);\n        dataItem = data.find(function (element) { return getter(element, args.valueField) === args.value; });\n        return {\n            dataItem: dataItem,\n            focused: args.data.indexOf(dataItem),\n            selected: args.data.indexOf(dataItem)\n        };\n    }\n    else if (args.index) {\n        dataItem = args.data[args.index];\n        return {\n            dataItem: args.data[args.index],\n            focused: args.index,\n            selected: args.index\n        };\n    }\n    return {\n        dataItem: args.defaultItem,\n        focused: -1,\n        selected: -1\n    };\n};\n/**\n * @hidden\n */\nexport var sameCharsOnly = function (word, character) {\n    for (var idx = 0; idx < word.length; idx++) {\n        if (word.charAt(idx) !== character) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @hidden\n */\nexport var shuffleData = function (data, splitIndex, defaultItem) {\n    var result = data;\n    if (defaultItem) {\n        result = [defaultItem].concat(result);\n    }\n    return result.slice(splitIndex).concat(result.slice(0, splitIndex));\n};\n/**\n * @hidden\n */\nexport var matchText = function (text, word, ignoreCase) {\n    if (!isPresent(text)) {\n        return false;\n    }\n    var temp = String(text);\n    if (ignoreCase) {\n        temp = temp.toLowerCase();\n    }\n    return temp.indexOf(word) === 0;\n};\n","/**\n * @hidden\n */\nexport var NavigationAction;\n(function (NavigationAction) {\n    NavigationAction[NavigationAction[\"Undefined\"] = 0] = \"Undefined\";\n    NavigationAction[NavigationAction[\"Open\"] = 1] = \"Open\";\n    NavigationAction[NavigationAction[\"Close\"] = 2] = \"Close\";\n    NavigationAction[NavigationAction[\"Enter\"] = 3] = \"Enter\";\n    NavigationAction[NavigationAction[\"Tab\"] = 4] = \"Tab\";\n    NavigationAction[NavigationAction[\"Esc\"] = 5] = \"Esc\";\n    NavigationAction[NavigationAction[\"Delete\"] = 6] = \"Delete\";\n    NavigationAction[NavigationAction[\"Backspace\"] = 7] = \"Backspace\";\n    NavigationAction[NavigationAction[\"Home\"] = 8] = \"Home\";\n    NavigationAction[NavigationAction[\"End\"] = 9] = \"End\";\n    NavigationAction[NavigationAction[\"Up\"] = 10] = \"Up\";\n    NavigationAction[NavigationAction[\"Down\"] = 11] = \"Down\";\n    NavigationAction[NavigationAction[\"Left\"] = 12] = \"Left\";\n    NavigationAction[NavigationAction[\"Right\"] = 13] = \"Right\";\n})(NavigationAction || (NavigationAction = {}));\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\n/* tslint:disable:max-line-length */\n/**\n * A base class for a service that returns localized messages.\n *\n * For more information, refer to the section on [using the message service]({% slug messages_l10n %}#toc-using-the-message-service).\n */\nvar MessageService = /** @class */ (function () {\n    function MessageService() {\n        /**\n         * @hidden\n         */\n        this.changes = new Subject();\n    }\n    /**\n     * Notifies the components that the messages were changed.\n     *\n     * @param rtl - (Optional) A new value for the [text direction token]({% slug api_l10n_rtl %}).\n     */\n    MessageService.prototype.notify = function (rtl) {\n        this.changes.next({ rtl: rtl });\n    };\n    /**\n     * Returns a localized message for the supplied key.\n     *\n     * @param key - The message key. For example, `\"kendo.grid.noRecords\"`.\n     * @return - The localized message for this key or `undefined` if not found.\n     */\n    MessageService.prototype.get = function (key) {\n        return undefined;\n    };\n    MessageService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    MessageService.ctorParameters = function () { return []; };\n    return MessageService;\n}());\nexport { MessageService };\n","import { skip } from \"rxjs/operators/skip\";\n/**\n * Base class that acts as a component messages container.\n *\n * For internal use.\n * @hidden\n */\nvar ComponentMessages = /** @class */ (function () {\n    function ComponentMessages() {\n    }\n    Object.defineProperty(ComponentMessages.prototype, \"override\", {\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComponentMessages.prototype.ngOnChanges = function (changes) {\n        this.register(changes);\n    };\n    ComponentMessages.prototype.ngOnInit = function () {\n        var _this = this;\n        this.subscription = this.service.changes.pipe(skip(1)).subscribe(function () { return _this.register(_this); });\n    };\n    ComponentMessages.prototype.register = function (changes) {\n        var _this = this;\n        var keys = Object.keys(changes);\n        keys.forEach(function (key) { return _this.service.register(key, _this[key], _this.override); });\n    };\n    ComponentMessages.prototype.ngOnDestroy = function () {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    };\n    return ComponentMessages;\n}());\nexport { ComponentMessages };\n","import { InjectionToken } from '@angular/core';\n/**\n * A token that specifies the text direction of Kendo UI for Angular components.\n *\n * @example\n * {% embed_file rtl/app.module.ts preview %}\n * {% embed_file rtl/app.component.ts %}\n * {% embed_file shared/main.ts hidden %}\n *\n */\nexport var RTL = new InjectionToken(\"Kendo UI Right-to-Left token\");\n","import { Inject, Injectable, Optional, InjectionToken } from '@angular/core';\nimport { MessageService } from './message.service';\nimport { RTL } from './rtl';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { map } from 'rxjs/operators/map';\nimport { tap } from 'rxjs/operators/tap';\n/**\n * Localization prefix for the component messages.\n *\n * For internal use.\n * @hidden\n */\nexport var L10N_PREFIX = new InjectionToken('Localization key prefix');\n/**\n * Component localization service.\n *\n * For internal use.\n * @hidden\n */\nvar LocalizationService = /** @class */ (function () {\n    function LocalizationService(prefix, messageService, _rtl) {\n        var _this = this;\n        this.prefix = prefix;\n        this.messageService = messageService;\n        this._rtl = _rtl;\n        this.changes = new BehaviorSubject({ rtl: this._rtl });\n        this.dictionary = {};\n        if (messageService) {\n            this.subscription = messageService.changes\n                .pipe(map(function (_a) {\n                var rtl = _a.rtl;\n                return rtl !== undefined ? rtl : _this._rtl;\n            }), tap(function (rtl) { return _this._rtl = rtl; }))\n                .subscribe(function (rtl) {\n                _this.dictionary = {};\n                _this.changes.next({ rtl: rtl });\n            });\n        }\n    }\n    Object.defineProperty(LocalizationService.prototype, \"rtl\", {\n        get: function () {\n            return this._rtl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LocalizationService.prototype.ngOnDestroy = function () {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    };\n    LocalizationService.prototype.get = function (shortKey) {\n        var key = this.key(shortKey);\n        return this.dictionary[key];\n    };\n    LocalizationService.prototype.register = function (shortKey, value, override) {\n        if (override === void 0) { override = false; }\n        var key = this.key(shortKey);\n        var message = value;\n        if (!override) {\n            if (this.dictionary.hasOwnProperty(key)) {\n                return;\n            }\n            message = this.defaultValue(key, value);\n        }\n        this.dictionary[key] = message;\n    };\n    LocalizationService.prototype.key = function (shortKey) {\n        return this.prefix + '.' + shortKey;\n    };\n    LocalizationService.prototype.defaultValue = function (key, value) {\n        if (!this.messageService) {\n            return value;\n        }\n        var alt = this.messageService.get(key);\n        return (alt === undefined) ? value : alt;\n    };\n    LocalizationService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    LocalizationService.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: Inject, args: [L10N_PREFIX,] },] },\n        { type: MessageService, decorators: [{ type: Optional },] },\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [RTL,] },] },\n    ]; };\n    return LocalizationService;\n}());\nexport { LocalizationService };\n","/* tslint:disable:member-ordering */\nimport { Component, Renderer2, Input, Output, HostListener, EventEmitter, ViewChild, HostBinding } from '@angular/core';\nimport { Keys } from './common/keys';\nimport { combineStr, isDocumentAvailable } from './util';\nimport { LocalizationService } from '@progress/kendo-angular-l10n';\n/**\n * @hidden\n */\nvar SearchBarComponent = /** @class */ (function () {\n    function SearchBarComponent(localization, renderer) {\n        this.localization = localization;\n        this.valueChange = new EventEmitter();\n        this.onBlur = new EventEmitter();\n        this.onFocus = new EventEmitter();\n        this.onClick = new EventEmitter();\n        this.onNavigate = new EventEmitter();\n        this._userInput = \"\";\n        this._previousValue = \"\";\n        this._placeholder = \"\";\n        this._composing = false;\n        this.direction = localization.rtl ? 'rtl' : 'ltr';\n        this.renderer = renderer;\n    }\n    Object.defineProperty(SearchBarComponent.prototype, \"userInput\", {\n        get: function () {\n            return this._userInput;\n        },\n        set: function (userInput) {\n            this._userInput = userInput || \"\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchBarComponent.prototype, \"searchBarClass\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchBarComponent.prototype, \"value\", {\n        get: function () {\n            return this.input.nativeElement.value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchBarComponent.prototype, \"placeholder\", {\n        get: function () {\n            return this._placeholder;\n        },\n        set: function (text) {\n            this._placeholder = text || '';\n            this.setInputSize();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchBarComponent.prototype.compositionStart = function () {\n        this._composing = true;\n    };\n    SearchBarComponent.prototype.compositionUpdate = function () {\n        this._composing = true;\n    };\n    SearchBarComponent.prototype.compositionEnd = function () {\n        this._composing = false;\n        this._previousValue = this.value;\n        this.valueChange.emit(this.value);\n    };\n    SearchBarComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.localizationChangeSubscription = this.localization\n            .changes.subscribe(function (_a) {\n            var rtl = _a.rtl;\n            return _this.direction = rtl ? 'rtl' : 'ltr';\n        });\n    };\n    SearchBarComponent.prototype.ngOnChanges = function (changes) {\n        var previousUserInput;\n        if (this.input && (changes.userInput || changes.suggestedText)) {\n            if (changes.userInput && changes.userInput.previousValue) {\n                if (this._previousValue === changes.userInput.previousValue) {\n                    previousUserInput = this._previousValue;\n                }\n                else {\n                    previousUserInput = changes.userInput.currentValue || \"\";\n                }\n            }\n            else {\n                previousUserInput = this._previousValue;\n            }\n            var caretIndex = this.input.nativeElement.selectionStart;\n            var caretAtEnd = previousUserInput.length === caretIndex;\n            this.writeInputValue(this.suggestedText ? combineStr(this.userInput, this.suggestedText) : this.userInput);\n            if (this.suggestedText) {\n                this.setInputSelection(this.userInput.length, this.suggestedText.length);\n            }\n            else if (caretAtEnd) {\n                this.setInputSelection(this.userInput.length, this.userInput.length);\n            }\n            else {\n                this.setInputSelection(caretIndex, caretIndex);\n            }\n            this._previousValue = this.userInput;\n        }\n    };\n    SearchBarComponent.prototype.ngOnDestroy = function () {\n        if (this.localizationChangeSubscription) {\n            this.localizationChangeSubscription.unsubscribe();\n        }\n    };\n    SearchBarComponent.prototype.writeInputValue = function (text) {\n        if (isDocumentAvailable()) {\n            this.renderer.setProperty(this.input.nativeElement, 'value', text);\n        }\n    };\n    SearchBarComponent.prototype.setInputSelection = function (start, end) {\n        if (isDocumentAvailable() && this.input.nativeElement === document.activeElement) {\n            try {\n                this.input.nativeElement.setSelectionRange(start, end);\n            }\n            catch (e) {\n                //Make sure that the element is in the DOM before you invoke its methods\n            }\n        }\n    };\n    SearchBarComponent.prototype.handleInput = function (event) {\n        var value = event.target.value;\n        if (value !== this.userInput && !this._composing) {\n            this._previousValue = value;\n            this.valueChange.emit(value);\n        }\n    };\n    SearchBarComponent.prototype.handleFocus = function (event) {\n        this.onFocus.emit(event);\n    };\n    SearchBarComponent.prototype.handleBlur = function (event) {\n        this.onBlur.emit(event);\n    };\n    SearchBarComponent.prototype.handleKeydown = function (event) {\n        var keyCode = event.keyCode;\n        var keys = [Keys.up, Keys.down, Keys.left, Keys.right, Keys.enter,\n            Keys.esc, Keys.delete, Keys.backspace, Keys.home, Keys.end];\n        if (keys.indexOf(keyCode) > -1) {\n            this.onNavigate.emit(event);\n        }\n    };\n    SearchBarComponent.prototype.focus = function () {\n        if (isDocumentAvailable()) {\n            this.input.nativeElement.focus();\n        }\n    };\n    SearchBarComponent.prototype.blur = function () {\n        if (isDocumentAvailable()) {\n            this.input.nativeElement.blur();\n        }\n    };\n    SearchBarComponent.prototype.setInputSize = function () {\n        var lengthOf = function (x) { return x ? x.length : 0; };\n        var input = this.input.nativeElement;\n        var placeholderLength = lengthOf(this.placeholder);\n        var textLength = lengthOf(this.value);\n        var size = Math.max(placeholderLength, textLength, 1);\n        this.renderer.setAttribute(input, 'size', size.toString());\n    };\n    SearchBarComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'kendo-searchbar',\n                    template: \"\\n        <input #input\\n            autocomplete=\\\"off\\\"\\n            [id]=\\\"id\\\"\\n            [disabled]=\\\"disabled\\\"\\n            [readonly]=\\\"readonly\\\"\\n            [placeholder]=\\\"placeholder\\\"\\n            [class]=\\\"'k-input'\\\"\\n            (input)=\\\"handleInput($event)\\\"\\n            (focus)=\\\"handleFocus($event)\\\"\\n            (blur)=\\\"handleBlur($event)\\\"\\n            (keydown)=\\\"handleKeydown($event)\\\"\\n            [attr.tabIndex]=\\\"tabIndex\\\"\\n            [attr.dir]=\\\"direction\\\"\\n            [attr.role]=\\\"role\\\"\\n            [attr.aria-disabled]=\\\"disabled\\\"\\n            [attr.aria-readonly]=\\\"readonly\\\"\\n            [attr.aria-haspopup]=\\\"true\\\"\\n            [attr.aria-expanded]=\\\"popupOpen\\\"\\n            [attr.aria-owns]=\\\"listId\\\"\\n            [attr.aria-describedby]=\\\"tagListId\\\"\\n            [attr.aria-activedescendant]=\\\"activeDescendant\\\"\\n            [attr.aria-label]=\\\"noDataLabel\\\"\\n        />\\n   \"\n                },] },\n    ];\n    /** @nocollapse */\n    SearchBarComponent.ctorParameters = function () { return [\n        { type: LocalizationService, },\n        { type: Renderer2, },\n    ]; };\n    SearchBarComponent.propDecorators = {\n        'id': [{ type: Input },],\n        'listId': [{ type: Input },],\n        'tagListId': [{ type: Input },],\n        'activeDescendant': [{ type: Input },],\n        'noDataLabel': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'readonly': [{ type: Input },],\n        'tabIndex': [{ type: Input },],\n        'popupOpen': [{ type: Input },],\n        'role': [{ type: Input },],\n        'userInput': [{ type: Input },],\n        'suggestedText': [{ type: Input },],\n        'valueChange': [{ type: Output },],\n        'onBlur': [{ type: Output },],\n        'onFocus': [{ type: Output },],\n        'onClick': [{ type: Output },],\n        'onNavigate': [{ type: Output },],\n        'input': [{ type: ViewChild, args: [\"input\",] },],\n        'searchBarClass': [{ type: HostBinding, args: ['class.k-searchbar',] },],\n        'placeholder': [{ type: Input },],\n        'compositionStart': [{ type: HostListener, args: [\"compositionstart\",] },],\n        'compositionUpdate': [{ type: HostListener, args: [\"compositionupdate\",] },],\n        'compositionEnd': [{ type: HostListener, args: [\"compositionend\",] },],\n    };\n    return SearchBarComponent;\n}());\nexport { SearchBarComponent };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the list item content. To define the item template, nest an `<ng-template>` tag\n * with the `kendo<ComponentName>ItemTemplate` directive inside the component tag. The template context is\n * set to the current component. To get a reference to the current data item, use the `let-dataItem` directive.\n *\n * - [Using `ItemTemplate` with the AutoComplete]({% slug templates_autocomplete %}#toc-item-template)\n * - [Using `ItemTemplate` with the ComboBox]({% slug templates_combobox %}#toc-item-template)\n * - [Using `ItemTemplate` with the DropDownList]({% slug templates_ddl %}#toc-item-template)\n * - [Using `ItemTemplate` with the MultiSelect]({% slug templates_multiselect %}#toc-item-template)\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-combobox [data]=\"listItems\">\n *    <ng-template kendoComboBoxItemTemplate let-dataItem>\n *      <span>{{dataItem}} option</span>\n *    </ng-template>\n *  </kendo-combobox>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar ItemTemplateDirective = /** @class */ (function () {\n    function ItemTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    ItemTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownListItemTemplate],[kendoComboBoxItemTemplate],[kendoAutoCompleteItemTemplate],[kendoMultiSelectItemTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    ItemTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return ItemTemplateDirective;\n}());\nexport { ItemTemplateDirective };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the header content of the list. To define the header template, nest an `<ng-template>` tag\n * with the `kendo<ComponentName>HeaderTemplate` directive inside the component tag.\n *\n * - [Using `HeaderTemplate` with the AutoComplete]({% slug templates_autocomplete %}#toc-header-template)\n * - [Using `HeaderTemplate` with the ComboBox]({% slug templates_combobox %}#toc-header-template)\n * - [Using `HeaderTemplate` with the DropDownList]({% slug templates_ddl %}#toc-header-template)\n * - [Using `HeaderTemplate` with the MultiSelect]({% slug templates_multiselect %}#toc-header-template)\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-combobox [data]=\"listItems\">\n *    <ng-template kendoComboBoxHeaderTemplate>\n *      <h4>Header template</h4>\n *    </ng-template>\n *  </kendo-combobox>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar HeaderTemplateDirective = /** @class */ (function () {\n    function HeaderTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    HeaderTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownListHeaderTemplate],[kendoComboBoxHeaderTemplate],[kendoAutoCompleteHeaderTemplate],[kendoMultiSelectHeaderTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    HeaderTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return HeaderTemplateDirective;\n}());\nexport { HeaderTemplateDirective };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the footer content of the list. To define the footer template, nest an `<ng-template>` tag\n * with the `kendo<ComponentName>FooterTemplate` directive inside the component tag.\n *\n * - [Using `FooterTemplate` with the AutoComplete]({% slug templates_autocomplete %}#toc-footer-template)\n * - [Using `FooterTemplate` with the ComboBox]({% slug templates_combobox %}#toc-footer-template)\n * - [Using `FooterTemplate` with the DropDownList]({% slug templates_ddl %}#toc-footer-template)\n * - [Using `FooterTemplate` with the MultiSelect]({% slug templates_multiselect %}#toc-footer-template)\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-combobox [data]=\"listItems\">\n *    <ng-template kendoComboBoxFooterTemplate>\n *      <h4>Footer template</h4>\n *    </ng-template>\n *  </kendo-combobox>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar FooterTemplateDirective = /** @class */ (function () {\n    function FooterTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    FooterTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownListFooterTemplate],[kendoComboBoxFooterTemplate],[kendoAutoCompleteFooterTemplate],[kendoMultiSelectFooterTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    FooterTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return FooterTemplateDirective;\n}());\nexport { FooterTemplateDirective };\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { isPresent } from './util';\n/**\n * @hidden\n */\nvar SelectionService = /** @class */ (function () {\n    function SelectionService() {\n        this.onSelect = new EventEmitter();\n        this.onChange = new EventEmitter();\n        this.onFocus = new EventEmitter();\n        this.selectedIndices = [];\n    }\n    SelectionService.prototype.isSelected = function (index) {\n        return isPresent(this.selectedIndices.find(function (current) { return current === index; }));\n    };\n    SelectionService.prototype.isFocused = function (index) {\n        return index === this.focused;\n    };\n    SelectionService.prototype.focus = function (index) {\n        if (this.isFocused(index)) {\n            return;\n        }\n        this.focused = index;\n        this.onFocus.emit(index);\n    };\n    SelectionService.prototype.select = function (index) {\n        if (this.isSelected(index)) {\n            return;\n        }\n        this.selectedIndices = [index];\n        this.focused = index;\n        this.onSelect.emit({\n            indices: [index],\n            newSelection: isPresent(index)\n        });\n    };\n    SelectionService.prototype.add = function (index) {\n        if (this.isSelected(index)) {\n            return;\n        }\n        this.selectedIndices.push(index);\n        this.focused = index;\n        this.onChange.emit({\n            added: index,\n            indices: this.selectedIndices.slice()\n        });\n    };\n    SelectionService.prototype.unselect = function (index) {\n        if (!this.isSelected(index)) {\n            return;\n        }\n        var position = this.selectedIndices.indexOf(index);\n        this.selectedIndices.splice(position, 1);\n        this.focused = index;\n        this.onChange.emit({\n            indices: this.selectedIndices.slice(),\n            removed: index\n        });\n    };\n    SelectionService.prototype.change = function (index) {\n        var newSelection = isPresent(index) && !this.isSelected(index);\n        this.selectedIndices = [index];\n        this.focused = index;\n        this.onChange.emit({\n            indices: [index],\n            newSelection: newSelection\n        });\n    };\n    SelectionService.prototype.resetSelection = function (index) {\n        this.selectedIndices = index instanceof Array ? index : [index];\n        this.focused = this.selectedIndices[this.selectedIndices.length - 1];\n    };\n    Object.defineProperty(SelectionService.prototype, \"selected\", {\n        get: function () {\n            return this.selectedIndices.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionService.prototype, \"focused\", {\n        get: function () {\n            return this.focusedIndex;\n        },\n        set: function (index) {\n            if (this.focusedIndex !== index) {\n                this.focusedIndex = index;\n                this.onFocus.emit(index);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    SelectionService.ctorParameters = function () { return []; };\n    return SelectionService;\n}());\nexport { SelectionService };\n","import { Injectable } from '@angular/core';\nimport { isPresent } from './util';\n/**\n * @hidden\n */\nvar DisabledItemsService = /** @class */ (function () {\n    function DisabledItemsService() {\n        this.itemDisabled = null;\n    }\n    DisabledItemsService.prototype.isIndexDisabled = function (index) {\n        if (this.itemDisabled) {\n            var item = this.data[index];\n            if (isPresent(item)) {\n                return this.itemDisabled({ dataItem: this.data[index], index: index });\n            }\n        }\n    };\n    DisabledItemsService.prototype.isItemDisabled = function (item) {\n        if (this.itemDisabled) {\n            var index = this.data.indexOf(item);\n            if (isPresent(index)) {\n                return this.itemDisabled({ dataItem: item, index: index });\n            }\n        }\n    };\n    DisabledItemsService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    DisabledItemsService.ctorParameters = function () { return []; };\n    return DisabledItemsService;\n}());\nexport { DisabledItemsService };\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { isPresent } from './util';\nimport { Keys } from './common/keys';\nimport { NavigationAction } from './navigation-action';\nimport { DisabledItemsService } from './disabled-items.service';\nvar MIN_INDEX = 0;\n/**\n * @hidden\n */\nvar NavigationEvent = /** @class */ (function () {\n    /**\n     * The index of the item to which the user navigated.\n     */\n    function NavigationEvent(index, originalEvent) {\n        this.index = index;\n        this.originalEvent = originalEvent;\n    }\n    return NavigationEvent;\n}());\nexport { NavigationEvent };\n/**\n * @hidden\n */\nvar NavigationService = /** @class */ (function () {\n    function NavigationService(disabledItemsService) {\n        this.disabledItemsService = disabledItemsService;\n        this.open = new EventEmitter();\n        this.close = new EventEmitter();\n        this.enter = new EventEmitter();\n        this.tab = new EventEmitter();\n        this.esc = new EventEmitter();\n        this.up = new EventEmitter();\n        this.right = new EventEmitter();\n        this.down = new EventEmitter();\n        this.left = new EventEmitter();\n        this.delete = new EventEmitter();\n        this.backspace = new EventEmitter();\n        this.home = new EventEmitter();\n        this.end = new EventEmitter();\n    }\n    NavigationService.prototype.process = function (args) {\n        var keyCode = args.originalEvent.keyCode;\n        var altKey = args.originalEvent.altKey;\n        var index;\n        var action = NavigationAction.Undefined;\n        if (altKey && keyCode === Keys.down) {\n            action = NavigationAction.Open;\n        }\n        else if (altKey && keyCode === Keys.up) {\n            action = NavigationAction.Close;\n        }\n        else if (keyCode === Keys.enter) {\n            action = NavigationAction.Enter;\n        }\n        else if (keyCode === Keys.esc) {\n            action = NavigationAction.Esc;\n        }\n        else if (keyCode === Keys.tab) {\n            action = NavigationAction.Tab;\n        }\n        else if (keyCode === Keys.up) {\n            index = this.next({ current: args.current, start: args.max, end: args.min, step: -1 });\n            action = NavigationAction.Up;\n        }\n        else if (keyCode === Keys.left) {\n            index = this.next({ current: args.current, start: args.max, end: args.min, step: -1 });\n            action = NavigationAction.Left;\n        }\n        else if (keyCode === Keys.down) {\n            index = this.next({ current: args.current, start: args.min, end: args.max, step: 1 });\n            action = NavigationAction.Down;\n        }\n        else if (keyCode === Keys.right) {\n            index = this.next({ current: args.current, start: args.min, end: args.max, step: 1 });\n            action = NavigationAction.Right;\n        }\n        else if (keyCode === Keys.home) {\n            index = this.isDisabled(MIN_INDEX) ? args.current : MIN_INDEX;\n            action = NavigationAction.Home;\n        }\n        else if (keyCode === Keys.end) {\n            index = this.isDisabled(args.max) ? args.current : args.max;\n            action = NavigationAction.End;\n        }\n        else if (keyCode === Keys.delete) {\n            action = NavigationAction.Delete;\n        }\n        else if (keyCode === Keys.backspace) {\n            action = NavigationAction.Backspace;\n        }\n        var eventData = new NavigationEvent(index, args.originalEvent);\n        if (action !== NavigationAction.Undefined) {\n            this[NavigationAction[action].toLowerCase()].emit(eventData);\n        }\n        return action;\n    };\n    NavigationService.prototype.next = function (args) {\n        var nextIndex;\n        if (!isPresent(args.current)) {\n            nextIndex = args.start;\n        }\n        else {\n            nextIndex = args.current !== args.end ? args.current + args.step : args.end;\n        }\n        if (!this.isDisabled(nextIndex)) {\n            return nextIndex;\n        }\n        else {\n            //start and end are changed according to the navigation direction\n            var isInBound = (args.start < args.end) ?\n                function (i) { return i >= args.start && i <= args.end; } : function (i) { return i >= args.end && i <= args.start; };\n            while (isInBound(nextIndex)) {\n                if (!this.isDisabled(nextIndex)) {\n                    return nextIndex;\n                }\n                nextIndex = nextIndex + args.step;\n            }\n            return args.current;\n        }\n    };\n    NavigationService.prototype.isDisabled = function (index) {\n        if (this.disabledItemsService) {\n            return this.disabledItemsService.isIndexDisabled(index);\n        }\n    };\n    NavigationService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    NavigationService.ctorParameters = function () { return [\n        { type: DisabledItemsService, },\n    ]; };\n    return NavigationService;\n}());\nexport { NavigationService };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders content when no data is available. To define the no-data template, nest a `<ng-template>` tag\n * with the `kendo<ComponentName>NoDataTemplate` directive inside the component tag.\n *\n * - [Using `NoDataTemplate` with the AutoComplete]({% slug templates_autocomplete %}#toc-no-data-template)\n * - [Using `NoDataTemplate` with the ComboBox]({% slug templates_combobox %}#toc-no-data-template)\n * - [Using `NoDataTemplate` with the DropDownList]({% slug templates_ddl %}#toc-no-data-template)\n * - [Using `NoDataTemplate` with the MultiSelect]({% slug templates_multiselect %}#toc-no-data-template)\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-combobox [data]=\"listItems\">\n *    <ng-template kendoComboBoxNoDataTemplate>\n *      <h4>No data!</h4>\n *    </ng-template>\n *  </kendo-combobox>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [];\n * }\n * ```\n */\nvar NoDataTemplateDirective = /** @class */ (function () {\n    function NoDataTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    NoDataTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownListNoDataTemplate],[kendoComboBoxNoDataTemplate],[kendoAutoCompleteNoDataTemplate],[kendoMultiSelectNoDataTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    NoDataTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return NoDataTemplateDirective;\n}());\nexport { NoDataTemplateDirective };\n","/**\n * @hidden\n */\nvar PreventableEvent = /** @class */ (function () {\n    function PreventableEvent() {\n        this.prevented = false;\n    }\n    /**\n     * Prevents the default action for a specified event.\n     * In this way, the source component suppresses the built-in behavior that follows the event.\n     */\n    PreventableEvent.prototype.preventDefault = function () {\n        this.prevented = true;\n    };\n    /**\n     * If the event is prevented by any of its subscribers, returns `true`.\n     *\n     * @returns `true` if the default action was prevented. Otherwise, returns `false`.\n     */\n    PreventableEvent.prototype.isDefaultPrevented = function () {\n        return this.prevented;\n    };\n    return PreventableEvent;\n}());\nexport { PreventableEvent };\n","export default {\n    \"bottom\": \"bottom\",\n    \"center\": \"center\",\n    \"middle\": \"middle\",\n    \"left\": \"left\",\n    \"right\": \"right\",\n    \"top\": \"top\"\n};\n","export default function ownerDocument(element) {\n    return element.ownerDocument || element.document || element;\n}\n","import ownerDocument from './owner-document';\n\nvar getWindow = function (element) { return ownerDocument(element).defaultView; };\n\nexport default getWindow;\n","import ownerDocument from './owner-document';\n\nvar getDocument = function (element) { return ownerDocument(element).documentElement; };\n\nexport default getDocument;\n","var cachedWidth = 0;\n\nexport default function scrollbarWidth() {\n    if (!cachedWidth && typeof document !== 'undefined') {\n        var div = document.createElement(\"div\");\n\n        div.style.cssText = \"overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block\";\n        div.innerHTML = \"&nbsp;\";\n        document.body.appendChild(div);\n\n        cachedWidth = div.offsetWidth - div.scrollWidth;\n\n        document.body.removeChild(div);\n    }\n\n    return cachedWidth;\n}\n","import wnd from './window';\nimport getDocument from './document';\nimport scrollbarWidth from './scrollbar-width';\n\nexport default function windowViewport(element) {\n    var win = wnd(element);\n    var document = getDocument(element);\n    var result = {\n        height: win.innerHeight,\n        width: win.innerWidth\n    };\n\n    if (document.scrollHeight - document.clientHeight > 0) {\n        result.width -= scrollbarWidth();\n    }\n\n    return result;\n}\n","import windowViewport from './window-viewport';\n\nvar boundingOffset = function (element) {\n    if (!element.getBoundingClientRect) {\n        var viewport = windowViewport(element);\n        return {\n            bottom: viewport.height,\n            left: 0,\n            right: viewport.width,\n            top: 0\n        };\n    }\n\n    var ref = element.getBoundingClientRect();\n    var bottom = ref.bottom;\n    var left = ref.left;\n    var right = ref.right;\n    var top = ref.top;\n\n    return {\n        bottom: bottom,\n        left: left,\n        right: right,\n        top: top\n    };\n};\n\nexport default boundingOffset;\n","import documentElement from './document';\n\nvar offsetParent = function (element) {\n    var offsetParent = element.offsetParent;\n\n    while (offsetParent && offsetParent.style.position === \"static\") {\n        offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || documentElement(element);\n};\n\nexport default offsetParent;\n","var rectOfHiddenElement = function (element) {\n    var ref = element.style;\n    var display = ref.display;\n    var left = ref.left;\n    var position = ref.position;\n\n    element.style.display = '';\n    element.style.left = '-10000px';\n    element.style.position = 'absolute';\n\n    var rect = element.getBoundingClientRect();\n\n    element.style.display = display;\n    element.style.left = left;\n    element.style.position = position;\n\n    return rect;\n};\n\nvar offset = function (element) {\n    var rect = element.getBoundingClientRect();\n    var left = rect.left;\n    var top = rect.top;\n\n    if (!rect.height && !rect.width) {\n        rect = rectOfHiddenElement(element);\n    }\n\n    return {\n        top: top,\n        left: left,\n        height: rect.height,\n        width: rect.width\n    };\n};\n\nexport default offset;\n","export default function (element, until) {\n    var result = [];\n    var next = element.parentNode;\n\n    while (next) {\n        result.push(next);\n\n        if (next === until) { break; }\n\n        next = next.parentNode;\n    }\n\n    return result;\n};\n","import docElement from './document';\nimport wnd from './window';\n\nexport default function scrollPosition(element) {\n    var documentElement = docElement(element);\n    var win = wnd(element);\n\n    return {\n        x: win.pageXOffset || documentElement.scrollLeft || 0,\n        y: win.pageYOffset || documentElement.scrollTop || 0\n    };\n}\n","import scrollPosition from './scroll-position';\n\nexport default function (element) {\n    if (element === (element.ownerDocument || {}).body) {\n        return scrollPosition(element);\n    }\n\n    return {\n        x: element.scrollLeft,\n        y: element.scrollTop\n    };\n};\n","import offsetParent from './offset-parent';\nimport offsetRect from './offset';\nimport wnd from './window';\n\nvar position = function (element, parent) {\n    var win = wnd(element);\n    var elementStyles = win.getComputedStyle(element);\n    var offset = offsetRect(element);\n    var parentElement = parent || offsetParent(element);\n\n    var ownerDocument = element.ownerDocument;\n    var useRelative = parentElement !== ownerDocument.body && parentElement !== ownerDocument.documentElement;\n\n    var parentOffset = { top: 0, left: 0 };\n\n    if (elementStyles.position !== \"fixed\" && useRelative) {\n        var parentStyles = win.getComputedStyle(parentElement);\n\n        parentOffset = offsetRect(parentElement);\n        parentOffset.top += parseInt(parentStyles.borderTopWidth, 10);\n        parentOffset.left += parseInt(parentStyles.borderLeftWidth, 10);\n    }\n\n    return {\n        top: offset.top - parentOffset.top,\n        left: offset.left - parentOffset.left,\n        height: offset.height,\n        width: offset.width\n    };\n};\n\nexport default position;\n","import elementScrollPosition from './element-scroll-position';\nimport parentScrollPosition from './parent-scroll-position';\n\nexport default function (offsetParentElement, element) { return ( // eslint-disable-line no-arrow-condition\n    offsetParentElement ? elementScrollPosition(offsetParentElement) : parentScrollPosition(element)\n); };\n","import offsetParent from './offset-parent';\nimport elementScrollPosition from './element-scroll-position';\n\nexport default function parentScrollPosition(element) {\n    var parent = offsetParent(element);\n\n    return parent ? elementScrollPosition(parent) : { x: 0, y: 0 };\n}\n","export default {\n    \"fit\": \"fit\",\n    \"flip\": \"flip\"\n};\n","import alignPoint from './align-point';\nimport collision from './collision';\n\nvar fit = function(position, size, viewPortSize) {\n    var output = 0;\n\n    if (position + size > viewPortSize) {\n        output = viewPortSize - (position + size);\n    }\n\n    if (position < 0) {\n        output = -position;\n    }\n\n    return output;\n};\n\nvar flip = function(ref) {\n    var offset = ref.offset;\n    var size = ref.size;\n    var anchorSize = ref.anchorSize;\n    var viewPortSize = ref.viewPortSize;\n    var anchorAlignPoint = ref.anchorAlignPoint;\n    var elementAlignPoint = ref.elementAlignPoint;\n    var margin = ref.margin;\n\n    var output = 0;\n\n    var isPositionCentered = elementAlignPoint === alignPoint.center || elementAlignPoint === alignPoint.middle;\n    var isOriginCentered = anchorAlignPoint === alignPoint.center || anchorAlignPoint === alignPoint.middle;\n    var marginToAdd = 2 * margin; //2x to keep margin after flip\n\n    if (elementAlignPoint !== anchorAlignPoint && !isPositionCentered && !isOriginCentered) {\n        var isBeforeAnchor = anchorAlignPoint === alignPoint.top || anchorAlignPoint === alignPoint.left;\n        if (offset < 0 && isBeforeAnchor) {\n            output = size + anchorSize + marginToAdd;\n            if (offset + output + size > viewPortSize) {\n                output = 0; //skip flip\n            }\n        } else if (offset >= 0 && !isBeforeAnchor) {\n            if (offset + size > viewPortSize) {\n                output += -(anchorSize + size + marginToAdd);\n            }\n\n            if (offset + output < 0) {\n                output = 0; //skip flip\n            }\n        }\n    }\n\n    return output;\n};\n\nvar restrictToView = function (options) {\n    var anchorRect = options.anchorRect;\n    var anchorAlign = options.anchorAlign;\n    var elementRect = options.elementRect;\n    var elementAlign = options.elementAlign;\n    var collisions = options.collisions;\n    var viewPort = options.viewPort;\n    var margin = options.margin; if ( margin === void 0 ) margin = {};\n    var elementTop = elementRect.top;\n    var elementLeft = elementRect.left;\n    var elementHeight = elementRect.height;\n    var elementWidth = elementRect.width;\n    var viewPortHeight = viewPort.height;\n    var viewPortWidth = viewPort.width;\n    var horizontalMargin = margin.horizontal || 0;\n    var verticalMargin = margin.vertical || 0;\n\n    var left = 0;\n    var top = 0;\n\n    var isHorizontalFlip = collisions.horizontal === collision.flip;\n    var isVerticalFlip = collisions.vertical === collision.flip;\n\n    if (collisions.vertical === collision.fit) {\n        top += fit(elementTop, elementHeight, viewPortHeight);\n    }\n\n    if (collisions.horizontal === collision.fit) {\n        left += fit(elementLeft, elementWidth, viewPortWidth);\n    }\n\n    if (isVerticalFlip) {\n        top += flip({\n            margin: verticalMargin,\n            offset: elementTop,\n            size: elementHeight,\n            anchorSize: anchorRect.height,\n            viewPortSize: viewPortHeight,\n            anchorAlignPoint: anchorAlign.vertical,\n            elementAlignPoint: elementAlign.vertical\n        });\n    }\n\n    if (isHorizontalFlip) {\n        left += flip({\n            margin: horizontalMargin,\n            offset: elementLeft,\n            size: elementWidth,\n            anchorSize: anchorRect.width,\n            viewPortSize: viewPortWidth,\n            anchorAlignPoint: anchorAlign.horizontal,\n            elementAlignPoint: elementAlign.horizontal\n        });\n    }\n    var flippedHorizontal = isHorizontalFlip && left !== 0;\n    var flippedVertical = isVerticalFlip && top !== 0;\n\n    return {\n        flipped: flippedHorizontal || flippedVertical,\n        flip: {\n            horizontal: flippedHorizontal,\n            vertical: flippedVertical\n        },\n        offset: {\n            left: left,\n            top: top\n        }\n    };\n};\n\nexport default restrictToView;\n","export default function (element) {\n    var result = [];\n\n    var sibling = element.parentNode.firstElementChild;\n\n    while (sibling) {\n        if (sibling !== element) {\n            result.push(sibling);\n        }\n\n        sibling = sibling.nextElementSibling;\n    }\n    return result;\n};\n","import { parents, siblingContainer } from '@progress/kendo-popup-common';\n/**\n * @hidden\n */\nexport var eitherRect = function (rect, offset) {\n    if (!rect) {\n        return { height: 0, left: offset.left, top: offset.top, width: 0 };\n    }\n    return rect;\n};\n/**\n * @hidden\n */\nexport var replaceOffset = function (rect, offset) {\n    if (!offset) {\n        return rect;\n    }\n    var result = {\n        height: rect.height,\n        left: offset.left,\n        top: offset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nexport var removeStackingOffset = function (rect, stackingOffset) {\n    if (!stackingOffset) {\n        return rect;\n    }\n    var result = {\n        height: rect.height,\n        left: rect.left - stackingOffset.left,\n        top: rect.top - stackingOffset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nexport var isDifferentOffset = function (oldOffset, newOffset) {\n    var oldLeft = oldOffset.left, oldTop = oldOffset.top;\n    var newLeft = newOffset.left, newTop = newOffset.top;\n    return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\nexport var isDocumentAvailable = function () {\n    return typeof document !== 'undefined' && !!document.body;\n};\n/**\n * @hidden\n */\nexport var isWindowAvailable = function () {\n    return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\nexport var hasBoundingRect = function (elem) { return !!elem.getBoundingClientRect; };\n/**\n * @hidden\n */\nexport var OVERFLOW_REGEXP = /auto|scroll/;\nvar overflowElementStyle = function (element) {\n    return \"\" + element.style.overflow + element.style.overflowX + element.style.overflowY;\n};\nvar overflowComputedStyle = function (element) {\n    var styles = window.getComputedStyle(element);\n    return \"\" + styles.overflow + styles.overflowX + styles.overflowY;\n};\nvar overflowStyle = function (element) {\n    return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\nexport var scrollableParents = function (element) {\n    var parentElements = [];\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n        return parentElements;\n    }\n    var parent = element.parentElement;\n    while (parent) {\n        if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n            parentElements.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    parentElements.push(window);\n    return parentElements;\n};\n/**\n * @hidden\n */\nexport var FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\n/**\n * @hidden\n */\nexport var hasRelativeStackingContext = function () {\n    if (!isDocumentAvailable()) {\n        return false;\n    }\n    var top = 10;\n    var parent = document.createElement(\"div\");\n    parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n    parent.innerHTML = \"<div style=\\\"position: fixed; top: \" + top + \"px;\\\">child</div>\";\n    document.body.appendChild(parent);\n    var isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n    document.body.removeChild(parent);\n    return isDifferent;\n};\n/**\n * @hidden\n */\nexport var HAS_RELATIVE_STACKING_CONTEXT = hasRelativeStackingContext();\n/**\n * @hidden\n */\nexport var zIndex = function (anchor, container) {\n    if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n        return null;\n    }\n    var sibling = siblingContainer(anchor, container);\n    if (!sibling) {\n        return null;\n    }\n    var result = [anchor].concat(parents(anchor, sibling)).reduce(function (index, p) {\n        var zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n        var current = parseInt(zIndexStyle, 10);\n        return current > index ? current : index;\n    }, 0);\n    return result ? (result + 1) : null;\n};\n","/* eslint-disable no-loop-func */\n\nimport parents from './parents';\nimport siblings from './siblings';\n\nexport default function (anchor, container) {\n    var parentElements = parents(anchor);\n    var containerElement = container;\n    var siblingElements;\n    var result;\n\n    while (containerElement) {\n        siblingElements = siblings(containerElement);\n\n        result = parentElements.reduce(\n            function (list, p) { return list.concat(siblingElements.filter(function (s) { return s === p; })); },\n            []\n        )[0];\n\n        if (result) { break; }\n\n        containerElement = containerElement.parentElement;\n    }\n\n    return result;\n};\n\n","import { Injectable } from '@angular/core';\nimport { align, boundingOffset, getWindowViewPort, offset, positionWithScroll, restrictToView, addScroll, removeScroll, scrollPosition } from '@progress/kendo-popup-common';\nimport { isDocumentAvailable, isWindowAvailable, HAS_RELATIVE_STACKING_CONTEXT, scrollableParents, zIndex } from '../util';\nvar STYLES = [\n    'font-size',\n    'font-family',\n    'font-stretch',\n    'font-style',\n    'font-weight',\n    'line-height'\n];\n/**\n * @hidden\n */\nvar DOMService = /** @class */ (function () {\n    function DOMService() {\n    }\n    DOMService.prototype.addOffset = function (current, addition) {\n        return {\n            left: current.left + addition.left,\n            top: current.top + addition.top\n        };\n    };\n    DOMService.prototype.addScroll = function (rect, scroll) {\n        return addScroll(rect, scroll);\n    };\n    DOMService.prototype.align = function (settings) {\n        return align(settings);\n    };\n    DOMService.prototype.boundingOffset = function (el) {\n        return boundingOffset(this.nativeElement(el));\n    };\n    DOMService.prototype.getFontStyles = function (el) {\n        var window = this.getWindow();\n        if (!window || !el) {\n            return [];\n        }\n        var computedStyles = window.getComputedStyle(this.nativeElement(el));\n        return STYLES.map(function (font) { return ({ key: font, value: computedStyles[font] }); });\n    };\n    DOMService.prototype.getWindow = function () {\n        return isWindowAvailable() ? window : null;\n    };\n    DOMService.prototype.hasOffsetParent = function (el) {\n        if (!el) {\n            return false;\n        }\n        return !!this.nativeElement(el).offsetParent;\n    };\n    DOMService.prototype.offset = function (el) {\n        if (!el) {\n            return null;\n        }\n        return offset(this.nativeElement(el));\n    };\n    DOMService.prototype.offsetAtPoint = function (el, currentLocation) {\n        if (!el) {\n            return null;\n        }\n        var element = this.nativeElement(el);\n        var _a = element.style, left = _a.left, top = _a.top, transition = _a.transition;\n        element.style.transition = 'none';\n        element.style.left = currentLocation.left + \"px\";\n        element.style.top = currentLocation.top + \"px\";\n        var currentOffset = offset(element);\n        element.style.left = left;\n        element.style.top = top;\n        // prevents elements with transition to be animated because of the change\n        // tslint:disable-next-line:no-unused-expression\n        element.offsetHeight;\n        element.style.transition = transition;\n        return currentOffset;\n    };\n    DOMService.prototype.nativeElement = function (el) {\n        if (!el) {\n            return null;\n        }\n        return el.nativeElement || el;\n    };\n    DOMService.prototype.position = function (element, popup) {\n        if (!element || !popup) {\n            return null;\n        }\n        return positionWithScroll(this.nativeElement(element), this.nativeElement(popup));\n    };\n    DOMService.prototype.removeScroll = function (rect, scroll) {\n        return removeScroll(rect, scroll);\n    };\n    DOMService.prototype.restrictToView = function (settings) {\n        return restrictToView(settings);\n    };\n    DOMService.prototype.scrollPosition = function (el) {\n        return scrollPosition(this.nativeElement(el));\n    };\n    DOMService.prototype.scrollableParents = function (el) {\n        return scrollableParents(this.nativeElement(el));\n    };\n    DOMService.prototype.stackingElementOffset = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return offset(relativeContextElement);\n    };\n    DOMService.prototype.stackingElementScroll = function (el) {\n        var relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return { x: 0, y: 0 };\n        }\n        return {\n            x: relativeContextElement.scrollLeft,\n            y: relativeContextElement.scrollTop\n        };\n    };\n    DOMService.prototype.getRelativeContextElement = function (el) {\n        if (!el || !HAS_RELATIVE_STACKING_CONTEXT) {\n            return null;\n        }\n        var parent = this.nativeElement(el).parentElement;\n        while (parent) {\n            if (window.getComputedStyle(parent).transform !== 'none') {\n                return parent;\n            }\n            parent = parent.parentElement;\n        }\n        return null;\n    };\n    DOMService.prototype.useRelativePosition = function (el) {\n        return !!this.getRelativeContextElement(el);\n    };\n    DOMService.prototype.windowViewPort = function (el) {\n        return getWindowViewPort(this.nativeElement(el));\n    };\n    DOMService.prototype.zIndex = function (anchor, container) {\n        return zIndex(this.nativeElement(anchor), this.nativeElement(container));\n    };\n    DOMService.prototype.zoomLevel = function () {\n        if (!isDocumentAvailable() || !isWindowAvailable()) {\n            return 1;\n        }\n        return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n    };\n    DOMService.prototype.isZoomed = function () {\n        return this.zoomLevel() > 1;\n    };\n    DOMService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    DOMService.ctorParameters = function () { return []; };\n    return DOMService;\n}());\nexport { DOMService };\n","export default function addScroll(rect, scroll) {\n    return {\n        top: rect.top + scroll.y,\n        left: rect.left + scroll.x,\n        height: rect.height,\n        width: rect.width\n    };\n}\n","import point from './align-point';\n\nvar align = function (options) {\n    var anchorRect = options.anchorRect;\n    var anchorAlign = options.anchorAlign;\n    var elementRect = options.elementRect;\n    var elementAlign = options.elementAlign;\n    var margin = options.margin; if ( margin === void 0 ) margin = {};\n    var anchorHorizontal = anchorAlign.horizontal;\n    var anchorVertical = anchorAlign.vertical;\n    var elementHorizontal = elementAlign.horizontal;\n    var elementVertical = elementAlign.vertical;\n\n    var horizontalMargin = margin.horizontal || 0;\n    var verticalMargin = margin.vertical || 0;\n\n    var top = anchorRect.top;\n    var left = anchorRect.left;\n\n    if (anchorVertical === point.bottom) {\n        top += anchorRect.height;\n    }\n\n    if (anchorVertical === point.center || anchorVertical === point.middle) {\n        top += Math.round(anchorRect.height / 2);\n    }\n\n    if (elementVertical === point.bottom) {\n        top -= elementRect.height;\n        verticalMargin *= -1;\n    }\n\n    if (elementVertical === point.center || elementVertical === point.middle) {\n        top -= Math.round(elementRect.height / 2);\n        verticalMargin *= -1;\n    }\n\n    if (anchorHorizontal === point.right) {\n        left += anchorRect.width;\n    }\n\n    if (anchorHorizontal === point.center || anchorHorizontal === point.middle) {\n        left += Math.round(anchorRect.width / 2);\n    }\n\n    if (elementHorizontal === point.right) {\n        left -= elementRect.width;\n        horizontalMargin *= -1;\n    }\n\n    if (elementHorizontal === point.center || elementHorizontal === point.middle) {\n        left -= Math.round(elementRect.width / 2);\n        horizontalMargin *= -1;\n    }\n\n    return {\n        top: top + verticalMargin,\n        left: left + horizontalMargin\n    };\n};\n\nexport default align;\n","import offsetParentScrollPosition from './offset-parent-scroll-position';\nimport offsetParent from './offset-parent';\nimport position from './position';\n\nexport default function (element, parent) {\n    var offsetParentElement = parent ? offsetParent(parent) : null;\n    var ref = position(element, offsetParentElement);\n    var top = ref.top;\n    var left = ref.left;\n    var height = ref.height;\n    var width = ref.width;\n    var ref$1 = offsetParentScrollPosition(offsetParentElement, element);\n    var x = ref$1.x;\n    var y = ref$1.y;\n\n    return {\n        top: top + y,\n        left: left + x,\n        height: height,\n        width: width\n    };\n};\n","export default function removeScroll(rect, scroll) {\n    return {\n        top: rect.top - scroll.y,\n        left: rect.left - scroll.x,\n        height: rect.height,\n        width: rect.width\n    };\n}\n","import { Injectable } from '@angular/core';\nimport { DOMService } from './dom.service';\nimport { eitherRect, removeStackingOffset } from '../util';\n/**\n * @hidden\n */\nvar AlignService = /** @class */ (function () {\n    function AlignService(_dom) {\n        this._dom = _dom;\n    }\n    AlignService.prototype.alignElement = function (settings) {\n        var anchor = settings.anchor, element = settings.element, anchorAlign = settings.anchorAlign, elementAlign = settings.elementAlign, margin = settings.margin, offset = settings.offset, positionMode = settings.positionMode;\n        var fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n        var anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset) : this.relativeRect(anchor, element, offset);\n        return this._dom.align({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            elementAlign: elementAlign,\n            elementRect: this._dom.offset(element),\n            margin: margin\n        });\n    };\n    AlignService.prototype.absoluteRect = function (anchor, element, offset) {\n        return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(eitherRect(this._dom.offset(anchor), offset), this._dom.stackingElementOffset(element)), this._dom.stackingElementScroll(element)), this.elementScrollPosition(anchor, element));\n    };\n    AlignService.prototype.elementScrollPosition = function (anchor, element) {\n        return anchor ? { x: 0, y: 0 } : this._dom.scrollPosition(element);\n    };\n    AlignService.prototype.relativeRect = function (anchor, element, offset) {\n        return eitherRect(this._dom.position(anchor, element), offset);\n    };\n    AlignService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    AlignService.ctorParameters = function () { return [\n        { type: DOMService, },\n    ]; };\n    return AlignService;\n}());\nexport { AlignService };\n","import { Injectable } from '@angular/core';\nimport { DOMService } from './dom.service';\nimport { eitherRect } from '../util';\n/**\n * @hidden\n */\nvar PositionService = /** @class */ (function () {\n    function PositionService(_dom) {\n        this._dom = _dom;\n    }\n    PositionService.prototype.positionElement = function (settings) {\n        var anchor = settings.anchor, currentLocation = settings.currentLocation, element = settings.element, anchorAlign = settings.anchorAlign, elementAlign = settings.elementAlign, collisions = settings.collisions, margin = settings.margin;\n        var dom = this._dom;\n        var result = dom.restrictToView({\n            anchorAlign: anchorAlign,\n            anchorRect: eitherRect(dom.offset(anchor), currentLocation),\n            collisions: collisions,\n            elementAlign: elementAlign,\n            elementRect: dom.offsetAtPoint(element, currentLocation),\n            margin: margin,\n            viewPort: settings.viewPort || dom.windowViewPort(element)\n        });\n        return {\n            flip: result.flip,\n            flipped: result.flipped,\n            offset: dom.addOffset(currentLocation, result.offset)\n        };\n    };\n    PositionService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    PositionService.ctorParameters = function () { return [\n        { type: DOMService, },\n    ]; };\n    return PositionService;\n}());\nexport { PositionService };\n","import { Injectable, NgZone } from '@angular/core';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { auditTime } from 'rxjs/operators/auditTime';\nimport { FRAME_DURATION, isDocumentAvailable } from '../util';\nimport { DOMService } from './dom.service';\n/**\n * @hidden\n */\nvar ResizeService = /** @class */ (function () {\n    function ResizeService(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    ResizeService.prototype.subscribe = function (callback) {\n        var _this = this;\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this._zone.runOutsideAngular(function () {\n            _this.subscription = fromEvent(_this._dom.getWindow(), \"resize\")\n                .pipe(auditTime(FRAME_DURATION))\n                .subscribe(function () { return callback(); });\n        });\n    };\n    ResizeService.prototype.unsubscribe = function () {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    };\n    ResizeService.prototype.isUnsubscribed = function () {\n        return this.subscription && this.subscription.closed;\n    };\n    ResizeService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ResizeService.ctorParameters = function () { return [\n        { type: DOMService, },\n        { type: NgZone, },\n    ]; };\n    return ResizeService;\n}());\nexport { ResizeService };\n","import { Injectable, NgZone } from '@angular/core';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { merge } from 'rxjs/observable/merge';\nimport { auditTime } from 'rxjs/operators/auditTime';\nimport { DOMService } from './dom.service';\nimport { FRAME_DURATION, isDocumentAvailable } from '../util';\n/**\n * @hidden\n */\nexport var THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\nvar ScrollableService = /** @class */ (function () {\n    function ScrollableService(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    ScrollableService.prototype.forElement = function (element) {\n        this.unsubscribe();\n        this.element = element;\n        return this;\n    };\n    ScrollableService.prototype.subscribe = function (callback) {\n        var _this = this;\n        if (!callback || !isDocumentAvailable() || !this.element) {\n            return;\n        }\n        var nativeElement = this._dom.nativeElement(this.element);\n        var parents = this._dom.scrollableParents(this.element);\n        this._zone.runOutsideAngular(function () {\n            var observables = parents.map(function (p) { return fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)); });\n            var subscriber = function (e) {\n                var target = e.target;\n                var isParent = parents.filter(function (p) { return p === target; }).length > 0;\n                var isDocument = target === document;\n                var isWindow = target === window;\n                if (isParent || isDocument || isWindow) {\n                    callback(_this.isVisible(nativeElement, target));\n                }\n            };\n            _this.subscription = merge.apply(void 0, observables).subscribe(subscriber);\n        });\n    };\n    ScrollableService.prototype.unsubscribe = function () {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    };\n    ScrollableService.prototype.isVisible = function (elem, container) {\n        var elemRect = this._dom.boundingOffset(elem);\n        var containerRect = this._dom.boundingOffset(container);\n        if (THRESHOLD_DIFF < (containerRect.top - elemRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.top - containerRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.left - containerRect.right)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (containerRect.left - elemRect.right)) {\n            return false;\n        }\n        return true;\n    };\n    ScrollableService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ScrollableService.ctorParameters = function () { return [\n        { type: DOMService, },\n        { type: NgZone, },\n    ]; };\n    return ScrollableService;\n}());\nexport { ScrollableService };\n","/**\n * @license Angular v7.2.4\n * (c) 2010-2019 Google LLC. https://angular.io/\n * License: MIT\n */\n\n/**\n * An injectable service that produces an animation sequence programmatically within an\n * Angular component or directive.\n * Provided by the `BrowserAnimationsModule` or `NoopAnimationsModule`.\n *\n * @usageNotes\n *\n * To use this service, add it to your component or directive as a dependency.\n * The service is instantiated along with your component.\n *\n * Apps do not typically need to create their own animation players, but if you\n * do need to, follow these steps:\n *\n * 1. Use the `build()` method to create a programmatic animation using the\n * `animate()` function. The method returns an `AnimationFactory` instance.\n *\n * 2. Use the factory object to create an `AnimationPlayer` and attach it to a DOM element.\n *\n * 3. Use the player object to control the animation programmatically.\n *\n * For example:\n *\n * ```ts\n * // import the service from BrowserAnimationsModule\n * import {AnimationBuilder} from '@angular/animations';\n * // require the service as a dependency\n * class MyCmp {\n *   constructor(private _builder: AnimationBuilder) {}\n *\n *   makeAnimation(element: any) {\n *     // first define a reusable animation\n *     const myAnimation = this._builder.build([\n *       style({ width: 0 }),\n *       animate(1000, style({ width: '100px' }))\n *     ]);\n *\n *     // use the returned factory object to create a player\n *     const player = myAnimation.create(element);\n *\n *     player.play();\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nvar AnimationBuilder = /** @class */ (function () {\n    function AnimationBuilder() {\n    }\n    return AnimationBuilder;\n}());\n/**\n * A factory object returned from the `AnimationBuilder`.`build()` method.\n *\n * @publicApi\n */\nvar AnimationFactory = /** @class */ (function () {\n    function AnimationFactory() {\n    }\n    return AnimationFactory;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Specifies automatic styling.\n *\n * @publicApi\n */\nvar AUTO_STYLE = '*';\n/**\n * Creates a named animation trigger, containing a  list of `state()`\n * and `transition()` entries to be evaluated when the expression\n * bound to the trigger changes.\n *\n * @param name An identifying string.\n * @param definitions  An animation definition object, containing an array of `state()`\n * and `transition()` declarations.\n *\n * @return An object that encapsulates the trigger data.\n *\n * @usageNotes\n * Define an animation trigger in the `animations` section of `@Component` metadata.\n * In the template, reference the trigger by name and bind it to a trigger expression that\n * evaluates to a defined animation state, using the following format:\n *\n * `[@triggerName]=\"expression\"`\n *\n * Animation trigger bindings convert all values to strings, and then match the\n * previous and current values against any linked transitions.\n * Booleans can be specified as `1` or `true` and `0` or `false`.\n *\n * ### Usage Example\n *\n * The following example creates an animation trigger reference based on the provided\n * name value.\n * The provided animation value is expected to be an array consisting of state and\n * transition declarations.\n *\n * ```typescript\n * @Component({\n *   selector: \"my-component\",\n *   templateUrl: \"my-component-tpl.html\",\n *   animations: [\n *     trigger(\"myAnimationTrigger\", [\n *       state(...),\n *       state(...),\n *       transition(...),\n *       transition(...)\n *     ])\n *   ]\n * })\n * class MyComponent {\n *   myStatusExp = \"something\";\n * }\n * ```\n *\n * The template associated with this component makes use of the defined trigger\n * by binding to an element within its template code.\n *\n * ```html\n * <!-- somewhere inside of my-component-tpl.html -->\n * <div [@myAnimationTrigger]=\"myStatusExp\">...</div>\n * ```\n *\n * ### Using an inline function\n * The `transition` animation method also supports reading an inline function which can decide\n * if its associated animation should be run.\n *\n * ```typescript\n * // this method is run each time the `myAnimationTrigger` trigger value changes.\n * function myInlineMatcherFn(fromState: string, toState: string, element: any, params: {[key:\n string]: any}): boolean {\n *   // notice that `element` and `params` are also available here\n *   return toState == 'yes-please-animate';\n * }\n *\n * @Component({\n *   selector: 'my-component',\n *   templateUrl: 'my-component-tpl.html',\n *   animations: [\n *     trigger('myAnimationTrigger', [\n *       transition(myInlineMatcherFn, [\n *         // the animation sequence code\n *       ]),\n *     ])\n *   ]\n * })\n * class MyComponent {\n *   myStatusExp = \"yes-please-animate\";\n * }\n * ```\n *\n * ### Disabling Animations\n * When true, the special animation control binding `@.disabled` binding prevents\n * all animations from rendering.\n * Place the  `@.disabled` binding on an element to disable\n * animations on the element itself, as well as any inner animation triggers\n * within the element.\n *\n * The following example shows how to use this feature:\n *\n * ```typescript\n * @Component({\n *   selector: 'my-component',\n *   template: `\n *     <div [@.disabled]=\"isDisabled\">\n *       <div [@childAnimation]=\"exp\"></div>\n *     </div>\n *   `,\n *   animations: [\n *     trigger(\"childAnimation\", [\n *       // ...\n *     ])\n *   ]\n * })\n * class MyComponent {\n *   isDisabled = true;\n *   exp = '...';\n * }\n * ```\n *\n * When `@.disabled` is true, it prevents the `@childAnimation` trigger from animating,\n * along with any inner animations.\n *\n * ### Disable animations application-wide\n * When an area of the template is set to have animations disabled,\n * **all** inner components have their animations disabled as well.\n * This means that you can disable all animations for an app\n * by placing a host binding set on `@.disabled` on the topmost Angular component.\n *\n * ```typescript\n * import {Component, HostBinding} from '@angular/core';\n *\n * @Component({\n *   selector: 'app-component',\n *   templateUrl: 'app.component.html',\n * })\n * class AppComponent {\n *   @HostBinding('@.disabled')\n *   public animationsDisabled = true;\n * }\n * ```\n *\n * ### Overriding disablement of inner animations\n * Despite inner animations being disabled, a parent animation can `query()`\n * for inner elements located in disabled areas of the template and still animate\n * them if needed. This is also the case for when a sub animation is\n * queried by a parent and then later animated using `animateChild()`.\n *\n * ### Detecting when an animation is disabled\n * If a region of the DOM (or the entire application) has its animations disabled, the animation\n * trigger callbacks still fire, but for zero seconds. When the callback fires, it provides\n * an instance of an `AnimationEvent`. If animations are disabled,\n * the `.disabled` flag on the event is true.\n *\n * @publicApi\n */\nfunction trigger(name, definitions) {\n    return { type: 7 /* Trigger */, name: name, definitions: definitions, options: {} };\n}\n/**\n * Defines an animation step that combines styling information with timing information.\n *\n * @param timings Sets `AnimateTimings` for the parent animation.\n * A string in the format \"duration [delay] [easing]\".\n *  - Duration and delay are expressed as a number and optional time unit,\n * such as \"1s\" or \"10ms\" for one second and 10 milliseconds, respectively.\n * The default unit is milliseconds.\n *  - The easing value controls how the animation accelerates and decelerates\n * during its runtime. Value is one of  `ease`, `ease-in`, `ease-out`,\n * `ease-in-out`, or a `cubic-bezier()` function call.\n * If not supplied, no easing is applied.\n *\n * For example, the string \"1s 100ms ease-out\" specifies a duration of\n * 1000 milliseconds, and delay of 100 ms, and the \"ease-out\" easing style,\n * which decelerates near the end of the duration.\n * @param styles Sets AnimationStyles for the parent animation.\n * A function call to either `style()` or `keyframes()`\n * that returns a collection of CSS style entries to be applied to the parent animation.\n * When null, uses the styles from the destination state.\n * This is useful when describing an animation step that will complete an animation;\n * see \"Animating to the final state\" in `transitions()`.\n * @returns An object that encapsulates the animation step.\n *\n * @usageNotes\n * Call within an animation `sequence()`, `{@link animations/group group()}`, or\n * `transition()` call to specify an animation step\n * that applies given style data to the parent animation for a given amount of time.\n *\n * ### Syntax Examples\n * **Timing examples**\n *\n * The following examples show various `timings` specifications.\n * - `animate(500)` : Duration is 500 milliseconds.\n * - `animate(\"1s\")` : Duration is 1000 milliseconds.\n * - `animate(\"100ms 0.5s\")` : Duration is 100 milliseconds, delay is 500 milliseconds.\n * - `animate(\"5s ease-in\")` : Duration is 5000 milliseconds, easing in.\n * - `animate(\"5s 10ms cubic-bezier(.17,.67,.88,.1)\")` : Duration is 5000 milliseconds, delay is 10\n * milliseconds, easing according to a bezier curve.\n *\n * **Style examples**\n *\n * The following example calls `style()` to set a single CSS style.\n * ```typescript\n * animate(500, style({ background: \"red\" }))\n * ```\n * The following example calls `keyframes()` to set a CSS style\n * to different values for successive keyframes.\n * ```typescript\n * animate(500, keyframes(\n *  [\n *   style({ background: \"blue\" })),\n *   style({ background: \"red\" }))\n *  ])\n * ```\n *\n * @publicApi\n */\nfunction animate(timings, styles) {\n    if (styles === void 0) { styles = null; }\n    return { type: 4 /* Animate */, styles: styles, timings: timings };\n}\n/**\n * @description Defines a list of animation steps to be run in parallel.\n *\n * @param steps An array of animation step objects.\n * - When steps are defined by `style()` or `animate()`\n * function calls, each call within the group is executed instantly.\n * - To specify offset styles to be applied at a later time, define steps with\n * `keyframes()`, or use `animate()` calls with a delay value.\n * For example:\n *\n * ```typescript\n * group([\n *   animate(\"1s\", style({ background: \"black\" })),\n *   animate(\"2s\", style({ color: \"white\" }))\n * ])\n * ```\n *\n * @param options An options object containing a delay and\n * developer-defined parameters that provide styling defaults and\n * can be overridden on invocation.\n *\n * @return An object that encapsulates the group data.\n *\n * @usageNotes\n * Grouped animations are useful when a series of styles must be\n * animated at different starting times and closed off at different ending times.\n *\n * When called within a `sequence()` or a\n * `transition()` call, does not continue to the next\n * instruction until all of the inner animation steps have completed.\n *\n * @publicApi\n */\nfunction group(steps, options) {\n    if (options === void 0) { options = null; }\n    return { type: 3 /* Group */, steps: steps, options: options };\n}\n/**\n * Defines a list of animation steps to be run sequentially, one by one.\n *\n * @param steps An array of animation step objects.\n * - Steps defined by `style()` calls apply the styling data immediately.\n * - Steps defined by `animate()` calls apply the styling data over time\n *   as specified by the timing data.\n *\n * ```typescript\n * sequence([\n *   style({ opacity: 0 })),\n *   animate(\"1s\", style({ opacity: 1 }))\n * ])\n * ```\n *\n * @param options An options object containing a delay and\n * developer-defined parameters that provide styling defaults and\n * can be overridden on invocation.\n *\n * @return An object that encapsulates the sequence data.\n *\n * @usageNotes\n * When you pass an array of steps to a\n * `transition()` call, the steps run sequentially by default.\n * Compare this to the `{@link animations/group group()}` call, which runs animation steps in parallel.\n *\n * When a sequence is used within a `{@link animations/group group()}` or a `transition()` call,\n * execution continues to the next instruction only after each of the inner animation\n * steps have completed.\n *\n * @publicApi\n **/\nfunction sequence(steps, options) {\n    if (options === void 0) { options = null; }\n    return { type: 2 /* Sequence */, steps: steps, options: options };\n}\n/**\n * Declares a key/value object containing CSS properties/styles that\n * can then be used for an animation `state`, within an animation `sequence`,\n * or as styling data for calls to `animate()` and `keyframes()`.\n *\n * @param tokens A set of CSS styles or HTML styles associated with an animation state.\n * The value can be any of the following:\n * - A key-value style pair associating a CSS property with a value.\n * - An array of key-value style pairs.\n * - An asterisk (*), to use auto-styling, where styles are derived from the element\n * being animated and applied to the animation when it starts.\n *\n * Auto-styling can be used to define a state that depends on layout or other\n * environmental factors.\n *\n * @return An object that encapsulates the style data.\n *\n * @usageNotes\n * The following examples create animation styles that collect a set of\n * CSS property values:\n *\n * ```typescript\n * // string values for CSS properties\n * style({ background: \"red\", color: \"blue\" })\n *\n * // numerical pixel values\n * style({ width: 100, height: 0 })\n * ```\n *\n * The following example uses auto-styling to allow a component to animate from\n * a height of 0 up to the height of the parent element:\n *\n * ```\n * style({ height: 0 }),\n * animate(\"1s\", style({ height: \"*\" }))\n * ```\n *\n * @publicApi\n **/\nfunction style(tokens) {\n    return { type: 6 /* Style */, styles: tokens, offset: null };\n}\n/**\n * Declares an animation state within a trigger attached to an element.\n *\n * @param name One or more names for the defined state in a comma-separated string.\n * The following reserved state names can be supplied to define a style for specific use\n * cases:\n *\n * - `void` You can associate styles with this name to be used when\n * the element is detached from the application. For example, when an `ngIf` evaluates\n * to false, the state of the associated element is void.\n *  - `*` (asterisk) Indicates the default state. You can associate styles with this name\n * to be used as the fallback when the state that is being animated is not declared\n * within the trigger.\n *\n * @param styles A set of CSS styles associated with this state, created using the\n * `style()` function.\n * This set of styles persists on the element once the state has been reached.\n * @param options Parameters that can be passed to the state when it is invoked.\n * 0 or more key-value pairs.\n * @return An object that encapsulates the new state data.\n *\n * @usageNotes\n * Use the `trigger()` function to register states to an animation trigger.\n * Use the `transition()` function to animate between states.\n * When a state is active within a component, its associated styles persist on the element,\n * even when the animation ends.\n *\n * @publicApi\n **/\nfunction state(name, styles, options) {\n    return { type: 0 /* State */, name: name, styles: styles, options: options };\n}\n/**\n * Defines a set of animation styles, associating each style with an optional `offset` value.\n *\n * @param steps A set of animation styles with optional offset data.\n * The optional `offset` value for a style specifies a percentage of the total animation\n * time at which that style is applied.\n * @returns An object that encapsulates the keyframes data.\n *\n * @usageNotes\n * Use with the `animate()` call. Instead of applying animations\n * from the current state\n * to the destination state, keyframes describe how each style entry is applied and at what point\n * within the animation arc.\n * Compare [CSS Keyframe Animations](https://www.w3schools.com/css/css3_animations.asp).\n *\n * ### Usage\n *\n * In the following example, the offset values describe\n * when each `backgroundColor` value is applied. The color is red at the start, and changes to\n * blue when 20% of the total time has elapsed.\n *\n * ```typescript\n * // the provided offset values\n * animate(\"5s\", keyframes([\n *   style({ backgroundColor: \"red\", offset: 0 }),\n *   style({ backgroundColor: \"blue\", offset: 0.2 }),\n *   style({ backgroundColor: \"orange\", offset: 0.3 }),\n *   style({ backgroundColor: \"black\", offset: 1 })\n * ]))\n * ```\n *\n * If there are no `offset` values specified in the style entries, the offsets\n * are calculated automatically.\n *\n * ```typescript\n * animate(\"5s\", keyframes([\n *   style({ backgroundColor: \"red\" }) // offset = 0\n *   style({ backgroundColor: \"blue\" }) // offset = 0.33\n *   style({ backgroundColor: \"orange\" }) // offset = 0.66\n *   style({ backgroundColor: \"black\" }) // offset = 1\n * ]))\n *```\n\n * @publicApi\n */\nfunction keyframes(steps) {\n    return { type: 5 /* Keyframes */, steps: steps };\n}\n/**\n * Declares an animation transition as a sequence of animation steps to run when a given\n * condition is satisfied. The condition is a Boolean expression or function that compares\n * the previous and current animation states, and returns true if this transition should occur.\n * When the state criteria of a defined transition are met, the associated animation is\n * triggered.\n *\n * @param stateChangeExpr A Boolean expression or function that compares the previous and current\n * animation states, and returns true if this transition should occur. Note that  \"true\" and \"false\"\n * match 1 and 0, respectively. An expression is evaluated each time a state change occurs in the\n * animation trigger element.\n * The animation steps run when the expression evaluates to true.\n *\n * - A state-change string takes the form \"state1 => state2\", where each side is a defined animation\n * state, or an asterix (*) to refer to a dynamic start or end state.\n *   - The expression string can contain multiple comma-separated statements;\n * for example \"state1 => state2, state3 => state4\".\n *   - Special values `:enter` and `:leave` initiate a transition on the entry and exit states,\n * equivalent to  \"void => *\"  and \"* => void\".\n *   - Special values `:increment` and `:decrement` initiate a transition when a numeric value has\n * increased or decreased in value.\n * - A function is executed each time a state change occurs in the animation trigger element.\n * The animation steps run when the function returns true.\n *\n * @param steps One or more animation objects, as returned by the `animate()` or\n * `sequence()` function, that form a transformation from one state to another.\n * A sequence is used by default when you pass an array.\n * @param options An options object that can contain a delay value for the start of the animation,\n * and additional developer-defined parameters. Provided values for additional parameters are used\n * as defaults, and override values can be passed to the caller on invocation.\n * @returns An object that encapsulates the transition data.\n *\n * @usageNotes\n * The template associated with a component binds an animation trigger to an element.\n *\n * ```HTML\n * <!-- somewhere inside of my-component-tpl.html -->\n * <div [@myAnimationTrigger]=\"myStatusExp\">...</div>\n * ```\n *\n * All transitions are defined within an animation trigger,\n * along with named states that the transitions change to and from.\n *\n * ```typescript\n * trigger(\"myAnimationTrigger\", [\n *  // define states\n *  state(\"on\", style({ background: \"green\" })),\n *  state(\"off\", style({ background: \"grey\" })),\n *  ...]\n * ```\n *\n * Note that when you call the `sequence()` function within a `{@link animations/group group()}`\n * or a `transition()` call, execution does not continue to the next instruction\n * until each of the inner animation steps have completed.\n *\n * ### Syntax examples\n *\n * The following examples define transitions between the two defined states (and default states),\n * using various options:\n *\n * ```typescript\n * // Transition occurs when the state value\n * // bound to \"myAnimationTrigger\" changes from \"on\" to \"off\"\n * transition(\"on => off\", animate(500))\n * // Run the same animation for both directions\n * transition(\"on <=> off\", animate(500))\n * // Define multiple state-change pairs separated by commas\n * transition(\"on => off, off => void\", animate(500))\n * ```\n *\n * ### Special values for state-change expressions\n *\n * - Catch-all state change for when an element is inserted into the page and the\n * destination state is unknown:\n *\n * ```typescript\n * transition(\"void => *\", [\n *  style({ opacity: 0 }),\n *  animate(500)\n *  ])\n * ```\n *\n * - Capture a state change between any states:\n *\n *  `transition(\"* => *\", animate(\"1s 0s\"))`\n *\n * - Entry and exit transitions:\n *\n * ```typescript\n * transition(\":enter\", [\n *   style({ opacity: 0 }),\n *   animate(500, style({ opacity: 1 }))\n *   ]),\n * transition(\":leave\", [\n *   animate(500, style({ opacity: 0 }))\n *   ])\n * ```\n *\n * - Use `:increment` and `:decrement` to initiate transitions:\n *\n * ```typescript\n * transition(\":increment\", group([\n *  query(':enter', [\n *     style({ left: '100%' }),\n *     animate('0.5s ease-out', style('*'))\n *   ]),\n *  query(':leave', [\n *     animate('0.5s ease-out', style({ left: '-100%' }))\n *  ])\n * ]))\n *\n * transition(\":decrement\", group([\n *  query(':enter', [\n *     style({ left: '100%' }),\n *     animate('0.5s ease-out', style('*'))\n *   ]),\n *  query(':leave', [\n *     animate('0.5s ease-out', style({ left: '-100%' }))\n *  ])\n * ]))\n * ```\n *\n * ### State-change functions\n *\n * Here is an example of a `fromState` specified as a state-change function that invokes an\n * animation when true:\n *\n * ```typescript\n * transition((fromState, toState) =>\n *  {\n *   return fromState == \"off\" && toState == \"on\";\n *  },\n *  animate(\"1s 0s\"))\n * ```\n *\n * ### Animating to the final state\n *\n * If the final step in a transition is a call to `animate()` that uses a timing value\n * with no style data, that step is automatically considered the final animation arc,\n * for the element to reach the final state. Angular automatically adds or removes\n * CSS styles to ensure that the element is in the correct final state.\n *\n * The following example defines a transition that starts by hiding the element,\n * then makes sure that it animates properly to whatever state is currently active for trigger:\n *\n * ```typescript\n * transition(\"void => *\", [\n *   style({ opacity: 0 }),\n *   animate(500)\n *  ])\n * ```\n * ### Boolean value matching\n * If a trigger binding value is a Boolean, it can be matched using a transition expression\n * that compares true and false or 1 and 0. For example:\n *\n * ```\n * // in the template\n * <div [@openClose]=\"open ? true : false\">...</div>\n * // in the component metadata\n * trigger('openClose', [\n *   state('true', style({ height: '*' })),\n *   state('false', style({ height: '0px' })),\n *   transition('false <=> true', animate(500))\n * ])\n * ```\n *\n * @publicApi\n **/\nfunction transition(stateChangeExpr, steps, options) {\n    if (options === void 0) { options = null; }\n    return { type: 1 /* Transition */, expr: stateChangeExpr, animation: steps, options: options };\n}\n/**\n * Produces a reusable animation that can be invoked in another animation or sequence,\n * by calling the `useAnimation()` function.\n *\n * @param steps One or more animation objects, as returned by the `animate()`\n * or `sequence()` function, that form a transformation from one state to another.\n * A sequence is used by default when you pass an array.\n * @param options An options object that can contain a delay value for the start of the\n * animation, and additional developer-defined parameters.\n * Provided values for additional parameters are used as defaults,\n * and override values can be passed to the caller on invocation.\n * @returns An object that encapsulates the animation data.\n *\n * @usageNotes\n * The following example defines a reusable animation, providing some default parameter\n * values.\n *\n * ```typescript\n * var fadeAnimation = animation([\n *   style({ opacity: '{{ start }}' }),\n *   animate('{{ time }}',\n *   style({ opacity: '{{ end }}'}))\n *   ],\n *   { params: { time: '1000ms', start: 0, end: 1 }});\n * ```\n *\n * The following invokes the defined animation with a call to `useAnimation()`,\n * passing in override parameter values.\n *\n * ```js\n * useAnimation(fadeAnimation, {\n *   params: {\n *     time: '2s',\n *     start: 1,\n *     end: 0\n *   }\n * })\n * ```\n *\n * If any of the passed-in parameter values are missing from this call,\n * the default values are used. If one or more parameter values are missing before a step is\n * animated, `useAnimation()` throws an error.\n *\n * @publicApi\n */\nfunction animation(steps, options) {\n    if (options === void 0) { options = null; }\n    return { type: 8 /* Reference */, animation: steps, options: options };\n}\n/**\n * Executes a queried inner animation element within an animation sequence.\n *\n * @param options An options object that can contain a delay value for the start of the\n * animation, and additional override values for developer-defined parameters.\n * @return An object that encapsulates the child animation data.\n *\n * @usageNotes\n * Each time an animation is triggered in Angular, the parent animation\n * has priority and any child animations are blocked. In order\n * for a child animation to run, the parent animation must query each of the elements\n * containing child animations, and run them using this function.\n *\n * Note that this feature designed to be used with `query()` and it will only work\n * with animations that are assigned using the Angular animation library. CSS keyframes\n * and transitions are not handled by this API.\n *\n * @publicApi\n */\nfunction animateChild(options) {\n    if (options === void 0) { options = null; }\n    return { type: 9 /* AnimateChild */, options: options };\n}\n/**\n * Starts a reusable animation that is created using the `animation()` function.\n *\n * @param animation The reusable animation to start.\n * @param options An options object that can contain a delay value for the start of\n * the animation, and additional override values for developer-defined parameters.\n * @return An object that contains the animation parameters.\n *\n * @publicApi\n */\nfunction useAnimation(animation, options) {\n    if (options === void 0) { options = null; }\n    return { type: 10 /* AnimateRef */, animation: animation, options: options };\n}\n/**\n * Finds one or more inner elements within the current element that is\n * being animated within a sequence. Use with `animate()`.\n *\n * @param selector The element to query, or a set of elements that contain Angular-specific\n * characteristics, specified with one or more of the following tokens.\n *  - `query(\":enter\")` or `query(\":leave\")` : Query for newly inserted/removed elements.\n *  - `query(\":animating\")` : Query all currently animating elements.\n *  - `query(\"@triggerName\")` : Query elements that contain an animation trigger.\n *  - `query(\"@*\")` : Query all elements that contain an animation triggers.\n *  - `query(\":self\")` : Include the current element into the animation sequence.\n *\n * @param animation One or more animation steps to apply to the queried element or elements.\n * An array is treated as an animation sequence.\n * @param options An options object. Use the 'limit' field to limit the total number of\n * items to collect.\n * @return An object that encapsulates the query data.\n *\n * @usageNotes\n * Tokens can be merged into a combined query selector string. For example:\n *\n * ```typescript\n *  query(':self, .record:enter, .record:leave, @subTrigger', [...])\n * ```\n *\n * The `query()` function collects multiple elements and works internally by using\n * `element.querySelectorAll`. Use the `limit` field of an options object to limit\n * the total number of items to be collected. For example:\n *\n * ```js\n * query('div', [\n *   animate(...),\n *   animate(...)\n * ], { limit: 1 })\n * ```\n *\n * By default, throws an error when zero items are found. Set the\n * `optional` flag to ignore this error. For example:\n *\n * ```js\n * query('.some-element-that-may-not-be-there', [\n *   animate(...),\n *   animate(...)\n * ], { optional: true })\n * ```\n *\n * ### Usage Example\n *\n * The following example queries for inner elements and animates them\n * individually using `animate()`.\n *\n * ```typescript\n * @Component({\n *   selector: 'inner',\n *   template: `\n *     <div [@queryAnimation]=\"exp\">\n *       <h1>Title</h1>\n *       <div class=\"content\">\n *         Blah blah blah\n *       </div>\n *     </div>\n *   `,\n *   animations: [\n *    trigger('queryAnimation', [\n *      transition('* => goAnimate', [\n *        // hide the inner elements\n *        query('h1', style({ opacity: 0 })),\n *        query('.content', style({ opacity: 0 })),\n *\n *        // animate the inner elements in, one by one\n *        query('h1', animate(1000, style({ opacity: 1 })),\n *        query('.content', animate(1000, style({ opacity: 1 })),\n *      ])\n *    ])\n *  ]\n * })\n * class Cmp {\n *   exp = '';\n *\n *   goAnimate() {\n *     this.exp = 'goAnimate';\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nfunction query(selector, animation, options) {\n    if (options === void 0) { options = null; }\n    return { type: 11 /* Query */, selector: selector, animation: animation, options: options };\n}\n/**\n * Use within an animation `query()` call to issue a timing gap after\n * each queried item is animated.\n *\n * @param timings A delay value.\n * @param animation One ore more animation steps.\n * @returns An object that encapsulates the stagger data.\n *\n * @usageNotes\n * In the following example, a container element wraps a list of items stamped out\n * by an `ngFor`. The container element contains an animation trigger that will later be set\n * to query for each of the inner items.\n *\n * Each time items are added, the opacity fade-in animation runs,\n * and each removed item is faded out.\n * When either of these animations occur, the stagger effect is\n * applied after each item's animation is started.\n *\n * ```html\n * <!-- list.component.html -->\n * <button (click)=\"toggle()\">Show / Hide Items</button>\n * <hr />\n * <div [@listAnimation]=\"items.length\">\n *   <div *ngFor=\"let item of items\">\n *     {{ item }}\n *   </div>\n * </div>\n * ```\n *\n * Here is the component code:\n *\n * ```typescript\n * import {trigger, transition, style, animate, query, stagger} from '@angular/animations';\n * @Component({\n *   templateUrl: 'list.component.html',\n *   animations: [\n *     trigger('listAnimation', [\n *     ...\n *     ])\n *   ]\n * })\n * class ListComponent {\n *   items = [];\n *\n *   showItems() {\n *     this.items = [0,1,2,3,4];\n *   }\n *\n *   hideItems() {\n *     this.items = [];\n *   }\n *\n *   toggle() {\n *     this.items.length ? this.hideItems() : this.showItems();\n *    }\n *  }\n * ```\n *\n * Here is the animation trigger code:\n *\n * ```typescript\n * trigger('listAnimation', [\n *   transition('* => *', [ // each time the binding value changes\n *     query(':leave', [\n *       stagger(100, [\n *         animate('0.5s', style({ opacity: 0 }))\n *       ])\n *     ]),\n *     query(':enter', [\n *       style({ opacity: 0 }),\n *       stagger(100, [\n *         animate('0.5s', style({ opacity: 1 }))\n *       ])\n *     ])\n *   ])\n * ])\n * ```\n *\n * @publicApi\n */\nfunction stagger(timings, animation) {\n    return { type: 12 /* Stagger */, timings: timings, animation: animation };\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction scheduleMicroTask(cb) {\n    Promise.resolve(null).then(cb);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * An empty programmatic controller for reusable animations.\n * Used internally when animations are disabled, to avoid\n * checking for the null case when an animation player is expected.\n *\n * @see `animate()`\n * @see `AnimationPlayer`\n * @see `GroupPlayer`\n *\n * @publicApi\n */\nvar NoopAnimationPlayer = /** @class */ (function () {\n    function NoopAnimationPlayer(duration, delay) {\n        if (duration === void 0) { duration = 0; }\n        if (delay === void 0) { delay = 0; }\n        this._onDoneFns = [];\n        this._onStartFns = [];\n        this._onDestroyFns = [];\n        this._started = false;\n        this._destroyed = false;\n        this._finished = false;\n        this.parentPlayer = null;\n        this.totalTime = duration + delay;\n    }\n    NoopAnimationPlayer.prototype._onFinish = function () {\n        if (!this._finished) {\n            this._finished = true;\n            this._onDoneFns.forEach(function (fn) { return fn(); });\n            this._onDoneFns = [];\n        }\n    };\n    NoopAnimationPlayer.prototype.onStart = function (fn) { this._onStartFns.push(fn); };\n    NoopAnimationPlayer.prototype.onDone = function (fn) { this._onDoneFns.push(fn); };\n    NoopAnimationPlayer.prototype.onDestroy = function (fn) { this._onDestroyFns.push(fn); };\n    NoopAnimationPlayer.prototype.hasStarted = function () { return this._started; };\n    NoopAnimationPlayer.prototype.init = function () { };\n    NoopAnimationPlayer.prototype.play = function () {\n        if (!this.hasStarted()) {\n            this._onStart();\n            this.triggerMicrotask();\n        }\n        this._started = true;\n    };\n    /** @internal */\n    NoopAnimationPlayer.prototype.triggerMicrotask = function () {\n        var _this = this;\n        scheduleMicroTask(function () { return _this._onFinish(); });\n    };\n    NoopAnimationPlayer.prototype._onStart = function () {\n        this._onStartFns.forEach(function (fn) { return fn(); });\n        this._onStartFns = [];\n    };\n    NoopAnimationPlayer.prototype.pause = function () { };\n    NoopAnimationPlayer.prototype.restart = function () { };\n    NoopAnimationPlayer.prototype.finish = function () { this._onFinish(); };\n    NoopAnimationPlayer.prototype.destroy = function () {\n        if (!this._destroyed) {\n            this._destroyed = true;\n            if (!this.hasStarted()) {\n                this._onStart();\n            }\n            this.finish();\n            this._onDestroyFns.forEach(function (fn) { return fn(); });\n            this._onDestroyFns = [];\n        }\n    };\n    NoopAnimationPlayer.prototype.reset = function () { };\n    NoopAnimationPlayer.prototype.setPosition = function (position) { };\n    NoopAnimationPlayer.prototype.getPosition = function () { return 0; };\n    /** @internal */\n    NoopAnimationPlayer.prototype.triggerCallback = function (phaseName) {\n        var methods = phaseName == 'start' ? this._onStartFns : this._onDoneFns;\n        methods.forEach(function (fn) { return fn(); });\n        methods.length = 0;\n    };\n    return NoopAnimationPlayer;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A programmatic controller for a group of reusable animations.\n * Used internally to control animations.\n *\n * @see `AnimationPlayer`\n * @see `{@link animations/group group()}`\n *\n */\nvar AnimationGroupPlayer = /** @class */ (function () {\n    function AnimationGroupPlayer(_players) {\n        var _this = this;\n        this._onDoneFns = [];\n        this._onStartFns = [];\n        this._finished = false;\n        this._started = false;\n        this._destroyed = false;\n        this._onDestroyFns = [];\n        this.parentPlayer = null;\n        this.totalTime = 0;\n        this.players = _players;\n        var doneCount = 0;\n        var destroyCount = 0;\n        var startCount = 0;\n        var total = this.players.length;\n        if (total == 0) {\n            scheduleMicroTask(function () { return _this._onFinish(); });\n        }\n        else {\n            this.players.forEach(function (player) {\n                player.onDone(function () {\n                    if (++doneCount == total) {\n                        _this._onFinish();\n                    }\n                });\n                player.onDestroy(function () {\n                    if (++destroyCount == total) {\n                        _this._onDestroy();\n                    }\n                });\n                player.onStart(function () {\n                    if (++startCount == total) {\n                        _this._onStart();\n                    }\n                });\n            });\n        }\n        this.totalTime = this.players.reduce(function (time, player) { return Math.max(time, player.totalTime); }, 0);\n    }\n    AnimationGroupPlayer.prototype._onFinish = function () {\n        if (!this._finished) {\n            this._finished = true;\n            this._onDoneFns.forEach(function (fn) { return fn(); });\n            this._onDoneFns = [];\n        }\n    };\n    AnimationGroupPlayer.prototype.init = function () { this.players.forEach(function (player) { return player.init(); }); };\n    AnimationGroupPlayer.prototype.onStart = function (fn) { this._onStartFns.push(fn); };\n    AnimationGroupPlayer.prototype._onStart = function () {\n        if (!this.hasStarted()) {\n            this._started = true;\n            this._onStartFns.forEach(function (fn) { return fn(); });\n            this._onStartFns = [];\n        }\n    };\n    AnimationGroupPlayer.prototype.onDone = function (fn) { this._onDoneFns.push(fn); };\n    AnimationGroupPlayer.prototype.onDestroy = function (fn) { this._onDestroyFns.push(fn); };\n    AnimationGroupPlayer.prototype.hasStarted = function () { return this._started; };\n    AnimationGroupPlayer.prototype.play = function () {\n        if (!this.parentPlayer) {\n            this.init();\n        }\n        this._onStart();\n        this.players.forEach(function (player) { return player.play(); });\n    };\n    AnimationGroupPlayer.prototype.pause = function () { this.players.forEach(function (player) { return player.pause(); }); };\n    AnimationGroupPlayer.prototype.restart = function () { this.players.forEach(function (player) { return player.restart(); }); };\n    AnimationGroupPlayer.prototype.finish = function () {\n        this._onFinish();\n        this.players.forEach(function (player) { return player.finish(); });\n    };\n    AnimationGroupPlayer.prototype.destroy = function () { this._onDestroy(); };\n    AnimationGroupPlayer.prototype._onDestroy = function () {\n        if (!this._destroyed) {\n            this._destroyed = true;\n            this._onFinish();\n            this.players.forEach(function (player) { return player.destroy(); });\n            this._onDestroyFns.forEach(function (fn) { return fn(); });\n            this._onDestroyFns = [];\n        }\n    };\n    AnimationGroupPlayer.prototype.reset = function () {\n        this.players.forEach(function (player) { return player.reset(); });\n        this._destroyed = false;\n        this._finished = false;\n        this._started = false;\n    };\n    AnimationGroupPlayer.prototype.setPosition = function (p) {\n        var timeAtPosition = p * this.totalTime;\n        this.players.forEach(function (player) {\n            var position = player.totalTime ? Math.min(1, timeAtPosition / player.totalTime) : 1;\n            player.setPosition(position);\n        });\n    };\n    AnimationGroupPlayer.prototype.getPosition = function () {\n        var min = 0;\n        this.players.forEach(function (player) {\n            var p = player.getPosition();\n            min = Math.min(p, min);\n        });\n        return min;\n    };\n    AnimationGroupPlayer.prototype.beforeDestroy = function () {\n        this.players.forEach(function (player) {\n            if (player.beforeDestroy) {\n                player.beforeDestroy();\n            }\n        });\n    };\n    /** @internal */\n    AnimationGroupPlayer.prototype.triggerCallback = function (phaseName) {\n        var methods = phaseName == 'start' ? this._onStartFns : this._onDoneFns;\n        methods.forEach(function (fn) { return fn(); });\n        methods.length = 0;\n    };\n    return AnimationGroupPlayer;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ɵPRE_STYLE = '!';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AnimationBuilder, AnimationFactory, AUTO_STYLE, animate, animateChild, animation, group, keyframes, query, sequence, stagger, state, style, transition, trigger, useAnimation, NoopAnimationPlayer, ɵPRE_STYLE, AnimationGroupPlayer as ɵAnimationGroupPlayer };\n//# sourceMappingURL=animations.js.map\n","import { Injectable, isDevMode, EventEmitter } from '@angular/core';\nimport { animate, style, AnimationBuilder } from '@angular/animations';\nvar LEFT = 'left';\nvar RIGHT = 'right';\nvar DOWN = 'down';\nvar UP = 'up';\nvar DEFAULT_TYPE = 'slide';\nvar DEFAULT_DURATION = 100;\nvar animationTypes = {};\n/* tslint:disable:object-literal-sort-keys */\nanimationTypes.expand = function (direction) {\n    var scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n    var startScale = 0;\n    var endScale = 1;\n    var origin;\n    if (direction === DOWN) {\n        origin = 'top';\n    }\n    else if (direction === LEFT) {\n        origin = RIGHT;\n    }\n    else if (direction === RIGHT) {\n        origin = LEFT;\n    }\n    else {\n        origin = 'bottom';\n    }\n    return {\n        start: { transform: scale + \"(\" + startScale + \")\", transformOrigin: origin },\n        end: { transform: scale + \"(\" + endScale + \")\" }\n    };\n};\nanimationTypes.slide = function (direction) {\n    var translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n    var start = direction === RIGHT || direction === DOWN ? -100 : 100;\n    var end = 0;\n    return {\n        start: { transform: translate + \"(\" + start + \"%)\" },\n        end: { transform: translate + \"(\" + end + \"%)\" }\n    };\n};\nanimationTypes.fade = function () {\n    return {\n        start: { opacity: 0 },\n        end: { opacity: 1 }\n    };\n};\nanimationTypes.zoom = function () {\n    var start = 0;\n    var end = 1;\n    return {\n        start: { transform: \"scale(\" + start + \")\" },\n        end: { transform: \"scale(\" + end + \")\" }\n    };\n};\n/**\n * @hidden\n */\nvar AnimationService = /** @class */ (function () {\n    function AnimationService(animationBuilder) {\n        this.animationBuilder = animationBuilder;\n        this.start = new EventEmitter();\n        this.end = new EventEmitter();\n    }\n    AnimationService.prototype.play = function (element, options, flip) {\n        if (!this.flip || this.flip.horizontal !== flip.horizontal ||\n            this.flip.vertical !== flip.vertical) {\n            this.flip = flip;\n            var type = options.type || DEFAULT_TYPE;\n            var statesFn = animationTypes[type];\n            if (statesFn) {\n                var direction = this.getDirection(flip, options);\n                var states = statesFn(direction);\n                this.playStates(element, states, options);\n            }\n            else if (isDevMode()) {\n                throw new Error(\"Unsupported animation type: \\\"\" + type + \"\\\". The supported types are slide, expand, fade and zoom.\");\n            }\n        }\n    };\n    AnimationService.prototype.ngOnDestroy = function () {\n        this.stopPlayer();\n    };\n    AnimationService.prototype.playStates = function (element, states, options) {\n        var _this = this;\n        this.stopPlayer();\n        var duration = options.duration || DEFAULT_DURATION;\n        var factory = this.animationBuilder.build([\n            style(states.start),\n            animate(duration + \"ms ease-in\", style(states.end))\n        ]);\n        var player = this.player = factory.create(element);\n        player.onDone(function () {\n            _this.end.emit();\n            _this.stopPlayer();\n        });\n        this.start.emit();\n        player.play();\n    };\n    AnimationService.prototype.getDirection = function (flip, options) {\n        var direction = options.direction || DOWN;\n        if (flip.horizontal) {\n            if (direction === LEFT) {\n                direction = RIGHT;\n            }\n            else if (direction === RIGHT) {\n                direction = LEFT;\n            }\n        }\n        if (flip.vertical) {\n            if (direction === DOWN) {\n                direction = UP;\n            }\n            else if (direction === UP) {\n                direction = DOWN;\n            }\n        }\n        return direction;\n    };\n    AnimationService.prototype.stopPlayer = function () {\n        if (this.player) {\n            this.player.destroy();\n            this.player = null;\n        }\n    };\n    AnimationService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    AnimationService.ctorParameters = function () { return [\n        { type: AnimationBuilder, },\n    ]; };\n    return AnimationService;\n}());\nexport { AnimationService };\n","import { Component, ElementRef, EventEmitter, Input, Output, NgZone, Renderer2, ViewChild } from '@angular/core';\nimport { fromPromise } from 'rxjs/observable/fromPromise';\nimport { AlignService } from './services/align.service';\nimport { DOMService } from './services/dom.service';\nimport { PositionService } from './services/position.service';\nimport { ResizeService } from './services/resize.service';\nimport { ScrollableService } from './services/scrollable.service';\nimport { AnimationService } from './services/animation.service';\nimport { isDifferentOffset, isDocumentAvailable } from './util';\nvar DEFAULT_OFFSET = { left: -10000, top: 0 };\nvar ANIMATION_CONTAINER = 'k-animation-container';\nvar ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\nvar hasObservers = function (emitter) { return emitter.observers.length > 0; };\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\nvar PopupComponent = /** @class */ (function () {\n    function PopupComponent(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n        this.container = container;\n        this._alignService = _alignService;\n        this.domService = domService;\n        this._positionService = _positionService;\n        this._resizeService = _resizeService;\n        this._scrollableService = _scrollableService;\n        this.animationService = animationService;\n        this._renderer = _renderer;\n        this._zone = _zone;\n        /**\n         * Controls the Popup animation. By default, the opening and closing animations\n         * are enabled ([see example]({% slug animations_popup %})).\n         */\n        this.animate = true;\n        /**\n         * Specifies the anchor pivot point\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.anchorAlign = { horizontal: 'left', vertical: 'bottom' };\n        /**\n         * Configures the collision behavior of the Popup\n         * ([see example]({% slug viewportboundarydetection_popup %})).\n         */\n        this.collision = { horizontal: 'fit', vertical: 'flip' };\n        /**\n         * Specifies the pivot point of the Popup\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.popupAlign = { horizontal: 'left', vertical: 'top' };\n        /**\n         * Controls whether the component will copy the `anchor` font styles.\n         */\n        this.copyAnchorStyles = false;\n        /**\n         * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n         * To make the Popup acquire absolute positioning, set this option to `absolute`.\n         *\n         * > If you need to support mobile browsers with the zoom option,\n         * use the `absolute` positioning of the Popup.\n         *\n         * @example\n         * ```html\n         * <style>\n         *  .parent-content {\n         *     position: relative;\n         *     width: 200px;\n         *     height: 200px;\n         *     overflow: auto;\n         *     margin: 200px auto;\n         *     border: 1px solid red;\n         *  }\n         *  .content {\n         *     position: relative;\n         *     width: 100px;\n         *     height: 100px;\n         *     overflow: auto;\n         *     margin: 300px;\n         *     border: 1px solid blue;\n         *  }\n         *  .anchor {\n         *     position: absolute;\n         *     top: 200px;\n         *     left: 200px;\n         *  }\n         * </style>\n         * ```\n         * ```ts\n         * _@Component({\n         * selector: 'my-app',\n         * template: `\n         *   <div class=\"example-config\">\n         *      Position mode:\n         *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n         *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n         *   </div>\n         *   <div class=\"example-config\">\n         *       Append to\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n         *           Root component\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n         *           <span style=\"color: red\">Red Container</span>\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n         *           <span style=\"color: blue\">Blue Container</span>\n         *       </label>\n         *   </div>\n         *   <div class=\"example\">\n         *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n         *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n         *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n         *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n         *             <ul>\n         *                 <li>Item1</li>\n         *                 <li>Item2</li>\n         *                 <li>Item3</li>\n         *             </ul>\n         *           </kendo-popup>\n         *           <span style=\"position: absolute; top: 400px; left: 400px\">Bottom/Right</span>\n         *         </div>\n         *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n         *           <ul>\n         *               <li>Item1</li>\n         *               <li>Item2</li>\n         *               <li>Item3</li>\n         *           </ul>\n         *         </kendo-popup>\n         *         <span style=\"position: absolute; top: 600px; left: 600px\">Bottom/Right</span>\n         *     </div>\n         *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n         *       <ul>\n         *           <li>Item1</li>\n         *           <li>Item2</li>\n         *           <li>Item3</li>\n         *       </ul>\n         *     </kendo-popup>\n         *   </div>\n         * `\n         * })\n         * class AppComponent {\n         *   public checked: number = 3;\n         *   public mode: string = 'absolute';\n         *   public show: boolean = true;\n         * }\n         * ```\n         */\n        this.positionMode = 'fixed';\n        /**\n         * Specifies the absolute position of the element\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n         * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n         * The boundary detection is applied by using the window viewport.\n         */\n        this.offset = DEFAULT_OFFSET;\n        /**\n         * Fires when the anchor is scrolled outside the screen boundaries.\n         * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n         */\n        this.anchorViewportLeave = new EventEmitter();\n        /**\n         * Fires after the component is closed.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires after the component is opened and the opening animation ends.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires after the component is opened and the Popup is positioned.\n         */\n        this.positionChange = new EventEmitter();\n        this.resolvedPromise = Promise.resolve(null);\n        this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n        this.updateFixedClass();\n    }\n    PopupComponent.prototype.ngOnInit = function () {\n        this.repositionCallback = this.reposition.bind(this);\n        this._resizeService.subscribe(this.repositionCallback);\n        this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n        this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n        this._scrollableService.forElement(this.anchor || this.container).subscribe(this.onScroll.bind(this));\n        this.currentOffset = DEFAULT_OFFSET;\n        this.setZIndex();\n        this.copyFontStyles();\n        this.updateFixedClass();\n    };\n    PopupComponent.prototype.ngOnChanges = function (changes) {\n        if (changes.copyAnchorStyles) {\n            this.copyFontStyles();\n        }\n        if (changes.positionMode) {\n            this.updateFixedClass();\n        }\n    };\n    PopupComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.reposition();\n        if (!this.animate) {\n            this.resolvedPromise.then(function () {\n                _this.onAnimationEnd();\n            });\n        }\n    };\n    PopupComponent.prototype.ngAfterViewChecked = function () {\n        var _this = this;\n        this._zone.runOutsideAngular(function () {\n            // workarounds https://github.com/angular/angular/issues/19094\n            // uses promise because it is executed synchronously after the content is updated\n            // does not use onStable in case the current zone is not the angular one.\n            if (_this.repositionSubscription) {\n                _this.repositionSubscription.unsubscribe();\n            }\n            _this.repositionSubscription = fromPromise(_this.resolvedPromise)\n                .subscribe(_this.repositionCallback);\n        });\n    };\n    PopupComponent.prototype.ngOnDestroy = function () {\n        this.anchorViewportLeave.complete();\n        this.positionChange.complete();\n        this.close.emit();\n        this.close.complete();\n        this._resizeService.unsubscribe();\n        this._scrollableService.unsubscribe();\n        if (this.repositionSubscription) {\n            this.repositionSubscription.unsubscribe();\n        }\n        this.animationSubscriptions.unsubscribe();\n    };\n    PopupComponent.prototype.onAnimationStart = function () {\n        this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n    };\n    PopupComponent.prototype.onAnimationEnd = function () {\n        this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n        this.open.emit();\n        this.open.complete();\n    };\n    Object.defineProperty(PopupComponent.prototype, \"currentOffset\", {\n        get: function () {\n            return this._currentOffset;\n        },\n        set: function (offset) {\n            this.setContainerStyle('left', offset.left + \"px\");\n            this.setContainerStyle('top', offset.top + \"px\");\n            this._currentOffset = offset;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PopupComponent.prototype.setZIndex = function () {\n        if (this.anchor) {\n            this.setContainerStyle('z-index', String(this.domService.zIndex(this.anchor, this.container)));\n        }\n    };\n    PopupComponent.prototype.reposition = function () {\n        var _this = this;\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        var _a = this.position(), flip = _a.flip, offset = _a.offset;\n        if (!this._currentOffset || isDifferentOffset(this._currentOffset, offset)) {\n            this.currentOffset = offset;\n            if (hasObservers(this.positionChange)) {\n                this._zone.run(function () { return _this.positionChange.emit({ offset: offset, flip: flip }); });\n            }\n        }\n        if (this.animate) {\n            this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n        }\n    };\n    PopupComponent.prototype.position = function () {\n        var alignedOffset = this._alignService.alignElement({\n            anchor: this.anchor,\n            anchorAlign: this.anchorAlign,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin,\n            offset: this.offset,\n            positionMode: this.positionMode\n        });\n        return this._positionService.positionElement({\n            anchor: this.anchor,\n            anchorAlign: this.anchorAlign,\n            collisions: this.collision,\n            currentLocation: alignedOffset,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin\n        });\n    };\n    PopupComponent.prototype.onScroll = function (isInViewPort) {\n        var _this = this;\n        var hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n        if (isInViewPort || !hasLeaveObservers) {\n            this.reposition();\n        }\n        else if (hasLeaveObservers) {\n            this._zone.run(function () {\n                _this.anchorViewportLeave.emit();\n            });\n        }\n    };\n    PopupComponent.prototype.copyFontStyles = function () {\n        var _this = this;\n        if (!this.anchor || !this.copyAnchorStyles) {\n            return;\n        }\n        this.domService.getFontStyles(this.anchor)\n            .forEach(function (s) { return _this.setContainerStyle(s.key, s.value); });\n    };\n    PopupComponent.prototype.updateFixedClass = function () {\n        var action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n        this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n    };\n    PopupComponent.prototype.setContainerStyle = function (name, value) {\n        this._renderer.setStyle(this.container.nativeElement, name, value);\n    };\n    PopupComponent.decorators = [\n        { type: Component, args: [{\n                    exportAs: 'kendo-popup',\n                    providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n                    selector: 'kendo-popup',\n                    template: \"\\n        <div class=\\\"k-popup\\\" [ngClass]=\\\"popupClass\\\" #container>\\n            <ng-content></ng-content>\\n            <ng-template [ngTemplateOutlet]=\\\"content\\\" [ngIf]=\\\"content\\\"></ng-template>\\n        </div>\\n     \"\n                },] },\n    ];\n    /** @nocollapse */\n    PopupComponent.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: AlignService, },\n        { type: DOMService, },\n        { type: PositionService, },\n        { type: ResizeService, },\n        { type: ScrollableService, },\n        { type: AnimationService, },\n        { type: Renderer2, },\n        { type: NgZone, },\n    ]; };\n    PopupComponent.propDecorators = {\n        'animate': [{ type: Input },],\n        'anchor': [{ type: Input },],\n        'anchorAlign': [{ type: Input },],\n        'collision': [{ type: Input },],\n        'popupAlign': [{ type: Input },],\n        'copyAnchorStyles': [{ type: Input },],\n        'popupClass': [{ type: Input },],\n        'positionMode': [{ type: Input },],\n        'offset': [{ type: Input },],\n        'margin': [{ type: Input },],\n        'anchorViewportLeave': [{ type: Output },],\n        'close': [{ type: Output },],\n        'open': [{ type: Output },],\n        'positionChange': [{ type: Output },],\n        'contentContainer': [{ type: ViewChild, args: ['container',] },],\n    };\n    return PopupComponent;\n}());\nexport { PopupComponent };\n","import { ApplicationRef, ComponentFactoryResolver, ElementRef, InjectionToken, Injectable, Injector, Inject, Optional, TemplateRef } from '@angular/core';\nimport { PopupComponent } from './popup.component';\nvar removeElement = function (element) {\n    if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\nexport var POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\nvar PopupService = /** @class */ (function () {\n    function PopupService(applicationRef, componentFactoryResolver, injector, container) {\n        this.applicationRef = applicationRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.injector = injector;\n        this.container = container;\n    }\n    Object.defineProperty(PopupService.prototype, \"rootViewContainer\", {\n        /**\n         * Gets the root view container into which the component will be injected.\n         *\n         * @returns {ComponentRef<any>}\n         */\n        get: function () {\n            // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n            var rootComponents = this.applicationRef.components || [];\n            if (rootComponents[0]) {\n                return rootComponents[0];\n            }\n            throw new Error(\"\\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\\n        \");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PopupService.prototype, \"rootViewContainerNode\", {\n        /**\n         * Sets or gets the HTML element of the root component container.\n         *\n         * @returns {HTMLElement}\n         */\n        get: function () {\n            return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Opens a Popup component. Created Popups are mounted\n     * in the DOM directly in the root application component.\n     *\n     * @param {PopupSettings} options - The options which define the Popup.\n     * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n     *\n     * @example\n     *\n     * ```ts-no-run\n     * _@Component({\n     *   selector: 'my-app',\n     *   template: `\n     *     <ng-template #template>\n     *      Popup content\n     *     </ng-template>\n     *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n     *   `\n     * })\n     * export class AppComponent {\n     *     public popupRef: PopupRef;\n     *\n     *     constructor( private popupService: PopupService ) {}\n     *\n     *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n     *         if (this.popupRef) {\n     *              this.popupRef.close();\n     *              this.popupRef = null;\n     *              return;\n     *         }\n     *\n     *         this.popupRef = this.popupService.open({\n     *           anchor: anchor,\n     *           content: template\n     *         });\n     *     }\n     * }\n     * ```\n     */\n    PopupService.prototype.open = function (options) {\n        if (options === void 0) { options = {}; }\n        var _a = this.contentFrom(options.content), component = _a.component, nodes = _a.nodes;\n        var popupComponentRef = this.appendPopup(nodes, options.appendTo);\n        var popupInstance = popupComponentRef.instance;\n        this.projectComponentInputs(popupComponentRef, options);\n        popupComponentRef.changeDetectorRef.detectChanges();\n        if (component) {\n            component.changeDetectorRef.detectChanges();\n        }\n        var popupElement = this.getComponentRootNode(popupComponentRef);\n        return {\n            close: function () {\n                // XXX: Destroy is required due to this bug:\n                // https://github.com/angular/angular/issues/15578\n                //\n                if (component) {\n                    component.destroy();\n                }\n                else if (!popupComponentRef.hostView.destroyed) {\n                    popupComponentRef.instance.content = null;\n                    popupComponentRef.changeDetectorRef.detectChanges();\n                }\n                popupComponentRef.destroy();\n                // Angular will not remove the element unless the change detection is triggered\n                removeElement(popupElement);\n            },\n            content: component,\n            popup: popupComponentRef,\n            popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n            popupClose: popupInstance.close,\n            popupElement: popupElement,\n            popupOpen: popupInstance.open,\n            popupPositionChange: popupInstance.positionChange\n        };\n    };\n    PopupService.prototype.appendPopup = function (nodes, container) {\n        var popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n        if (!container) {\n            this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n        }\n        return popupComponentRef;\n    };\n    /**\n     * Gets the HTML element for a component reference.\n     *\n     * @param {ComponentRef<any>} componentRef\n     * @returns {HTMLElement}\n     */\n    PopupService.prototype.getComponentRootNode = function (componentRef) {\n        return componentRef.hostView.rootNodes[0];\n    };\n    /**\n     * Gets the `ComponentFactory` instance by its type.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    PopupService.prototype.getComponentFactory = function (componentClass) {\n        return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n    };\n    /**\n     * Creates a component reference from a `Component` type class.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    PopupService.prototype.createComponent = function (componentClass, nodes, container) {\n        var factory = this.getComponentFactory(componentClass);\n        if (container) {\n            return container.createComponent(factory, undefined, this.injector, nodes);\n        }\n        else {\n            var component = factory.create(this.injector, nodes);\n            this.applicationRef.attachView(component.hostView);\n            return component;\n        }\n    };\n    /**\n     * Projects the inputs on the component.\n     *\n     * @param {ComponentRef<any>} component\n     * @param {*} options\n     * @returns {ComponentRef<any>}\n     */\n    PopupService.prototype.projectComponentInputs = function (component, options) {\n        Object.getOwnPropertyNames(options)\n            .filter(function (prop) { return prop !== 'content' || options.content instanceof TemplateRef; })\n            .map(function (prop) {\n            component.instance[prop] = options[prop];\n        });\n        return component;\n    };\n    /**\n     * Gets the component and the nodes to append from the `content` option.\n     *\n     * @param {*} content\n     * @returns {any}\n     */\n    PopupService.prototype.contentFrom = function (content) {\n        if (!content || content instanceof TemplateRef) {\n            return { component: null, nodes: [[]] };\n        }\n        var component = this.createComponent(content);\n        var nodes = component ? [component.location.nativeElement] : [];\n        return {\n            component: component,\n            nodes: [\n                nodes // <ng-content>\n            ]\n        };\n    };\n    PopupService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    PopupService.ctorParameters = function () { return [\n        { type: ApplicationRef, },\n        { type: ComponentFactoryResolver, },\n        { type: Injector, },\n        { type: ElementRef, decorators: [{ type: Inject, args: [POPUP_CONTAINER,] }, { type: Optional },] },\n    ]; };\n    return PopupService;\n}());\nexport { PopupService };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PopupComponent } from './popup.component';\nimport { PopupService } from './popup.service';\nvar POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule]({{ site.data.urls.angular['ngmoduleapi'] }})\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\nvar PopupModule = /** @class */ (function () {\n    function PopupModule() {\n    }\n    PopupModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [POPUP_DIRECTIVES],\n                    entryComponents: [POPUP_DIRECTIVES],\n                    exports: [POPUP_DIRECTIVES],\n                    imports: [CommonModule],\n                    providers: [PopupService]\n                },] },\n    ];\n    /** @nocollapse */\n    PopupModule.ctorParameters = function () { return []; };\n    return PopupModule;\n}());\nexport { PopupModule };\n","/**\n * Defines the mandatory properties of the `kendoDropDownFilter` directive\n * so that `kendoDropDownFilter` can be used with any of the DropDowns components\n * which implement the `FilterableDropDownComponentBase` class.\n *\n * @hidden\n */\nvar FilterableDropDownComponentBase = /** @class */ (function () {\n    function FilterableDropDownComponentBase() {\n    }\n    return FilterableDropDownComponentBase;\n}());\nexport { FilterableDropDownComponentBase };\n","/* tslint:disable:no-null-keyword */\n/* tslint:disable:max-line-length */\n/* tslint:disable:no-bitwise */\nimport { Component, Renderer2, forwardRef, ElementRef, Input, Output, EventEmitter, ContentChild, ViewChild, ViewContainerRef, HostBinding, isDevMode, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { SearchBarComponent } from './searchbar.component';\nimport { ItemTemplateDirective } from './templates/item-template.directive';\nimport { HeaderTemplateDirective } from './templates/header-template.directive';\nimport { FooterTemplateDirective } from './templates/footer-template.directive';\nimport { SelectionService } from './selection.service';\nimport { NavigationService } from './navigation.service';\nimport { DisabledItemsService } from './disabled-items.service';\nimport { Subject } from 'rxjs/Subject';\nimport { merge } from 'rxjs/observable/merge';\nimport { filter } from 'rxjs/operators/filter';\nimport { isPresent, guid, isDocumentAvailable, getter } from './util';\nimport { NavigationAction } from './navigation-action';\nimport { NoDataTemplateDirective } from './templates/no-data-template.directive';\nimport { Keys } from './common/keys';\nimport { PreventableEvent } from './common/preventable-event';\nimport { LocalizationService, L10N_PREFIX } from '@progress/kendo-angular-l10n';\nimport { PopupService } from '@progress/kendo-angular-popup';\nimport { FilterableDropDownComponentBase } from './filterable-base.component';\nvar NO_VALUE = \"\";\n/**\n * @hidden\n */\nexport var AUTOCOMPLETE_VALUE_ACCESSOR = {\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line:no-use-before-declare\n    useExisting: forwardRef(function () { return AutoCompleteComponent; })\n};\n/**\n * Represents the Kendo UI AutoComplete component for Angular.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-autocomplete\n *      [data]=\"listItems\"\n *      [placeholder]=\"placeholder\"\n *  >\n * `\n * })\n * class AppComponent {\n *   public placeholder: string = 'Type \"it\" for suggestions';\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar AutoCompleteComponent = /** @class */ (function () {\n    function AutoCompleteComponent(localization, popupService, selectionService, navigationService, disabledItemsService, _zone, cdr, renderer, wrapper) {\n        this.localization = localization;\n        this.popupService = popupService;\n        this.selectionService = selectionService;\n        this.navigationService = navigationService;\n        this.disabledItemsService = disabledItemsService;\n        this._zone = _zone;\n        this.cdr = cdr;\n        this.renderer = renderer;\n        /**\n         * @hidden\n         */\n        this.focusableId = \"k-\" + guid();\n        /**\n         * The hint which is displayed when the component is empty.\n         */\n        this.placeholder = \"\";\n        /**\n         * Sets the height of the suggestions list. By default, `listHeight` is 200px.\n         *\n         * > The `listHeight` property affects only the list of suggestions and not the whole popup container.\n         * > To set the height of the popup container, use `popupSettings.height`.\n         */\n        this.listHeight = 200;\n        /**\n         * @hidden\n         *\n         * If set to `true`, renders a button on hovering over the component. Clicking this button resets the value of the component to `undefined` and triggers the `change` event.\n         */\n        this.clearButton = true;\n        /**\n         * Sets the disabled state of the component.\n         */\n        this.disabled = false;\n        /**\n         * Sets the read-only state of the component.\n         */\n        this.readonly = false;\n        /**\n         * Specifies the [`tabindex`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) of the component.\n         */\n        this.tabindex = 0;\n        /**\n         * Enables the filter functionality. If set to `true`, the component emits the `filterChange` event.\n         */\n        this.filterable = false;\n        /**\n         * Fires each time the value is changed&mdash;\n         * when the component is blurred or the value is cleared through the **Clear** button.\n         * For more details, refer to the example on [events]({% slug overview_autocomplete %}#toc-events).\n         * When the value of the component is programmatically changed to `ngModel` or `formControl`\n         * through its API or form binding, the `valueChange` event is not triggered because it\n         * might cause a mix-up with the built-in `valueChange` mechanisms of the `ngModel` or `formControl` bindings.\n         */\n        this.valueChange = new EventEmitter();\n        /**\n         * Fires each time the user types in the input field.\n         * You can filter the source based on the passed filtration value.\n         * For more details, refer to the example on [events]({% slug overview_autocomplete %}#toc-events).\n         */\n        this.filterChange = new EventEmitter();\n        /**\n         * Fires each time the popup is about to open.\n         * This event is preventable. If you cancel it, the popup will remain closed.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires each time the popup is about to close.\n         * This event is preventable. If you cancel it, the popup will remain open.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires each time the user focuses the AutoComplete.\n         */\n        this.onFocus = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires each time the AutoComplete gets blurred.\n         */\n        this.onBlur = new EventEmitter(); //tslint:disable-line:no-output-rename\n        this.listBoxId = guid();\n        this.optionPrefix = guid();\n        this.onChangeCallback = function (_value) { };\n        this.onTouchedCallback = function (_) { };\n        this.popupMouseDownHandler = function (event) { return event.preventDefault(); };\n        this._popupSettings = { animate: true };\n        this._open = false;\n        this._value = \"\";\n        this._previousValue = NO_VALUE;\n        this._filtering = false;\n        this.valueChangeSubject = new Subject();\n        this._isFocused = false;\n        this.direction = localization.rtl ? 'rtl' : 'ltr';\n        this.wrapper = wrapper.nativeElement;\n        this.data = [];\n        this.subscribeEvents();\n        this.selectionService.resetSelection([-1]);\n    }\n    Object.defineProperty(AutoCompleteComponent.prototype, \"width\", {\n        get: function () {\n            var wrapperOffsetWidth = 0;\n            if (isDocumentAvailable()) {\n                wrapperOffsetWidth = this.wrapper.offsetWidth;\n            }\n            var width = this.popupSettings.width || wrapperOffsetWidth;\n            var minWidth = isNaN(wrapperOffsetWidth) ? wrapperOffsetWidth : wrapperOffsetWidth + \"px\";\n            var maxWidth = isNaN(width) ? width : width + \"px\";\n            return { min: minWidth, max: maxWidth };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"height\", {\n        get: function () {\n            var popupHeight = this.popupSettings.height;\n            return isPresent(popupHeight) ? popupHeight + \"px\" : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"listContainerClasses\", {\n        get: function () {\n            var containerClasses = ['k-list-container', 'k-reset'];\n            if (this.popupSettings.popupClass) {\n                containerClasses.push(this.popupSettings.popupClass);\n            }\n            return containerClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"suggestion\", {\n        get: function () {\n            if (!this.text || !this.suggestedText) {\n                this.suggestedText = undefined;\n                return;\n            }\n            var hasMatch = this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());\n            var shouldSuggest = this.suggest && !this.backspacePressed;\n            if (shouldSuggest && hasMatch) {\n                return this.suggestedText;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"appendTo\", {\n        get: function () {\n            var appendTo = this.popupSettings.appendTo;\n            if (!appendTo || appendTo === 'root') {\n                return undefined;\n            }\n            return appendTo === 'component' ? this.container : appendTo;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Toggles the visibility of the popup. If you use the `toggle` method to open or close the popup, the `open` and `close` events will not be fired.\n     *\n     * @param open - The state of the popup.\n     */\n    AutoCompleteComponent.prototype.toggle = function (open) {\n        var _this = this;\n        Promise.resolve(null).then(function () {\n            _this._toggle(open);\n        });\n    };\n    Object.defineProperty(AutoCompleteComponent.prototype, \"isOpen\", {\n        /**\n         * Returns the current open state of the popup.\n         */\n        get: function () {\n            return this._open;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.togglePopup = function (open) {\n        var isDisabled = this.disabled || this.readonly;\n        var sameState = this.isOpen === open;\n        if (isDisabled || sameState) {\n            return;\n        }\n        var isDefaultPrevented = this.triggerPopupEvents(open);\n        if (!isDefaultPrevented) {\n            this._toggle(open);\n        }\n    };\n    Object.defineProperty(AutoCompleteComponent.prototype, \"activeDescendant\", {\n        get: function () {\n            var dataItem = this.data[this.selectionService.focused];\n            return this.optionPrefix + \"-\" + getter(dataItem, this.valueField);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"noDataLabel\", {\n        get: function () {\n            if (this.data.length === 0) {\n                return this.noDataText;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        /**\n         * Sets the data of the AutoComplete.\n         *\n         * > The data has to be provided in an array-like list.\n         */\n        set: function (data) {\n            this._data = data || [];\n            this.disabledItemsService.data = this._data;\n            this.setState(this.value);\n            if (this.isOpen && this.filterable) {\n                this.selectionService.focused = this.data && this.data.length ? this.firstFocusableIndex(0) : -1;\n            }\n            var shouldSuggest = this.suggest && this.data && this.data.length && this.value;\n            if (shouldSuggest) {\n                this.suggestedText = getter(this.data[0], this.valueField);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"value\", {\n        get: function () {\n            return this._value || NO_VALUE;\n        },\n        /**\n         * Sets the value of the AutoComplete.\n         */\n        set: function (newValue) {\n            this.verifySettings(newValue);\n            this._value = newValue || NO_VALUE;\n            this.cdr.markForCheck();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"popupSettings\", {\n        get: function () {\n            return this._popupSettings;\n        },\n        /**\n         * Configures the popup of the AutoComplete.\n         *\n         * The available options are:\n         * - `animate: Boolean`&mdash;Controls the popup animation. By default, the open and close animations are enabled.\n         * - `width: Number | String`&mdash;Sets the width of the popup container. By default, the width of the host element is used. If set to `auto`, the component automatically adjusts the width of the popup, so that no item labels are wrapped.\n         * - `height: Number`&mdash;Sets the height of the popup container.\n         * - `popupClass: String`&mdash;Specifies a list of CSS classes that are used to style the popup.\n         * - `appendTo: \"root\" | \"component\" | ViewContainerRef`&mdash;Specifies the component to which the popup will be appended.\n         */\n        set: function (settings) {\n            this._popupSettings = Object.assign({ animate: true }, settings);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"itemDisabled\", {\n        /**\n         * Defines a Boolean function that is executed for each data item in the component\n         * ([see examples]({% slug disableditems_autocomplete %})). Determines whether the item will be disabled.\n         */\n        set: function (fn) {\n            if (typeof fn !== 'function') {\n                throw new Error(\"itemDisabled must be a function, but received \" + JSON.stringify(fn) + \".\");\n            }\n            this.disabledItemsService.itemDisabled = fn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"tabIndex\", {\n        get: function () {\n            return this.tabindex;\n        },\n        /**\n         * @hidden\n         */\n        set: function (tabIndex) {\n            this.tabindex = tabIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"widgetClasses\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"isFocused\", {\n        get: function () {\n            return this._isFocused;\n        },\n        set: function (isFocused) {\n            this._isFocused = isFocused;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"isDisabled\", {\n        get: function () {\n            return this.disabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoCompleteComponent.prototype, \"dir\", {\n        get: function () {\n            return this.direction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AutoCompleteComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.renderer.removeAttribute(this.wrapper, \"tabindex\");\n        this.localizationChangeSubscription = this.localization\n            .changes\n            .subscribe(function (_a) {\n            var rtl = _a.rtl;\n            _this.direction = rtl ? 'rtl' : 'ltr';\n            _this.setMessages();\n        });\n        this.setMessages();\n    };\n    AutoCompleteComponent.prototype.ngOnDestroy = function () {\n        this.destroyPopup();\n        this.unsubscribeEvents();\n        clearTimeout(this.messagesTimeout);\n        if (this.localizationChangeSubscription) {\n            this.localizationChangeSubscription.unsubscribe();\n        }\n    };\n    AutoCompleteComponent.prototype.ngOnChanges = function (changes) {\n        var STATE_PROPS = /(value|valueField)/g;\n        if (STATE_PROPS.test(Object.keys(changes).join())) {\n            this.setState(this.value);\n        }\n    };\n    /**\n     * Resets the value of the AutoComplete.\n     * If you use the `reset` method to clear the value of the component,\n     * the model will not update automatically and the `selectionChange` and `valueChange` events will not be fired.\n     */\n    AutoCompleteComponent.prototype.reset = function () {\n        this.setState(NO_VALUE);\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.clearValue = function (event) {\n        event.stopImmediatePropagation();\n        this.focus();\n        this._filtering = true;\n        this.change(NO_VALUE);\n        this._filtering = false;\n        this.selectionService.resetSelection([]);\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.writeValue = function (value) {\n        this.setState(value);\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.registerOnChange = function (fn) {\n        this.onChangeCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.registerOnTouched = function (fn) {\n        this.onTouchedCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    /**\n     * Focuses the AutoComplete.\n     */\n    AutoCompleteComponent.prototype.focus = function () {\n        if (!this.disabled) {\n            this.searchbar.focus();\n        }\n    };\n    /**\n     * Blurs the AutoComplete.\n     */\n    AutoCompleteComponent.prototype.blur = function () {\n        if (!this.disabled) {\n            this.searchbar.blur();\n        }\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.onResize = function () {\n        if (this._open) {\n            var popupWrapper = this.popupRef.popupElement;\n            var _a = this.width, min = _a.min, max = _a.max;\n            popupWrapper.style.minWidth = min;\n            popupWrapper.style.width = max;\n        }\n    };\n    AutoCompleteComponent.prototype.emitChange = function () {\n        if (this.value === this._previousValue) {\n            return;\n        }\n        this._previousValue = this.value;\n        this.onChangeCallback(this.value);\n        this.valueChange.emit(this.value);\n    };\n    AutoCompleteComponent.prototype.verifySettings = function (newValue) {\n        if (!isDevMode()) {\n            return;\n        }\n        if (isPresent(newValue) && typeof newValue !== \"string\") {\n            throw new Error(\"Expected value of type string. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/#toc-value\");\n        }\n    };\n    AutoCompleteComponent.prototype.search = function (text, startFrom) {\n        if (startFrom === void 0) { startFrom = 0; }\n        var data = this.data.slice(startFrom);\n        var index;\n        if (text.length && data.length) {\n            var i = data.findIndex(this.findIndexPredicate(text));\n            index = (i === -1) ? -1 : i + startFrom;\n        }\n        else {\n            index = -1;\n        }\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            if (index + 1 < this.data.length) {\n                this.search(text, index + 1);\n            }\n            else {\n                this.selectionService.focus(-1);\n            }\n        }\n        else {\n            this.selectionService.focus(index);\n            if (this.suggest) {\n                this.suggestedText = getter(this.data[index], this.valueField);\n            }\n        }\n    };\n    AutoCompleteComponent.prototype.navigate = function (index) {\n        if (!this.isOpen) {\n            return;\n        }\n        if (index < 0 || index > this.data.length) {\n            index = 0;\n        }\n        this.selectionService.focus(index);\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.handleNavigate = function (event) {\n        var focused = isNaN(this.selectionService.focused) ? this.firstFocusableIndex(0) : this.selectionService.focused;\n        var hasFocused = isPresent(focused);\n        var offset = 0;\n        if (this.disabled || this.readonly || isNaN(focused)) {\n            return;\n        }\n        if (!hasFocused) {\n            if (event.keyCode === Keys.down) {\n                offset = -1;\n            }\n            else if (event.keyCode === Keys.up) {\n                offset = 1;\n            }\n        }\n        var action = this.navigationService.process({\n            current: focused + offset,\n            max: this.data.length - 1,\n            min: 0,\n            originalEvent: event\n        });\n        if (action !== NavigationAction.Undefined &&\n            action !== NavigationAction.Backspace &&\n            action !== NavigationAction.Delete &&\n            action !== NavigationAction.Home &&\n            action !== NavigationAction.End &&\n            action !== NavigationAction.Left &&\n            action !== NavigationAction.Right &&\n            ((action === NavigationAction.Enter && this.isOpen) || action !== NavigationAction.Enter)) {\n            event.preventDefault();\n        }\n    };\n    AutoCompleteComponent.prototype.handleEnter = function (event) {\n        var focused = this.selectionService.focused;\n        var value;\n        this._filtering = false;\n        if (this.isOpen) {\n            event.originalEvent.preventDefault();\n        }\n        if (focused >= 0) {\n            value = getter(this.data[focused], this.valueField);\n        }\n        else {\n            var match = this.suggest && this.suggestedText && this.data.length &&\n                getter(this.data[0], this.valueField, true).toLowerCase() === this.searchbar.value.toLowerCase();\n            if (this.isOpen && match) {\n                value = this.suggestedText;\n            }\n            else {\n                value = this.searchbar.value;\n            }\n        }\n        this.change(value);\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.searchBarChange = function (text) {\n        var currentTextLength = this.text.length;\n        this.backspacePressed = (text.length < currentTextLength) ? true : false;\n        this.text = text;\n        this.togglePopup(text.length > 0);\n        this._filtering = true;\n        if (this.filterable) {\n            this.filterChange.emit(text);\n        }\n        else {\n            this.search(text);\n        }\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.handleFocus = function () {\n        this.isFocused = true;\n        this.onFocus.emit();\n    };\n    /**\n     * @hidden\n     */\n    AutoCompleteComponent.prototype.handleBlur = function () {\n        this._filtering = false;\n        var focused = this.filterable ? this.selectionService.focused : -1;\n        var dataItem;\n        var text;\n        if (focused !== -1) {\n            dataItem = this.data[focused];\n            text = getter(dataItem, this.valueField, true) || \"\";\n        }\n        else {\n            text = this.searchbar.value;\n        }\n        var exactMatch = text === this.searchbar.value;\n        var insensitiveMatch = text.toLowerCase() === this.searchbar.value.toLowerCase();\n        if (!exactMatch && insensitiveMatch) {\n            this.selectionService.resetSelection([]);\n        }\n        this.change(this.searchbar.value);\n        this.togglePopup(false);\n        this.isFocused = false;\n        this.onBlur.emit();\n        this.onTouchedCallback();\n    };\n    AutoCompleteComponent.prototype.setState = function (newValue) {\n        if (this._filtering) {\n            return;\n        }\n        this.value = newValue;\n        this._previousValue = this.value;\n        this.text = this.value;\n    };\n    AutoCompleteComponent.prototype.change = function (value) {\n        this.togglePopup(false);\n        this.valueChangeSubject.next(value);\n    };\n    AutoCompleteComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this.valueChangeSubscription = this.valueChangeSubject.pipe(filter(function (candidate) {\n            return !(_this.value === candidate && _this.text === candidate);\n        }))\n            .subscribe(function (value) {\n            _this.value = value;\n            _this.text = value;\n            if (_this.filterable && !_this.value && !_this.text) {\n                _this.filterChange.emit(\"\");\n            }\n            _this.emitChange();\n        });\n        this.changeSubscription = this.selectionService.onChange.subscribe(this.handleItemChange.bind(this));\n        this.focusSubscription = this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this));\n        this.navigationSubscription = merge(this.navigationService.up, this.navigationService.down).subscribe(function (event) { return _this.navigate(event.index); });\n        this.closeSubscription = this.navigationService.close.subscribe(function () { return _this.togglePopup(false); });\n        this.enterSubscription = this.navigationService.enter.subscribe(this.handleEnter.bind(this));\n        this.escSubscription = this.navigationService.esc.subscribe(this.handleBlur.bind(this));\n    };\n    AutoCompleteComponent.prototype.unsubscribeEvents = function () {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this.changeSubscription.unsubscribe();\n        this.navigationSubscription.unsubscribe();\n        this.closeSubscription.unsubscribe();\n        this.enterSubscription.unsubscribe();\n        this.escSubscription.unsubscribe();\n        this.valueChangeSubscription.unsubscribe();\n        this.focusSubscription.unsubscribe();\n    };\n    AutoCompleteComponent.prototype.handleItemChange = function (event) {\n        var index = event.indices.length ? event.indices[0] : undefined;\n        this._filtering = false;\n        this.selectionService.resetSelection([-1]);\n        if (!isPresent(index)) {\n            return;\n        }\n        var text = getter(this.data[index], this.valueField);\n        this.change(text);\n    };\n    AutoCompleteComponent.prototype.handleItemFocus = function (_event) {\n        var focused = this.selectionService.focused;\n        var shouldSuggest = Boolean(this.suggest && this.data && this.data.length && focused >= 0);\n        if (shouldSuggest) {\n            this.suggestedText = getter(this.data[focused], this.valueField);\n        }\n    };\n    AutoCompleteComponent.prototype.createPopup = function () {\n        var _this = this;\n        this.popupRef = this.popupService.open({\n            anchor: this.wrapper,\n            animate: this.popupSettings.animate,\n            appendTo: this.appendTo,\n            content: this.popupTemplate,\n            popupClass: this.listContainerClasses,\n            positionMode: 'absolute'\n        });\n        var popupWrapper = this.popupRef.popupElement;\n        var _a = this.width, min = _a.min, max = _a.max;\n        popupWrapper.addEventListener('mousedown', this.popupMouseDownHandler);\n        popupWrapper.style.minWidth = min;\n        popupWrapper.style.width = max;\n        popupWrapper.style.height = this.height;\n        popupWrapper.setAttribute(\"dir\", this.direction);\n        this.popupRef.popupAnchorViewportLeave.subscribe(function () { return _this.togglePopup(false); });\n    };\n    AutoCompleteComponent.prototype.destroyPopup = function () {\n        if (this.popupRef) {\n            this.popupRef.popupElement\n                .removeEventListener('mousedown', this.popupMouseDownHandler);\n            this.popupRef.close();\n            this.popupRef = null;\n        }\n    };\n    AutoCompleteComponent.prototype._toggle = function (open) {\n        this._open = (open === undefined) ? !this._open : open;\n        this.destroyPopup();\n        if (this._open) {\n            this.createPopup();\n        }\n    };\n    AutoCompleteComponent.prototype.triggerPopupEvents = function (open) {\n        var eventArgs = new PreventableEvent();\n        if (open) {\n            this.open.emit(eventArgs);\n        }\n        else {\n            this.close.emit(eventArgs);\n        }\n        return eventArgs.isDefaultPrevented();\n    };\n    AutoCompleteComponent.prototype.firstFocusableIndex = function (index) {\n        var maxIndex = this.data.length - 1;\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            return (index < maxIndex) ? this.firstFocusableIndex(index + 1) : undefined;\n        }\n        else {\n            return index;\n        }\n    };\n    AutoCompleteComponent.prototype.findIndexPredicate = function (text) {\n        var _this = this;\n        return function (item) {\n            var itemText = getter(item, _this.valueField);\n            itemText = itemText === undefined ? \"\" : itemText.toString().toLowerCase();\n            return itemText.startsWith(text.toLowerCase());\n        };\n    };\n    AutoCompleteComponent.prototype.setMessages = function () {\n        var _this = this;\n        this._zone.runOutsideAngular(function () {\n            clearTimeout(_this.messagesTimeout);\n            _this.messagesTimeout = setTimeout(function () {\n                _this.noDataText = _this.localization.get('noDataText');\n                _this.cdr.detectChanges();\n            });\n        });\n    };\n    AutoCompleteComponent.decorators = [\n        { type: Component, args: [{\n                    exportAs: 'kendoAutoComplete',\n                    providers: [\n                        AUTOCOMPLETE_VALUE_ACCESSOR,\n                        SelectionService,\n                        NavigationService,\n                        DisabledItemsService,\n                        LocalizationService,\n                        {\n                            provide: L10N_PREFIX,\n                            useValue: 'kendo.autocomplete'\n                        },\n                        {\n                            provide: FilterableDropDownComponentBase, useExisting: forwardRef(function () { return AutoCompleteComponent; })\n                        }\n                    ],\n                    selector: 'kendo-autocomplete',\n                    template: \"\\n        <ng-container kendoAutoCompleteLocalizedMessages\\n            i18n-noDataText=\\\"kendo.autocomplete.noDataText|The text displayed in the popup when there are no items\\\"\\n            noDataText=\\\"NO DATA FOUND\\\"\\n        >\\n        </ng-container>\\n        <kendo-searchbar #searchbar\\n            [role]=\\\"'textbox'\\\"\\n            [id]=\\\"focusableId\\\"\\n            [listId]=\\\"listBoxId\\\"\\n            [activeDescendant]=\\\"activeDescendant\\\"\\n            [noDataLabel]=\\\"noDataLabel\\\"\\n            [userInput]=\\\"text\\\"\\n            [suggestedText]=\\\"suggestion\\\"\\n            [disabled]=\\\"disabled\\\"\\n            [readonly]=\\\"readonly\\\"\\n            [tabIndex]=\\\"tabIndex\\\"\\n            [popupOpen]=\\\"isOpen\\\"\\n            [placeholder]=\\\"placeholder\\\"\\n            (onNavigate)=\\\"handleNavigate($event)\\\"\\n            (valueChange)=\\\"searchBarChange($event)\\\"\\n            (onBlur)=\\\"handleBlur()\\\"\\n            (onFocus)=\\\"handleFocus()\\\"\\n        ></kendo-searchbar>\\n        <span *ngIf=\\\"!loading && !readonly && (clearButton && text?.length)\\\" class=\\\"k-icon k-clear-value k-i-close\\\" title=\\\"clear\\\" role=\\\"button\\\" tabindex=\\\"-1\\\" (click)=\\\"clearValue($event)\\\" (mousedown)=\\\"$event.preventDefault()\\\">\\n</span>\\n        <span *ngIf=\\\"loading\\\" class=\\\"k-icon k-i-loading\\\"></span>\\n        <ng-template #popupTemplate>\\n            <!--header template-->\\n            <ng-template *ngIf=\\\"headerTemplate\\\"\\n                [templateContext]=\\\"{\\n                    templateRef: headerTemplate.templateRef\\n                }\\\">\\n            </ng-template>\\n            <!--list-->\\n            <kendo-list\\n                [id]=\\\"listBoxId\\\"\\n                [optionPrefix]=\\\"optionPrefix\\\"\\n                [data]=\\\"data\\\"\\n                [textField]=\\\"valueField\\\"\\n                [valueField]=\\\"valueField\\\"\\n                [template]=\\\"template\\\"\\n                [height]=\\\"listHeight\\\"\\n                [show]=\\\"isOpen\\\"\\n            >\\n            </kendo-list>\\n            <!--no-data template-->\\n            <div class=\\\"k-nodata\\\" *ngIf=\\\"data.length === 0\\\">\\n                <ng-template [ngIf]=\\\"noDataTemplate\\\"\\n                    [templateContext]=\\\"{\\n                        templateRef: noDataTemplate?.templateRef\\n                    }\\\">\\n                </ng-template>\\n                <ng-template [ngIf]=\\\"!noDataTemplate\\\">\\n                    <div>{{ noDataText }}</div>\\n                </ng-template>\\n            </div>\\n            <!--footer template-->\\n            <ng-template *ngIf=\\\"footerTemplate\\\"\\n                [templateContext]=\\\"{\\n                    templateRef: footerTemplate.templateRef\\n                }\\\">\\n            </ng-template>\\n        </ng-template>\\n        <ng-template [ngIf]=\\\"isOpen\\\">\\n            <kendo-resize-sensor (resize)=\\\"onResize()\\\"></kendo-resize-sensor>\\n        </ng-template>\\n        <ng-container #container></ng-container>\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    AutoCompleteComponent.ctorParameters = function () { return [\n        { type: LocalizationService, },\n        { type: PopupService, },\n        { type: SelectionService, },\n        { type: NavigationService, },\n        { type: DisabledItemsService, },\n        { type: NgZone, },\n        { type: ChangeDetectorRef, },\n        { type: Renderer2, },\n        { type: ElementRef, },\n    ]; };\n    AutoCompleteComponent.propDecorators = {\n        'focusableId': [{ type: Input },],\n        'data': [{ type: Input },],\n        'value': [{ type: Input },],\n        'valueField': [{ type: Input },],\n        'placeholder': [{ type: Input },],\n        'popupSettings': [{ type: Input },],\n        'listHeight': [{ type: Input },],\n        'loading': [{ type: Input },],\n        'clearButton': [{ type: Input },],\n        'suggest': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'itemDisabled': [{ type: Input },],\n        'readonly': [{ type: Input },],\n        'tabindex': [{ type: Input },],\n        'tabIndex': [{ type: Input, args: [\"tabIndex\",] },],\n        'filterable': [{ type: Input },],\n        'valueChange': [{ type: Output },],\n        'filterChange': [{ type: Output },],\n        'open': [{ type: Output },],\n        'close': [{ type: Output },],\n        'onFocus': [{ type: Output, args: ['focus',] },],\n        'onBlur': [{ type: Output, args: ['blur',] },],\n        'template': [{ type: ContentChild, args: [ItemTemplateDirective,] },],\n        'headerTemplate': [{ type: ContentChild, args: [HeaderTemplateDirective,] },],\n        'footerTemplate': [{ type: ContentChild, args: [FooterTemplateDirective,] },],\n        'noDataTemplate': [{ type: ContentChild, args: [NoDataTemplateDirective,] },],\n        'container': [{ type: ViewChild, args: ['container', { read: ViewContainerRef },] },],\n        'popupTemplate': [{ type: ViewChild, args: ['popupTemplate',] },],\n        'searchbar': [{ type: ViewChild, args: [SearchBarComponent,] },],\n        'widgetClasses': [{ type: HostBinding, args: ['class.k-widget',] }, { type: HostBinding, args: ['class.k-autocomplete',] }, { type: HostBinding, args: ['class.k-header',] },],\n        'isFocused': [{ type: HostBinding, args: ['class.k-state-focused',] },],\n        'isDisabled': [{ type: HostBinding, args: ['class.k-state-disabled',] },],\n        'dir': [{ type: HostBinding, args: ['attr.dir',] },],\n    };\n    return AutoCompleteComponent;\n}());\nexport { AutoCompleteComponent };\n","import { InjectionToken } from '@angular/core';\n/**\n * @hidden\n */\nexport var TOUCH_ENABLED = new InjectionToken('dropdowns-touch-enabled');\n","/**\n * @hidden\n */\n/* tslint:disable:max-line-length */\n/* tslint:disable:variable-name */\nexport var MultiselectMessages = {\n    'array': 'Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection',\n    'object': 'Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection',\n    'primitive': 'Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection',\n    'textAndValue': 'Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data'\n};\n/**\n * @hidden\n */\n/* tslint:disable:max-line-length */\n/* tslint:disable:variable-name */\nexport var ComboBoxMessages = {\n    'object': 'Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection',\n    'primitive': 'Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection',\n    'textAndValue': 'Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data'\n};\n/**\n * @hidden\n */\n/* tslint:disable:max-line-length */\n/* tslint:disable:variable-name */\nexport var DropDownListMessages = {\n    'defaultItem': 'defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem',\n    'object': 'Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection',\n    'primitive': 'Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection',\n    'textAndValue': 'Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data'\n};\n","/* tslint:disable:no-null-keyword */\n/* tslint:disable:max-line-length */\n/* tslint:disable:no-bitwise */\nimport { Component, Renderer2, forwardRef, ElementRef, Input, Output, EventEmitter, ContentChild, ViewChild, ViewContainerRef, HostBinding, isDevMode, Optional, Inject, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { SearchBarComponent } from './searchbar.component';\nimport { ItemTemplateDirective } from './templates/item-template.directive';\nimport { HeaderTemplateDirective } from './templates/header-template.directive';\nimport { FooterTemplateDirective } from './templates/footer-template.directive';\nimport { NoDataTemplateDirective } from './templates/no-data-template.directive';\nimport { SelectionService } from './selection.service';\nimport { NavigationService } from './navigation.service';\nimport { DisabledItemsService } from './disabled-items.service';\nimport { merge } from 'rxjs/observable/merge';\nimport { catchError } from 'rxjs/operators/catchError';\nimport { distinctUntilChanged } from 'rxjs/operators/distinctUntilChanged';\nimport { filter } from 'rxjs/operators/filter';\nimport { map } from 'rxjs/operators/map';\nimport { partition } from 'rxjs/operators/partition';\nimport { tap } from 'rxjs/operators/tap';\nimport { of } from 'rxjs/observable/of';\nimport { throttleTime } from 'rxjs/operators/throttleTime';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\nimport { isPresent, isChanged, guid, isDocumentAvailable, getter } from './util';\nimport { NavigationAction } from './navigation-action';\nimport { Keys } from './common/keys';\nimport { PreventableEvent } from './common/preventable-event';\nimport { LocalizationService, L10N_PREFIX } from '@progress/kendo-angular-l10n';\nimport { PopupService } from '@progress/kendo-angular-popup';\nimport { TOUCH_ENABLED } from './touch-enabled';\nimport { ComboBoxMessages } from './error-messages';\nimport { FilterableDropDownComponentBase } from './filterable-base.component';\n/**\n * @hidden\n */\nexport var COMBOBOX_VALUE_ACCESSOR = {\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line:no-use-before-declare\n    useExisting: forwardRef(function () { return ComboBoxComponent; })\n};\n/**\n * Represents the Kendo UI ComboBox component for Angular.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-combobox [data]=\"listItems\">\n *  </kendo-combobox>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar ComboBoxComponent = /** @class */ (function () {\n    function ComboBoxComponent(localization, popupService, selectionService, navigationService, disabledItemsService, _zone, cdr, renderer, wrapper, touchEnabled) {\n        this.localization = localization;\n        this.popupService = popupService;\n        this.selectionService = selectionService;\n        this.navigationService = navigationService;\n        this.disabledItemsService = disabledItemsService;\n        this._zone = _zone;\n        this.cdr = cdr;\n        this.renderer = renderer;\n        this.touchEnabled = touchEnabled;\n        this.selected = [];\n        /**\n         * @hidden\n         */\n        this.focusableId = \"k-\" + guid();\n        /**\n         * Specifies whether the ComboBox allows user-defined values that are not present in the dataset.\n         * The default value is `false`.\n         * For more information, refer to the article on [custom values]({% slug custom_values_combobox %}).\n         */\n        this.allowCustom = false;\n        /**\n         * A user-defined callback which returns normalized custom values. Typically used when the data items are different from type `string`.\n         * @param { Any } value - The custom value defined by the user.\n         * @returns { Any }\n         *\n         * @example\n         * ```ts\n         * import { map } from 'rxjs/operators/map';\n         *\n         * _@Component({\n         * selector: 'my-app',\n         * template: `\n         *   <kendo-combobox\n         *       [allowCustom]=\"true\"\n         *       [data]=\"listItems\"\n         *       [textField]=\"'text'\"\n         *       [valueField]=\"'value'\"\n         *       [valueNormalizer]=\"valueNormalizer\"\n         *       (valueChange)=\"onValueChange($event)\"\n         *   >\n         *   </kendo-combobox>\n         * `\n         * })\n         *\n         * class AppComponent {\n         *   public listItems: Array<{ text: string, value: number }> = [\n         *       { text: \"Small\", value: 1 },\n         *       { text: \"Medium\", value: 2 },\n         *       { text: \"Large\", value: 3 }\n         *   ];\n         *\n         *   public onValueChange(value) {\n         *       console.log(\"valueChange : \", value);\n         *   }\n         *\n         *   public valueNormalizer = (text$: Observable<string>) => text$.pipe(map((text: string) => {\n         *      return { ProductID: null, ProductName: text };\n         *   }));\n         *\n         * }\n         * ```\n         */\n        this.valueNormalizer = function (text) {\n            return text.pipe(map(function (userInput) { return userInput; }));\n        };\n        /**\n         * The hint displayed when the component is empty.\n         *\n         */\n        this.placeholder = \"\";\n        /**\n         * Sets the height of the suggestions list. By default, `listHeight` is 200px.\n         *\n         * > The `listHeight` property affects only the list of suggestions and not the whole popup container.\n         * > To set the height of the popup container, use `popupSettings.height`.\n         */\n        this.listHeight = 200;\n        /**\n         * @hidden\n         *\n         * Enables the auto-completion of the text based on the first data item.\n         */\n        this.suggest = false;\n        /**\n         * If set to `true`, renders a button on hovering over the component. Clicking this button resets the value of the component to `undefined` and triggers the `change` event.\n         */\n        this.clearButton = true;\n        /**\n         * Sets the disabled state of the component.\n         */\n        this.disabled = false;\n        /**\n         * Sets the read-only state of the component.\n         */\n        this.readonly = false;\n        /**\n         * Specifies the [`tabindex`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) of the component.\n         */\n        this.tabindex = 0;\n        /**\n         * Enables the filtering functionality. If set to `true`, the component emits the `filterChange` event.\n         */\n        this.filterable = false;\n        /**\n         * Fires each time the value is changed&mdash;\n         * when the component is blurred or the value is cleared through the **Clear** button.\n         * For more details, refer to the example on [events]({% slug overview_combobox %}#toc-events).\n         * When the value of the component is programmatically changed to `ngModel` or `formControl`\n         * through its API or form binding, the `valueChange` event is not triggered because it\n         * might cause a mix-up with the built-in `valueChange` mechanisms of the `ngModel` or `formControl` bindings.\n         */\n        this.valueChange = new EventEmitter();\n        /**\n         * Fires each time an item selection is changed.\n         * For more details, refer to the example on [events]({% slug overview_combobox %}#toc-events).\n         */\n        this.selectionChange = new EventEmitter();\n        /**\n         * Fires each time the user types in the input field.\n         * You can filter the source based on the passed filtration value.\n         * For more details, refer to the example on [events]({% slug overview_combobox %}#toc-events).\n         */\n        this.filterChange = new EventEmitter();\n        /**\n         * Fires each time the popup is about to open.\n         * This event is preventable. If you cancel it, the popup will remain closed.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires each time the popup is about to close.\n         * This event is preventable. If you cancel it, the popup will remain open.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires each time the user focuses the ComboBox.\n         */\n        this.onFocus = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires each time the ComboBox gets blurred.\n         */\n        this.onBlur = new EventEmitter(); //tslint:disable-line:no-output-rename\n        this.isFocused = false;\n        this.listBoxId = guid();\n        this.optionPrefix = guid();\n        this.onChangeCallback = function (_) { };\n        this.onTouchedCallback = function (_) { };\n        this._filtering = false;\n        this._text = \"\";\n        this._open = false;\n        this._popupSettings = { animate: true };\n        this.popupMouseDownHandler = function (event) { return event.preventDefault(); };\n        this.customValueSubject = new Subject();\n        this.valueSubject = new Subject();\n        this.selectionSubject = new Subject();\n        this.subs = new Subscription();\n        this.direction = localization.rtl ? 'rtl' : 'ltr';\n        this.wrapper = wrapper.nativeElement;\n        this.data = [];\n    }\n    Object.defineProperty(ComboBoxComponent.prototype, \"width\", {\n        get: function () {\n            var wrapperOffsetWidth = 0;\n            if (isDocumentAvailable()) {\n                wrapperOffsetWidth = this.wrapper.offsetWidth;\n            }\n            var width = this.popupSettings.width || wrapperOffsetWidth;\n            var minWidth = isNaN(wrapperOffsetWidth) ? wrapperOffsetWidth : wrapperOffsetWidth + \"px\";\n            var maxWidth = isNaN(width) ? width : width + \"px\";\n            return { min: minWidth, max: maxWidth };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"height\", {\n        get: function () {\n            var popupHeight = this.popupSettings.height;\n            return isPresent(popupHeight) ? popupHeight + \"px\" : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"text\", {\n        get: function () {\n            return this._text;\n        },\n        set: function (text) {\n            var textCandidate = getter(text, this.textField, true);\n            this._text = isPresent(textCandidate) ? textCandidate.toString() : \"\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.togglePopup = function (open) {\n        var isDisabled = this.disabled || this.readonly;\n        var sameState = this.isOpen === open;\n        if (isDisabled || sameState) {\n            return;\n        }\n        var isDefaultPrevented = this.triggerPopupEvents(open);\n        if (!isDefaultPrevented) {\n            this._toggle(open);\n        }\n    };\n    Object.defineProperty(ComboBoxComponent.prototype, \"activeDescendant\", {\n        get: function () {\n            var dataItem = this.data[this.selectionService.focused];\n            return this.optionPrefix + \"-\" + dataItem ? getter(dataItem, this.valueField) : \"\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"noDataLabel\", {\n        get: function () {\n            if (this.data.length === 0) {\n                return this.noDataText;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"appendTo\", {\n        get: function () {\n            var appendTo = this.popupSettings.appendTo;\n            if (!appendTo || appendTo === 'root') {\n                return undefined;\n            }\n            return appendTo === 'component' ? this.container : appendTo;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        /**\n         * Sets the data of the ComboBox.\n         *\n         * > The data has to be provided in an array-like list.\n         */\n        set: function (data) {\n            this._data = data || [];\n            this.disabledItemsService.data = this._data;\n            this.setState();\n            if (this._filtering) {\n                if (this.text.length > 0) {\n                    this.search(this.text);\n                    if (this.selectionService.focused === -1 && this._data.length) {\n                        this.selectionService.focused = this.firstFocusableIndex(0);\n                    }\n                }\n                else {\n                    this.selectionService.focused = -1;\n                }\n            }\n            if (this.suggest && this.data && this.data.length && this.text) {\n                this.suggestedText = getter(this.data[0], this.textField);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        /**\n         * Sets the value of the ComboBox. It can either be of the primitive (string, numbers) or of the complex (objects) type. To define the type, use the `valuePrimitive` option.\n         *\n         * > All selected values which are not present in the dataset are considered custom values. When the `Enter` key is pressed or the component loses focus, custom values get dismissed unless `allowCustom` is set to `true`.\n         */\n        set: function (newValue) {\n            this.verifySettings(newValue);\n            this._value = newValue;\n            this.cdr.markForCheck();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"popupSettings\", {\n        get: function () {\n            return this._popupSettings;\n        },\n        /**\n         * Configures the popup of the ComboBox.\n         *\n         * The available options are:\n         * - `animate: Boolean`&mdash;Controls the popup animation. By default, the open and close animations are enabled.\n         * - `width: Number | String`&mdash;Sets the width of the popup container. By default, the width of the host element is used  If set to `auto`, the component automatically adjusts the width of the popup, so no item labels are wrapped.\n         * - `height: Number`&mdash;Sets the height of the popup container.\n         * - `popupClass: String`&mdash;Specifies a list of CSS classes that are used to style the popup.\n         * - `appendTo: \"root\" | \"component\" | ViewContainerRef`&mdash;Specifies the component to which the popup will be appended.\n         */\n        set: function (settings) {\n            this._popupSettings = Object.assign({ animate: true }, settings);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"itemDisabled\", {\n        /**\n         * Defines a Boolean function that is executed for each data item in the component\n         * ([see examples]({% slug disableditems_combobox %})). Determines whether the item will be disabled.\n         */\n        set: function (fn) {\n            if (typeof fn !== 'function') {\n                throw new Error(\"itemDisabled must be a function, but received \" + JSON.stringify(fn) + \".\");\n            }\n            this.disabledItemsService.itemDisabled = fn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"tabIndex\", {\n        get: function () {\n            return this.tabindex;\n        },\n        /**\n         * @hidden\n         */\n        set: function (tabIndex) {\n            this.tabindex = tabIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"widgetClasses\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.wrapperClasses = function () {\n        return {\n            'k-dropdown-wrap': true,\n            'k-state-default': !this.disabled,\n            'k-state-disabled': this.disabled,\n            'k-state-focused': this.isFocused\n        };\n    };\n    Object.defineProperty(ComboBoxComponent.prototype, \"clearable\", {\n        get: function () {\n            return this.clearButton;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxComponent.prototype, \"dir\", {\n        get: function () {\n            return this.direction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComboBoxComponent.prototype.ngOnInit = function () {\n        this.renderer.removeAttribute(this.wrapper, \"tabindex\");\n        this.attachStreams();\n        this.createValueStream();\n        this.setMessages();\n    };\n    ComboBoxComponent.prototype.createValueStream = function () {\n        var _this = this;\n        var valueFrom = this.prop(this.valueField, this.valuePrimitive);\n        var textFrom = this.prop(this.textField, this.valuePrimitive);\n        var valueStream = this.valueSubject.pipe(filter(function (candidate) {\n            var current = valueFrom(_this.value);\n            var newValue = valueFrom(candidate);\n            var newText = textFrom(candidate);\n            if (!isPresent(_this.value) && !isPresent(newValue)) {\n                return false;\n            }\n            if (isPresent(newText)) {\n                newText = newText.toString();\n            }\n            if (current === newValue && _this.text === newText) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }), map(function (candidate) {\n            var newValue = valueFrom(candidate);\n            var newText = textFrom(candidate);\n            return {\n                dataItem: candidate,\n                text: newText,\n                value: _this.valuePrimitive ? newValue : candidate\n            };\n        }));\n        var customValueStreams = partition(function () { return _this.allowCustom; })(this.customValueSubject.pipe(throttleTime(300)));\n        var allowCustomValueStream = customValueStreams[0].pipe(tap(function () {\n            _this.loading = true;\n            _this.disabled = true;\n            _this.cdr.detectChanges();\n        }), filter(function () {\n            var hasChange = _this.text !== valueFrom(_this.value);\n            _this.loading = hasChange;\n            _this.disabled = hasChange;\n            return hasChange;\n        }), this.valueNormalizer, map(function (normalizedValue) {\n            return {\n                custom: true,\n                dataItem: normalizedValue,\n                text: _this.text,\n                value: normalizedValue\n            };\n        }));\n        var disableCustomValueStream = customValueStreams[1].pipe(map(function () {\n            return {\n                custom: true,\n                dataItem: undefined,\n                text: undefined,\n                value: undefined\n            };\n        }));\n        if (this.valueSubscription) {\n            this.valueSubscription.unsubscribe();\n        }\n        var merged = merge(valueStream, allowCustomValueStream, disableCustomValueStream);\n        this.valueSubscription = merged.pipe(catchError(function () {\n            _this.dataItem = undefined;\n            _this.value = undefined;\n            _this.text = undefined;\n            _this.loading = false;\n            _this.disabled = false;\n            _this.emitSelectionChange(undefined);\n            _this.emitValueChange();\n            _this.createValueStream();\n            return of(null);\n        }))\n            .subscribe(function (state) {\n            _this.dataItem = state.dataItem;\n            _this.value = state.value;\n            var textCleared = (isPresent(_this.text) && _this.text.length) && !isPresent(state.text);\n            _this.text = state.text;\n            _this.loading = false;\n            _this.disabled = false;\n            if (_this.filterable && !isPresent(state.value) && textCleared) {\n                _this.filterChange.emit(\"\");\n            }\n            if (state.custom) {\n                _this.selectionService.focused = -1;\n            }\n            _this.emitSelectionChange(state.custom ? undefined : _this.dataItem);\n            _this.emitValueChange();\n        });\n    };\n    ComboBoxComponent.prototype.attachStreams = function () {\n        var _this = this;\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this.subs.add(this.localization\n            .changes.subscribe(function (_a) {\n            var rtl = _a.rtl;\n            _this.direction = rtl ? 'rtl' : 'ltr';\n            _this.setMessages();\n        }));\n        this.subs.add(merge(this.navigationService.up, this.navigationService.down, this.navigationService.home, this.navigationService.end).subscribe(function (event) { return _this.navigate(event.index); }));\n        this.subs.add(this.navigationService.open.subscribe(function () { return _this.togglePopup(true); }));\n        this.subs.add(this.navigationService.close.subscribe(function () { return _this.togglePopup(false); }));\n        this.subs.add(this.navigationService.esc.subscribe(this.handleBlur.bind(this)));\n        this.subs.add(this.navigationService.enter.pipe(tap(function (event) {\n            if (_this.isOpen) {\n                event.originalEvent.preventDefault();\n            }\n        }))\n            .subscribe(this.handleEnter.bind(this)));\n        this.subs.add(this.selectionSubject.pipe(distinctUntilChanged()).subscribe(function (dataItem) {\n            _this.selectionChange.emit(dataItem);\n        }));\n        this.subs.add(merge(this.selectionService.onChange, this.selectionService.onSelect.pipe(filter(function (_) { return !_this.isOpen; })))\n            .pipe(tap(function (_) {\n            _this._filtering = false;\n            _this.togglePopup(false);\n        }), map(function (event) { return event.indices[0]; }))\n            .subscribe(function (index) {\n            var dataItem = _this.data[index];\n            _this.change(dataItem);\n        }));\n        this.subs.add(this.selectionService.onSelect.pipe(filter(function (_) { return _this.isOpen; }), tap(function (_) { return _this._filtering = false; }), map(function (event) { return _this.data[event.indices[0]]; }))\n            .subscribe(function (dataItem) {\n            _this.updateState({ dataItem: dataItem });\n            _this.emitSelectionChange(dataItem);\n        }));\n    };\n    ComboBoxComponent.prototype.ngOnDestroy = function () {\n        this.destroyPopup();\n        clearTimeout(this.messagesTimeout);\n        this.subs.unsubscribe();\n        if (this.valueSubscription) {\n            this.valueSubscription.unsubscribe();\n        }\n    };\n    ComboBoxComponent.prototype.ngOnChanges = function (changes) {\n        if (this.valuePrimitive === undefined) {\n            this.valuePrimitive = this.valueField ? false : true;\n        }\n        this.verifySettings(this.value);\n        if (isChanged(\"valueNormalizer\", changes)) {\n            this.createValueStream();\n        }\n        if (this.valuePrimitive === undefined) {\n            this.valuePrimitive = this.valueField ? false : true;\n        }\n        var STATE_PROPS = /(value|textField|valueField|valuePrimitive)/g;\n        if (STATE_PROPS.test(Object.keys(changes).join())) {\n            this.setState();\n        }\n    };\n    /**\n     * Focuses the ComboBox.\n     */\n    ComboBoxComponent.prototype.focus = function () {\n        if (!this.disabled) {\n            this.searchbar.focus();\n        }\n    };\n    /**\n     * Blurs the ComboBox.\n     */\n    ComboBoxComponent.prototype.blur = function () {\n        if (!this.disabled) {\n            this.searchbar.blur();\n        }\n    };\n    /**\n     * Toggles the visibility of the popup. If you use the `toggle` method to open or close the popup,\n     * the `open` and `close` events will not be fired.\n     *\n     * @param open - The state of the popup.\n     */\n    ComboBoxComponent.prototype.toggle = function (open) {\n        var _this = this;\n        Promise.resolve(null).then(function () {\n            _this._toggle(open);\n            _this.cdr.markForCheck();\n        });\n    };\n    Object.defineProperty(ComboBoxComponent.prototype, \"isOpen\", {\n        /**\n         * Returns the current open state of the popup.\n         */\n        get: function () {\n            return this._open;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Resets the value of the ComboBox.\n     * If you use the `reset` method to clear the value of the component,\n     * the model will not update automatically and the `selectionChange` and `valueChange` events will not be fired.\n     */\n    ComboBoxComponent.prototype.reset = function () {\n        this.value = undefined;\n        this.clearState();\n        this.resetSelection();\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.clearValue = function (event) {\n        event.stopImmediatePropagation();\n        this.focus();\n        this._filtering = true;\n        this._previousDataItem = undefined;\n        this.selectionService.resetSelection([]);\n        this.change(undefined, true);\n        this._filtering = false;\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.writeValue = function (value) {\n        this.text = \"\";\n        this.value = value === null ? undefined : value;\n        this.setState();\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.registerOnChange = function (fn) {\n        this.onChangeCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.registerOnTouched = function (fn) {\n        this.onTouchedCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    Object.defineProperty(ComboBoxComponent.prototype, \"buttonClasses\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return _a = {},\n                _a[this.iconClass] = !this.loading && this.iconClass,\n                _a['k-i-arrow-s'] = !this.loading && !this.iconClass,\n                _a['k-i-loading'] = this.loading,\n                _a['k-icon'] = true,\n                _a;\n            var _a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.onResize = function () {\n        if (this.isOpen) {\n            var popupWrapper = this.popupRef.popupElement;\n            var _a = this.width, min = _a.min, max = _a.max;\n            popupWrapper.style.minWidth = min;\n            popupWrapper.style.width = max;\n        }\n    };\n    ComboBoxComponent.prototype.verifySettings = function (newValue) {\n        var valueOrText = !isPresent(this.valueField) !== !isPresent(this.textField);\n        if (!isDevMode()) {\n            return;\n        }\n        if (this.valuePrimitive === true && isPresent(newValue) && typeof newValue === \"object\") {\n            throw new Error(ComboBoxMessages.primitive);\n        }\n        if (this.valuePrimitive === false && isPresent(newValue) && typeof newValue !== \"object\") {\n            throw new Error(ComboBoxMessages.object);\n        }\n        if (valueOrText) {\n            throw new Error(ComboBoxMessages.textAndValue);\n        }\n    };\n    ComboBoxComponent.prototype.setState = function () {\n        // filtering in process, do nothing\n        if (this._filtering) {\n            return;\n        }\n        var value = this.value;\n        var valueField = this.valueField;\n        var primitive = this.valuePrimitive;\n        var data = this.data;\n        var resolved = this.findDataItem({ primitive: primitive, valueField: valueField, data: data, value: value });\n        if (isPresent(resolved.dataItem)) {\n            this.updateState({ dataItem: resolved.dataItem, confirm: true });\n            this.resetSelection(resolved.index);\n        }\n        else if (isPresent(value) && this.allowCustom) {\n            this.updateState({ dataItem: value });\n            this.resetSelection(-1);\n        }\n        else if (this._previousDataItem && this.value) {\n            this.updateState({ dataItem: this._previousDataItem });\n            this.resetSelection();\n        }\n        else {\n            this.clearState();\n            this.resetSelection(-1);\n        }\n    };\n    ComboBoxComponent.prototype.updateState = function (_a) {\n        var dataItem = _a.dataItem, _b = _a.confirm, confirm = _b === void 0 ? false : _b;\n        this.dataItem = dataItem;\n        this.text = this.prop(this.textField, this.valuePrimitive)(dataItem);\n        if (confirm) {\n            this._previousDataItem = dataItem;\n        }\n    };\n    ComboBoxComponent.prototype.clearState = function () {\n        this.text = undefined;\n        this.dataItem = undefined;\n    };\n    ComboBoxComponent.prototype.resetSelection = function (index) {\n        var clear = !isPresent(index) || index < 0;\n        this.selectionService.resetSelection(clear ? [] : [index]);\n        this.selectionService.focused = index;\n    };\n    ComboBoxComponent.prototype.firstFocusableIndex = function (index) {\n        var maxIndex = this.data.length - 1;\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            return (index < maxIndex) ? this.firstFocusableIndex(index + 1) : undefined;\n        }\n        else {\n            return index;\n        }\n    };\n    ComboBoxComponent.prototype.findIndexPredicate = function (text) {\n        var _this = this;\n        return function (item) {\n            var itemText = _this.prop(_this.textField, _this.valuePrimitive)(item);\n            itemText = itemText === undefined ? \"\" : itemText.toString().toLowerCase();\n            return itemText.startsWith(text.toLowerCase());\n        };\n    };\n    ComboBoxComponent.prototype.prop = function (field, usePrimitive) {\n        return function (dataItem) {\n            if (isPresent(dataItem)) {\n                if (usePrimitive) {\n                    return field && dataItem.hasOwnProperty(field) ? dataItem[field] : dataItem;\n                }\n                else {\n                    return dataItem[field];\n                }\n            }\n            return null;\n        };\n    };\n    ComboBoxComponent.prototype.findDataItem = function (_a) {\n        var primitive = _a.primitive, valueField = _a.valueField, data = _a.data, value = _a.value;\n        var result = {\n            dataItem: null,\n            index: -1\n        };\n        var prop = this.prop(valueField, primitive);\n        var mappedData = data.map(prop);\n        var index = mappedData.indexOf(prop(value));\n        result.dataItem = data[index];\n        result.index = index;\n        return result;\n    };\n    ComboBoxComponent.prototype.search = function (text, startFrom) {\n        if (startFrom === void 0) { startFrom = 0; }\n        var data = this.data.slice(startFrom);\n        var index;\n        if (text.length && data.length) {\n            var i = data.findIndex(this.findIndexPredicate(text));\n            index = (i === -1) ? -1 : i + startFrom;\n        }\n        else {\n            index = -1;\n        }\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            if (index + 1 < this.data.length) {\n                this.search(text, index + 1);\n            }\n            else {\n                this.selectionService.focus(-1);\n            }\n        }\n        else {\n            this.selectionService.focus(index);\n            if (this.suggest) {\n                this.suggestedText = getter(this.data[index], this.valueField);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.getSuggestion = function () {\n        var hasSelected = !!this.selectionService.selected.length;\n        var shouldSuggest = this.suggest && !this.backspacePressed && this.suggestedText && this.text;\n        if (!hasSelected && shouldSuggest && this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase())) {\n            return this.suggestedText;\n        }\n        else {\n            this.suggestedText = undefined;\n        }\n    };\n    ComboBoxComponent.prototype.navigate = function (index) {\n        if (this.data.length === 0) {\n            return;\n        }\n        this.text = this.data[index];\n        this.selectionService.select(index);\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.handleNavigate = function (event) {\n        var hasSelected = isPresent(this.selectionService.selected[0]);\n        var focused = isNaN(this.selectionService.focused) ? this.firstFocusableIndex(0) : this.selectionService.focused;\n        var offset = 0;\n        if (this.disabled || this.readonly) {\n            return;\n        }\n        if (event.keyCode === Keys.home || event.keyCode === Keys.end) {\n            return;\n        }\n        if (!hasSelected) {\n            if (event.keyCode === Keys.down) {\n                offset = -1;\n            }\n            else if (event.keyCode === Keys.up) {\n                offset = 1;\n            }\n        }\n        var current = offset + focused;\n        if (current < -1) {\n            current = -1;\n        }\n        var action = this.navigationService.process({\n            current: current,\n            max: this.data.length - 1,\n            min: 0,\n            originalEvent: event\n        });\n        if (action !== NavigationAction.Undefined &&\n            action !== NavigationAction.Left &&\n            action !== NavigationAction.Right &&\n            action !== NavigationAction.Backspace &&\n            action !== NavigationAction.Delete &&\n            ((action === NavigationAction.Enter && this.isOpen) || action !== NavigationAction.Enter)) {\n            event.preventDefault();\n        }\n    };\n    ComboBoxComponent.prototype.handleEnter = function () {\n        var text = this.text;\n        var focused = this.selectionService.focused;\n        var hasFocused = isPresent(focused) && focused !== -1;\n        var previousText = getter(this._previousDataItem, this.textField) || \"\";\n        var focusedItemText = getter(this.data[focused], this.textField);\n        var textHasChanged = text !== previousText;\n        this.togglePopup(false);\n        this._filtering = false;\n        if (this.allowCustom && textHasChanged) {\n            if (text !== focusedItemText) {\n                this.change(text, true);\n            }\n            else {\n                this.selectionService.change(focused);\n            }\n        }\n        if (!this.allowCustom) {\n            if (hasFocused) {\n                this.selectionService.change(focused);\n            }\n            else if (textHasChanged) {\n                this.change(text, true);\n            }\n        }\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.handleBlur = function () {\n        this._filtering = false;\n        var currentText = this.searchbar.value; // The value is updated, but the Angular `change` event is not emitted yet and `this.text` is not updated. Fails on suggested text.\n        if (!currentText && !isPresent(this._previousDataItem) && !isPresent(this.dataItem)) {\n            this.togglePopup(false);\n            this.isFocused = false;\n            this.onBlur.emit();\n            this.onTouchedCallback();\n            return;\n        }\n        var focused = this.selectionService.focused;\n        var itemText;\n        var isItemFocused = focused !== -1 && focused !== undefined;\n        if (isItemFocused) {\n            itemText = getter(this.data[focused], this.textField);\n            itemText = itemText === undefined ? \"\" : itemText.toString().toLowerCase();\n        }\n        if (itemText === currentText.toLowerCase()) {\n            this.selectionService.change(focused);\n        }\n        else {\n            this.change(currentText, true);\n        }\n        this.togglePopup(false);\n        this.isFocused = false;\n        this.onBlur.emit();\n        this.onTouchedCallback();\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.searchBarChange = function (text) {\n        var currentTextLength = this.text ? this.text.length : 0;\n        this.backspacePressed = (text.length < currentTextLength) ? true : false;\n        this.text = text;\n        // Reset the selection prior to filter. If a match is present, it will be resolved. If a match is not present, it is not needed.\n        this.selectionService.resetSelection([]);\n        this.togglePopup(true);\n        this._filtering = true;\n        if (this.filterable) {\n            this.filterChange.emit(text);\n        }\n        else {\n            this.search(text);\n        }\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.handleFocus = function () {\n        this.isFocused = true;\n        this.onFocus.emit();\n    };\n    ComboBoxComponent.prototype.change = function (candidate, isCustom) {\n        if (isCustom === void 0) { isCustom = false; }\n        if (isCustom) {\n            this.customValueSubject.next(candidate);\n        }\n        else {\n            this.valueSubject.next(candidate);\n        }\n    };\n    ComboBoxComponent.prototype.emitSelectionChange = function (dataItem) {\n        this.selectionSubject.next(dataItem);\n    };\n    ComboBoxComponent.prototype.emitValueChange = function () {\n        this.onChangeCallback(this.value);\n        this.valueChange.emit(this.value);\n        this._previousDataItem = this.dataItem;\n    };\n    /**\n     * @hidden\n     */\n    ComboBoxComponent.prototype.selectClick = function () {\n        if (!this.touchEnabled) {\n            this.searchbar.focus();\n        }\n        this.togglePopup(!this.isOpen);\n    };\n    Object.defineProperty(ComboBoxComponent.prototype, \"listContainerClasses\", {\n        get: function () {\n            var containerClasses = ['k-list-container', 'k-reset'];\n            if (this.popupSettings.popupClass) {\n                containerClasses.push(this.popupSettings.popupClass);\n            }\n            return containerClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComboBoxComponent.prototype.destroyPopup = function () {\n        if (this.popupRef) {\n            this.popupRef.popupElement\n                .removeEventListener('mousedown', this.popupMouseDownHandler);\n            this.popupRef.close();\n            this.popupRef = null;\n        }\n    };\n    ComboBoxComponent.prototype.createPopup = function () {\n        var _this = this;\n        this.popupRef = this.popupService.open({\n            anchor: this.wrapper,\n            animate: this.popupSettings.animate,\n            appendTo: this.appendTo,\n            content: this.popupTemplate,\n            popupClass: this.listContainerClasses,\n            positionMode: 'absolute'\n        });\n        var popupWrapper = this.popupRef.popupElement;\n        var _a = this.width, min = _a.min, max = _a.max;\n        popupWrapper.addEventListener('mousedown', this.popupMouseDownHandler);\n        popupWrapper.style.minWidth = min;\n        popupWrapper.style.width = max;\n        popupWrapper.style.height = this.height;\n        popupWrapper.setAttribute(\"dir\", this.direction);\n        this.popupRef.popupAnchorViewportLeave.subscribe(function () { return _this.togglePopup(false); });\n    };\n    ComboBoxComponent.prototype._toggle = function (open) {\n        this._open = (open === undefined) ? !this._open : open;\n        this.destroyPopup();\n        if (this._open) {\n            this.createPopup();\n        }\n    };\n    ComboBoxComponent.prototype.triggerPopupEvents = function (open) {\n        var eventArgs = new PreventableEvent();\n        if (open) {\n            this.open.emit(eventArgs);\n        }\n        else {\n            this.close.emit(eventArgs);\n        }\n        return eventArgs.isDefaultPrevented();\n    };\n    ComboBoxComponent.prototype.setMessages = function () {\n        var _this = this;\n        this._zone.runOutsideAngular(function () {\n            clearTimeout(_this.messagesTimeout);\n            _this.messagesTimeout = setTimeout(function () {\n                _this.noDataText = _this.localization.get('noDataText');\n                _this.cdr.detectChanges();\n            });\n        });\n    };\n    ComboBoxComponent.decorators = [\n        { type: Component, args: [{\n                    exportAs: 'kendoComboBox',\n                    providers: [\n                        COMBOBOX_VALUE_ACCESSOR,\n                        SelectionService,\n                        NavigationService,\n                        DisabledItemsService,\n                        LocalizationService,\n                        {\n                            provide: L10N_PREFIX,\n                            useValue: 'kendo.combobox'\n                        },\n                        {\n                            provide: FilterableDropDownComponentBase, useExisting: forwardRef(function () { return ComboBoxComponent; })\n                        }\n                    ],\n                    selector: 'kendo-combobox',\n                    template: \"\\n        <ng-container kendoComboBoxLocalizedMessages\\n            i18n-noDataText=\\\"kendo.combobox.noDataText|The text displayed in the popup when there are no items\\\"\\n            noDataText=\\\"NO DATA FOUND\\\"\\n        >\\n        </ng-container>\\n        <span #wrapper unselectable=\\\"on\\\" [ngClass]=\\\"wrapperClasses()\\\">\\n          <kendo-searchbar #searchbar\\n              [role]=\\\"'listbox'\\\"\\n              [id]=\\\"focusableId\\\"\\n              [listId]=\\\"listBoxId\\\"\\n              [activeDescendant]=\\\"activeDescendant\\\"\\n              [noDataLabel]=\\\"noDataLabel\\\"\\n              [userInput]=\\\"text\\\"\\n              [suggestedText]=\\\"getSuggestion()\\\"\\n              [disabled]=\\\"disabled\\\"\\n              [readonly]=\\\"readonly\\\"\\n              [tabIndex]=\\\"tabIndex\\\"\\n              [popupOpen]=\\\"isOpen\\\"\\n              [placeholder]=\\\"placeholder\\\"\\n              (onNavigate)=\\\"handleNavigate($event)\\\"\\n              (valueChange)=\\\"searchBarChange($event)\\\"\\n              (onBlur)=\\\"handleBlur()\\\"\\n              (onFocus)=\\\"handleFocus()\\\"\\n          ></kendo-searchbar>\\n          <span *ngIf=\\\"!loading && !readonly && (clearButton && text?.length)\\\" class=\\\"k-icon k-clear-value k-i-close\\\" title=\\\"clear\\\" role=\\\"button\\\" tabindex=\\\"-1\\\" (click)=\\\"clearValue($event)\\\" (mousedown)=\\\"$event.preventDefault()\\\"></span>\\n          <span unselectable=\\\"on\\\"\\n              [ngClass]=\\\"{ 'k-select': true }\\\"\\n              (click)=\\\"selectClick()\\\"\\n              (mousedown)=\\\"$event.preventDefault()\\\" >\\n              <span [ngClass]=\\\"buttonClasses\\\"></span>\\n          </span>\\n          <ng-template #popupTemplate>\\n              <!--header template-->\\n              <ng-template *ngIf=\\\"headerTemplate\\\"\\n                  [templateContext]=\\\"{\\n                      templateRef: headerTemplate.templateRef\\n                  }\\\">\\n              </ng-template>\\n              <!--list-->\\n              <kendo-list\\n                  [id]=\\\"listBoxId\\\"\\n                  [optionPrefix]=\\\"optionPrefix\\\"\\n                  [data]=\\\"data\\\"\\n                  [textField]=\\\"textField\\\"\\n                  [valueField]=\\\"valueField\\\"\\n                  [template]=\\\"template\\\"\\n                  [height]=\\\"listHeight\\\"\\n                  [show]=\\\"isOpen\\\"\\n              >\\n              </kendo-list>\\n              <!--no-data template-->\\n              <div class=\\\"k-nodata\\\" *ngIf=\\\"data.length === 0\\\">\\n                  <ng-template [ngIf]=\\\"noDataTemplate\\\"\\n                      [templateContext]=\\\"{\\n                          templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\\n                      }\\\">\\n                  </ng-template>\\n                  <ng-template [ngIf]=\\\"!noDataTemplate\\\">\\n                      <div>{{ noDataText }}</div>\\n                  </ng-template>\\n              </div>\\n              <!--footer template-->\\n              <ng-template *ngIf=\\\"footerTemplate\\\"\\n                  [templateContext]=\\\"{\\n                      templateRef: footerTemplate.templateRef\\n                  }\\\">\\n              </ng-template>\\n          </ng-template>\\n        </span>\\n        <ng-template [ngIf]=\\\"isOpen\\\">\\n            <kendo-resize-sensor (resize)=\\\"onResize()\\\"></kendo-resize-sensor>\\n        </ng-template>\\n        <ng-container #container></ng-container>\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    ComboBoxComponent.ctorParameters = function () { return [\n        { type: LocalizationService, },\n        { type: PopupService, },\n        { type: SelectionService, },\n        { type: NavigationService, },\n        { type: DisabledItemsService, },\n        { type: NgZone, },\n        { type: ChangeDetectorRef, },\n        { type: Renderer2, },\n        { type: ElementRef, },\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [TOUCH_ENABLED,] },] },\n    ]; };\n    ComboBoxComponent.propDecorators = {\n        'focusableId': [{ type: Input },],\n        'allowCustom': [{ type: Input },],\n        'data': [{ type: Input },],\n        'value': [{ type: Input },],\n        'textField': [{ type: Input },],\n        'valueField': [{ type: Input },],\n        'valuePrimitive': [{ type: Input },],\n        'valueNormalizer': [{ type: Input },],\n        'placeholder': [{ type: Input },],\n        'popupSettings': [{ type: Input },],\n        'listHeight': [{ type: Input },],\n        'iconClass': [{ type: Input },],\n        'loading': [{ type: Input },],\n        'suggest': [{ type: Input },],\n        'clearButton': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'itemDisabled': [{ type: Input },],\n        'readonly': [{ type: Input },],\n        'tabindex': [{ type: Input },],\n        'tabIndex': [{ type: Input, args: [\"tabIndex\",] },],\n        'filterable': [{ type: Input },],\n        'valueChange': [{ type: Output },],\n        'selectionChange': [{ type: Output },],\n        'filterChange': [{ type: Output },],\n        'open': [{ type: Output },],\n        'close': [{ type: Output },],\n        'onFocus': [{ type: Output, args: ['focus',] },],\n        'onBlur': [{ type: Output, args: ['blur',] },],\n        'template': [{ type: ContentChild, args: [ItemTemplateDirective,] },],\n        'headerTemplate': [{ type: ContentChild, args: [HeaderTemplateDirective,] },],\n        'footerTemplate': [{ type: ContentChild, args: [FooterTemplateDirective,] },],\n        'noDataTemplate': [{ type: ContentChild, args: [NoDataTemplateDirective,] },],\n        'container': [{ type: ViewChild, args: ['container', { read: ViewContainerRef },] },],\n        'popupTemplate': [{ type: ViewChild, args: ['popupTemplate',] },],\n        'searchbar': [{ type: ViewChild, args: [SearchBarComponent,] },],\n        'widgetClasses': [{ type: HostBinding, args: ['class.k-widget',] }, { type: HostBinding, args: ['class.k-combobox',] }, { type: HostBinding, args: ['class.k-header',] },],\n        'clearable': [{ type: HostBinding, args: ['class.k-combobox-clearable',] },],\n        'dir': [{ type: HostBinding, args: ['attr.dir',] },],\n    };\n    return ComboBoxComponent;\n}());\nexport { ComboBoxComponent };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the selected value of the DropDownList\n * ([see example]({% slug templates_ddl %}#toc-value-template)).\n * The template context is set to the current component.\n * To get a reference to the current data item, use the `let-dataItem` directive.\n *\n * > The `ValueTemplate` directive can only be used with the DropDownList component.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-dropdownlist [data]=\"listItems\">\n *    <ng-template kendoDropDownListValueTemplate let-dataItem>\n *      <span>{{dataItem}} option</span>\n *    </ng-template>\n *  </kendo-dropdownlist>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar ValueTemplateDirective = /** @class */ (function () {\n    function ValueTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    ValueTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownListValueTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    ValueTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return ValueTemplateDirective;\n}());\nexport { ValueTemplateDirective };\n","/* tslint:disable:max-line-length */\n/* tslint:disable:no-bitwise */\nimport * as tslib_1 from \"tslib\";\nimport { Component, Renderer2, forwardRef, ElementRef, Input, Output, HostBinding, EventEmitter, ContentChild, ViewChild, ViewContainerRef, isDevMode, Optional, Inject, NgZone, ChangeDetectorRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { merge } from 'rxjs/observable/merge';\nimport { interval } from 'rxjs/observable/interval';\nimport { concatMap } from 'rxjs/operators/concatMap';\nimport { filter } from 'rxjs/operators/filter';\nimport { map } from 'rxjs/operators/map';\nimport { skipWhile } from 'rxjs/operators/skipWhile';\nimport { take } from 'rxjs/operators/take';\nimport { takeUntil } from 'rxjs/operators/takeUntil';\nimport { tap } from 'rxjs/operators/tap';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Keys } from './common/keys';\nimport { isPresent, guid, isDocumentAvailable, getter, shuffleData, sameCharsOnly, matchText } from './util';\nimport { SelectionService } from './selection.service';\nimport { NavigationService, NavigationEvent } from './navigation.service';\nimport { ItemTemplateDirective } from './templates/item-template.directive';\nimport { ValueTemplateDirective } from './templates/value-template.directive';\nimport { HeaderTemplateDirective } from './templates/header-template.directive';\nimport { FooterTemplateDirective } from './templates/footer-template.directive';\nimport { NoDataTemplateDirective } from './templates/no-data-template.directive';\nimport { NavigationAction } from './navigation-action';\nimport { PreventableEvent } from './common/preventable-event';\nimport { LocalizationService, L10N_PREFIX } from '@progress/kendo-angular-l10n';\nimport { PopupService } from '@progress/kendo-angular-popup';\nimport { TOUCH_ENABLED } from './touch-enabled';\nimport { DropDownListMessages } from './error-messages';\nimport { DisabledItemsService } from './disabled-items.service';\nimport { FilterableDropDownComponentBase } from './filterable-base.component';\n/**\n * @hidden\n */\nexport var DROPDOWNLIST_VALUE_ACCESSOR = {\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line:no-use-before-declare\n    useExisting: forwardRef(function () { return DropDownListComponent; })\n};\n/**\n * Represents the Kendo UI DropDownList component for Angular.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-dropdownlist [data]=\"listItems\">\n *  </kendo-dropdownlist>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar DropDownListComponent = /** @class */ (function () {\n    function DropDownListComponent(localization, popupService, selectionService, navigationService, disabledItemsService, _zone, renderer, hostElement, cdr, touchEnabled) {\n        this.localization = localization;\n        this.popupService = popupService;\n        this.selectionService = selectionService;\n        this.navigationService = navigationService;\n        this.disabledItemsService = disabledItemsService;\n        this._zone = _zone;\n        this.renderer = renderer;\n        this.hostElement = hostElement;\n        this.cdr = cdr;\n        this.touchEnabled = touchEnabled;\n        /**\n         * @hidden\n         */\n        this.focusableId = \"k-\" + guid();\n        /**\n         * Sets the height of the options list. By default, `listHeight` is 200px.\n         *\n         * > The `listHeight` property affects only the list of options and not the whole popup container.\n         * > To set the height of the popup container, use `popupSettings.height`.\n         */\n        this.listHeight = 200;\n        /**\n         * Sets the disabled state of the component.\n         */\n        this.disabled = false;\n        /**\n         * Sets the read-only state of the component.\n         */\n        this.readonly = false;\n        /**\n         * Enables the [filtering]({% slug filtering_ddl %}) functionality of the DropDownList.\n         */\n        this.filterable = false;\n        /**\n         * Enables a case-insensitive search. When filtration is disabled, use this option.\n         */\n        this.ignoreCase = true;\n        /**\n         * Sets the delay before an item search is performed. When filtration is disabled, use this option.\n         */\n        this.delay = 500;\n        /**\n         * Specifies the [`tabindex`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) of the component.\n         */\n        this.tabindex = 0;\n        /**\n         * Fires each time the value is changed&mdash;\n         * when the component is blurred or the value is cleared through the **Clear** button.\n         * For more details, refer to the example on [events]({% slug overview_ddl %}#toc-events).\n         */\n        this.valueChange = new EventEmitter();\n        /**\n         * Fires each time the user types in the input field.\n         * You can filter the source based on the passed filtration value.\n         * For more details, refer to the example on [events]({% slug overview_ddl %}#toc-events).\n         * When the value of the component is programmatically changed to `ngModel` or `formControl`\n         * through its API or form binding, the `valueChange` event is not triggered because it\n         * might cause a mix-up with the built-in `valueChange` mechanisms of the `ngModel` or `formControl` bindings.\n         */\n        this.filterChange = new EventEmitter();\n        /**\n         * Fires each time the item selection is changed.\n         * For more details, refer to the example on [events]({% slug overview_ddl %}#toc-events).\n         */\n        this.selectionChange = new EventEmitter();\n        /**\n         * Fires each time the popup is about to open\n         * ([see example]({% slug openstate_ddl %}#toc-preventing-opening-and-closing)).\n         * This event is preventable. If you cancel it, the popup will remain closed.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires each time the popup is about to close\n         * ([see example]({% slug openstate_ddl %}#toc-preventing-opening-and-closing)).\n         * This event is preventable. If you cancel it, the popup will remain open.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires each time the user focuses the DropDownList.\n         */\n        this.onFocus = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires each time the DropDownList gets blurred.\n         */\n        this.onBlur = new EventEmitter(); //tslint:disable-line:no-output-rename\n        this.listBoxId = guid();\n        this.optionPrefix = guid();\n        this.filterText = \"\";\n        this.isFocused = false;\n        this.onTouchedCallback = function (_) { };\n        this.onChangeCallback = function (_) { };\n        this.word = \"\";\n        this.last = \"\";\n        this.filterFocused = new EventEmitter();\n        this.filterBlurred = new EventEmitter();\n        this.wrapperFocused = new EventEmitter();\n        this.wrapperBlurred = new EventEmitter();\n        this.selectionSubscription = new Subscription();\n        this._open = false;\n        this._popupSettings = { animate: true };\n        this.direction = localization.rtl ? 'rtl' : 'ltr';\n        this.data = [];\n        this.subscribeEvents();\n        this.hostElement = hostElement.nativeElement;\n        this.popupMouseDownHandler = this.onMouseDown.bind(this);\n    }\n    Object.defineProperty(DropDownListComponent.prototype, \"width\", {\n        get: function () {\n            var wrapperWidth = isDocumentAvailable() ? this.wrapper.nativeElement.offsetWidth : 0;\n            var width = this.popupSettings.width || wrapperWidth;\n            var minWidth = isNaN(wrapperWidth) ? wrapperWidth : wrapperWidth + \"px\";\n            var maxWidth = isNaN(width) ? width : width + \"px\";\n            return { min: minWidth, max: maxWidth };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"height\", {\n        get: function () {\n            var popupHeight = this.popupSettings.height;\n            return isPresent(popupHeight) ? popupHeight + \"px\" : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"widgetTabIndex\", {\n        get: function () {\n            if (this.disabled) {\n                return undefined;\n            }\n            var providedTabIndex = Number(this.tabIndex);\n            var defaultTabIndex = 0;\n            return !isNaN(providedTabIndex) ? providedTabIndex : defaultTabIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"ariaHasPopup\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"ariaExpanded\", {\n        get: function () {\n            return this.isOpen;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"ariaOwns\", {\n        get: function () {\n            return this.listBoxId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"ariaActivedescendant\", {\n        get: function () {\n            return this.optionPrefix + \"-\" + getter(this.dataItem, this.valueField);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"noDataLabel\", {\n        get: function () {\n            if (this.data.length === 0) {\n                return this.noDataText;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"appendTo\", {\n        get: function () {\n            var appendTo = this.popupSettings.appendTo;\n            if (!appendTo || appendTo === 'root') {\n                return undefined;\n            }\n            return appendTo === 'component' ? this.container : appendTo;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        /**\n         * Sets the data of the DropDownList.\n         *\n         * > The data has to be provided in an array-like list.\n         */\n        set: function (data) {\n            this._data = data || [];\n            this.disabledItemsService.data = this._data;\n            this.setState();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        /**\n         * Sets the value of the DropDownList. It can either be of the primitive (string, numbers) or of the complex (objects) type. To define the type, use the `valuePrimitive` option.\n         *\n         * > All selected values which are not present in the source are ignored.\n         */\n        set: function (newValue) {\n            this._value = newValue;\n            this.cdr.markForCheck();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"popupSettings\", {\n        get: function () {\n            return this._popupSettings;\n        },\n        /**\n         * Configures the popup of the DropDownList.\n         *\n         * The available options are:\n         * - `animate: Boolean`&mdash;Controls the popup animation. By default, the open and close animations are enabled.\n         * - `width: Number`&mdash;Sets the width of the popup container. By default, the width of the host element is used.\n         * - `height: Number`&mdash;Sets the height of the popup container.\n         * - `popupClass: String`&mdash;Specifies a list of CSS classes that are used to style the popup.\n         * - `appendTo: \"root\" | \"component\" | ViewContainerRef`&mdash;Specifies the component to which the popup will be appended.\n         */\n        set: function (settings) {\n            this._popupSettings = Object.assign({ animate: true }, settings);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"itemDisabled\", {\n        /**\n         * Defines a Boolean function that is executed for each data item in the component\n         * ([see examples]({% slug disableditems_ddl %})). Determines whether the item will be disabled.\n         */\n        set: function (fn) {\n            if (typeof fn !== 'function') {\n                throw new Error(\"rowSelected must be a function, but received \" + JSON.stringify(fn) + \".\");\n            }\n            this.disabledItemsService.itemDisabled = fn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"tabIndex\", {\n        get: function () {\n            return this.tabindex;\n        },\n        /**\n         * @hidden\n         */\n        set: function (tabIndex) {\n            this.tabindex = tabIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.blurComponent = function () {\n        this.wrapperBlurred.emit();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.blurFilterInput = function () {\n        this.filterBlurred.emit();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.focusComponent = function () {\n        this.wrapperFocused.emit();\n        if (!this.isFocused) {\n            this.isFocused = true;\n            this.onFocus.emit();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.keydown = function (event) {\n        var hasSelected = isPresent(this.selectionService.selected[0]);\n        var focused = isNaN(this.selectionService.focused) ? this.firstFocusableIndex(0) : this.selectionService.focused;\n        var offset = 0;\n        if (this.disabled || this.readonly || isNaN(focused)) {\n            return;\n        }\n        var isHomeEnd = event.keyCode === Keys.home || event.keyCode === Keys.end;\n        var isFilterFocused = this.filterable && this.isFocused && this.isOpen;\n        if (isFilterFocused && isHomeEnd) {\n            return;\n        }\n        if (!hasSelected) {\n            if (event.keyCode === Keys.down || event.keyCode === Keys.right) {\n                offset = -1;\n            }\n            else if (event.keyCode === Keys.up || event.keyCode === Keys.left) {\n                offset = 1;\n            }\n        }\n        var eventData = event;\n        var action = this.navigationService.process({\n            current: focused + offset,\n            max: this.data.length - 1,\n            min: this.defaultItem ? -1 : 0,\n            originalEvent: eventData\n        });\n        var leftRightKeys = (action === NavigationAction.Left) || (action === NavigationAction.Right);\n        if (action !== NavigationAction.Undefined &&\n            action !== NavigationAction.Tab &&\n            action !== NavigationAction.Backspace &&\n            action !== NavigationAction.Delete &&\n            !(leftRightKeys && this.filterable) &&\n            action !== NavigationAction.Enter //enter when popup is opened is handled before `handleEnter`\n        ) {\n            eventData.preventDefault();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.keypress = function (event) {\n        if (!this.filterable) {\n            this.onKeyPress(event);\n        }\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.click = function () {\n        this.focus();\n        this.togglePopup(!this.isOpen);\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.onResize = function () {\n        if (this._open) {\n            var popupWrapper = this.popupRef.popupElement;\n            var _a = this.width, min = _a.min, max = _a.max;\n            popupWrapper.style.minWidth = min;\n            popupWrapper.style.width = max;\n        }\n    };\n    Object.defineProperty(DropDownListComponent.prototype, \"widgetClasses\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"dir\", {\n        get: function () {\n            return this.direction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DropDownListComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.renderer.removeAttribute(this.hostElement, \"tabindex\");\n        this.localizationChangesSubscription = this.localization\n            .changes.subscribe(function (_a) {\n            var rtl = _a.rtl;\n            _this.direction = rtl ? 'rtl' : 'ltr';\n            _this.setMessages();\n        });\n        this.setMessages();\n    };\n    /**\n     * @hidden\n     * Used by the TextBoxContainer to determine if the component is empty.\n     */\n    DropDownListComponent.prototype.isEmpty = function () {\n        var value = this.value;\n        return !(value === 0 || value === false || value || this.defaultItem);\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.onFilterFocus = function () {\n        this.filterFocused.emit();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.ngOnDestroy = function () {\n        this.destroyPopup();\n        this.unsubscribeEvents();\n        clearTimeout(this.messagesTimeout);\n        if (this.localizationChangesSubscription) {\n            this.localizationChangesSubscription.unsubscribe();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.ngOnChanges = function (_changes) {\n        if (this.valuePrimitive === undefined) {\n            this.valuePrimitive = this.valueField ? false : true;\n        }\n        if (_changes.hasOwnProperty(\"value\")) {\n            this.verifySettings(_changes.value.currentValue);\n            if (!isPresent(this.value)) {\n                this._previousDataItem = undefined;\n            }\n        }\n        var STATE_PROPS = /(value|textField|valueField|valuePrimitive|defaultItem)/g;\n        if (STATE_PROPS.test(Object.keys(_changes).join())) {\n            this.setState();\n        }\n    };\n    /**\n     * Focuses the DropDownList.\n     */\n    DropDownListComponent.prototype.focus = function () {\n        if (!this.disabled) {\n            this.wrapper.nativeElement.focus();\n        }\n    };\n    /**\n     * Blurs the DropDownList.\n     */\n    DropDownListComponent.prototype.blur = function () {\n        if (!this.disabled) {\n            this.wrapper.nativeElement.blur();\n        }\n    };\n    /**\n     * Toggles the visibility of the popup\n     * ([see example]({% slug openstate_ddl %}#toc-setting-the-initially-opened-component)).\n     * If you use the `toggle` method to open or close the popup, the `open` and `close` events will not be fired.\n     *\n     * @param open - The state of the popup.\n     */\n    DropDownListComponent.prototype.toggle = function (open) {\n        var _this = this;\n        // the Promise is required to open the popup on load\n        // otherwise an \"Expression has changed...\" type error will be thrown\n        Promise.resolve(null).then(function () {\n            _this._toggle(open);\n        });\n    };\n    DropDownListComponent.prototype._toggle = function (open) {\n        this._open = (open === undefined) ? !this._open : open;\n        this.destroyPopup();\n        if (this._open) {\n            this.createPopup();\n        }\n    };\n    DropDownListComponent.prototype.triggerPopupEvents = function (open) {\n        var eventArgs = new PreventableEvent();\n        if (open) {\n            this.open.emit(eventArgs);\n        }\n        else {\n            this.close.emit(eventArgs);\n        }\n        return eventArgs.isDefaultPrevented();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.togglePopup = function (open) {\n        var isDisabled = this.disabled || this.readonly;\n        var sameState = this.isOpen === open;\n        if (isDisabled || sameState) {\n            return;\n        }\n        var isDefaultPrevented = this.triggerPopupEvents(open);\n        if (!isDefaultPrevented) {\n            if (!open && this.filterable && this.isFocused) {\n                this.focus();\n            }\n            this._toggle(open);\n        }\n    };\n    Object.defineProperty(DropDownListComponent.prototype, \"isOpen\", {\n        /**\n         * Returns the current open state of the popup.\n         */\n        get: function () {\n            return this._open;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Resets the value of the DropDownList.\n     * If you use the `reset` method to clear the value of the component,\n     * the model will not update automatically and the `selectionChange` and `valueChange` events will not be fired.\n     */\n    DropDownListComponent.prototype.reset = function () {\n        this._previousDataItem = undefined;\n        this.value = undefined;\n        this.setState();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.writeValue = function (value) {\n        this.verifySettings(value);\n        this.value = value === null ? undefined : value;\n        if (!isPresent(value)) {\n            this._previousDataItem = undefined;\n        }\n        this.setState();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.registerOnChange = function (fn) {\n        this.onChangeCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.registerOnTouched = function (fn) {\n        this.onTouchedCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    Object.defineProperty(DropDownListComponent.prototype, \"listContainerClasses\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            var containerClasses = ['k-list-container', 'k-reset'];\n            if (this.popupSettings.popupClass) {\n                containerClasses.push(this.popupSettings.popupClass);\n            }\n            return containerClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DropDownListComponent.prototype, \"buttonClasses\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return _a = {},\n                _a[this.iconClass] = !this.loading && this.iconClass,\n                _a['k-i-arrow-s'] = !this.loading && !this.iconClass,\n                _a['k-i-loading'] = this.loading,\n                _a['k-icon'] = true,\n                _a;\n            var _a;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.setDefaultItemClasses = function () {\n        return {\n            'k-list-optionlabel': true\n        };\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.getText = function () {\n        return this.text;\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.getDefaultItemText = function () {\n        return getter(this.defaultItem, this.textField);\n    };\n    DropDownListComponent.prototype.createPopup = function () {\n        var _this = this;\n        var horizontalAlign = this.direction === \"rtl\" ? \"right\" : \"left\";\n        var anchorPosition = { horizontal: horizontalAlign, vertical: \"bottom\" };\n        var popupPosition = { horizontal: horizontalAlign, vertical: \"top\" };\n        this.popupRef = this.popupService.open({\n            anchor: this.wrapper,\n            anchorAlign: anchorPosition,\n            animate: this.popupSettings.animate,\n            appendTo: this.appendTo,\n            content: this.popupTemplate,\n            popupAlign: popupPosition,\n            popupClass: this.listContainerClasses,\n            positionMode: 'absolute'\n        });\n        var popupWrapper = this.popupRef.popupElement;\n        var _a = this.width, min = _a.min, max = _a.max;\n        popupWrapper.addEventListener('mousedown', this.popupMouseDownHandler);\n        popupWrapper.style.minWidth = min;\n        popupWrapper.style.width = max;\n        popupWrapper.style.height = this.height;\n        popupWrapper.setAttribute(\"dir\", this.direction);\n        this.popupRef.popupAnchorViewportLeave.subscribe(function () {\n            if (!_this.filterable) {\n                _this.togglePopup(false);\n            }\n        });\n    };\n    DropDownListComponent.prototype.destroyPopup = function () {\n        if (this.popupRef) {\n            this.popupRef.popupElement\n                .removeEventListener('mousedown', this.popupMouseDownHandler);\n            this.popupRef.close();\n            this.popupRef = null;\n        }\n    };\n    DropDownListComponent.prototype.updateState = function (_a) {\n        var dataItem = _a.dataItem, _b = _a.confirm, confirm = _b === void 0 ? false : _b;\n        this.dataItem = dataItem;\n        this.text = this.prop(this.textField, this.valuePrimitive)(dataItem);\n        if (confirm) {\n            this._previousDataItem = dataItem;\n        }\n    };\n    DropDownListComponent.prototype.clearState = function () {\n        this.text = undefined;\n        this.dataItem = undefined;\n    };\n    DropDownListComponent.prototype.resetSelection = function (index) {\n        var clear = !isPresent(index);\n        this.selectionService.resetSelection(clear ? [] : [index]);\n        this.selectionService.focused = clear ? this.firstFocusableIndex(0) : index;\n    };\n    DropDownListComponent.prototype.onSelectionChange = function (_a) {\n        var dataItem = _a.dataItem;\n        this.updateState({ dataItem: dataItem });\n        this.selectionChange.emit(dataItem);\n    };\n    DropDownListComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        // item selection when the popup is open\n        this.selectionSubscription.add(this.selectionService.onSelect.pipe(filter(function (_) { return _this.isOpen; }), map(this.itemFromEvent.bind(this)))\n            .subscribe(this.onSelectionChange.bind(this)));\n        // item selection when the popup is closed | clicked | enter, etc.\n        this.selectionSubscription.add(merge(this.selectionService.onSelect.pipe(filter(function (_) { return !_this.isOpen; })), this.selectionService.onChange).pipe(map(this.itemFromEvent.bind(this)), tap(function (_) { return _this.togglePopup(false); }))\n            .subscribe(function (_a) {\n            var dataItem = _a.dataItem, newValue = _a.value, newSelection = _a.newSelection;\n            if (newSelection) {\n                _this.onSelectionChange({ dataItem: dataItem });\n            }\n            var shouldUsePrevious = !isPresent(dataItem) && _this._previousDataItem;\n            var shouldUseNewValue = newValue !== _this.prop(_this.valueField, _this.valuePrimitive)(_this.value);\n            if (shouldUsePrevious) {\n                _this.updateState({ dataItem: _this._previousDataItem });\n                _this.resetSelection();\n            }\n            else if (shouldUseNewValue) {\n                _this.value = _this.valuePrimitive ? newValue : dataItem;\n                _this._previousDataItem = dataItem;\n                _this.emitChange(_this.value);\n            }\n            _this.clearFilter();\n        }));\n        this.navigationSubscription = merge(this.navigationService.up.pipe(map(function (event) { return (tslib_1.__assign({}, event, { index: _this.correctNavigationIndex(event.index) })); })), this.navigationService.down.pipe(map(function (event) { return (tslib_1.__assign({}, event, { index: _this.correctNavigationIndex(event.index) })); })), this.navigationService.left.pipe(skipWhile(function () { return _this.filterable; })), this.navigationService.right.pipe(skipWhile(function () { return _this.filterable; })), this.navigationService.home, this.navigationService.end)\n            .subscribe(function (event) { return _this.selectionService.select(event.index); });\n        this.openSubscription = this.navigationService.open.subscribe(function () { return _this.togglePopup(true); });\n        this.closeSubscription = this.navigationService.close.subscribe(function () {\n            _this.togglePopup(false);\n            _this.focus();\n        });\n        this.enterSubscription = this.navigationService.enter\n            .pipe(tap(function (event) {\n            if (_this.isOpen) {\n                event.originalEvent.preventDefault();\n            }\n        }))\n            .subscribe(this.handleEnter.bind(this));\n        this.escSubscription = this.navigationService.esc\n            .subscribe(this.handleEscape.bind(this));\n        this.filterBlurredSubscription = this.filterBlurred.pipe(concatMap(function () { return interval(10).pipe(take(1), takeUntil(_this.wrapperFocused)); }))\n            .subscribe(function () {\n            _this.wrapperBlurred.emit();\n        });\n        this._zone.runOutsideAngular(function () {\n            _this.componentBlurredSubscription =\n                merge(_this.wrapperBlurred.pipe(concatMap(function () { return interval(10).pipe(take(1), takeUntil(_this.filterFocused)); })), _this.navigationService.tab).pipe(tap(function (event) { return event instanceof NavigationEvent && _this.focus(); }), filter(function () { return _this.isFocused; }))\n                    .subscribe(function () { return _this._zone.run(function () {\n                    _this.componentBlur();\n                }); });\n        });\n    };\n    DropDownListComponent.prototype.correctNavigationIndex = function (index) {\n        var focusedItemSelected = this.selectionService.isSelected(this.selectionService.focused);\n        return (this.data.length && isPresent(this.selectionService.focused) && !focusedItemSelected) ? this.selectionService.focused : index;\n    };\n    DropDownListComponent.prototype.unsubscribeEvents = function () {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this.navigationSubscription.unsubscribe();\n        this.openSubscription.unsubscribe();\n        this.closeSubscription.unsubscribe();\n        this.enterSubscription.unsubscribe();\n        this.escSubscription.unsubscribe();\n        this.componentBlurredSubscription.unsubscribe();\n        this.filterBlurredSubscription.unsubscribe();\n        if (this.selectionSubscription) {\n            this.selectionSubscription.unsubscribe();\n        }\n    };\n    DropDownListComponent.prototype.itemFromEvent = function (event) {\n        var index = event.indices[0];\n        var dataItem = isPresent(this.data[index]) ? this.data[index] : this.currentOrDefault(index);\n        var value = this.prop(this.valueField, this.valuePrimitive)(dataItem);\n        var newSelection = event.newSelection;\n        return {\n            dataItem: dataItem,\n            index: index,\n            newSelection: newSelection,\n            value: value\n        };\n    };\n    DropDownListComponent.prototype.currentOrDefault = function (selectedIndex) {\n        // if selectedIndex is -1 the user has explicitly selected the default item\n        if (this.dataItem && this.filterable && this.filterText && selectedIndex !== -1) {\n            return this.dataItem;\n        }\n        else {\n            return this.defaultItem;\n        }\n    };\n    DropDownListComponent.prototype.firstFocusableIndex = function (index) {\n        var maxIndex = this.data.length - 1;\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            return (index < maxIndex) ? this.firstFocusableIndex(index + 1) : undefined;\n        }\n        else {\n            return index;\n        }\n    };\n    DropDownListComponent.prototype.handleEnter = function () {\n        if (this.isOpen) {\n            this.selectionService.change(this.selectionService.focused);\n            this.focus();\n        }\n    };\n    DropDownListComponent.prototype.handleEscape = function () {\n        this.togglePopup(false);\n        this.clearFilter();\n        this.focus();\n    };\n    DropDownListComponent.prototype.clearFilter = function () {\n        if (!(this.filterable && this.filterText)) {\n            return;\n        }\n        this.filterText = \"\";\n        this.cdr.markForCheck();\n        this.filterChange.emit(this.filterText);\n    };\n    DropDownListComponent.prototype.verifySettings = function (newValue) {\n        var valueOrText = !isPresent(this.valueField) !== !isPresent(this.textField);\n        if (!isDevMode()) {\n            return;\n        }\n        if (this.defaultItem && this.valueField && typeof this.defaultItem !== \"object\") {\n            throw new Error(DropDownListMessages.defaultItem);\n        }\n        if (this.valuePrimitive === true && isPresent(newValue) && typeof newValue === \"object\") {\n            throw new Error(DropDownListMessages.primitive);\n        }\n        if (this.valuePrimitive === false && isPresent(newValue) && typeof newValue !== \"object\") {\n            throw new Error(DropDownListMessages.object);\n        }\n        if (valueOrText) {\n            throw new Error(DropDownListMessages.textAndValue);\n        }\n    };\n    DropDownListComponent.prototype.componentBlur = function () {\n        this.isFocused = false;\n        this.selectionService.change(this.selectionService.selected[0]);\n        this.onBlur.emit();\n        this.onTouchedCallback();\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.onMouseDown = function (event) {\n        var tagName = event.target.tagName.toLowerCase();\n        if (tagName !== \"input\") {\n            event.preventDefault();\n        }\n    };\n    DropDownListComponent.prototype.onKeyPress = function (event) {\n        if (event.which === 0 || event.keyCode === Keys.enter) {\n            return;\n        }\n        var character = String.fromCharCode(event.charCode || event.keyCode);\n        if (this.ignoreCase) {\n            character = character.toLowerCase();\n        }\n        if (character === \" \") {\n            event.preventDefault();\n        }\n        this.word += character;\n        this.last = character;\n        this.search();\n    };\n    DropDownListComponent.prototype.search = function () {\n        var _this = this;\n        clearTimeout(this.typingTimeout);\n        if (!this.filterable) {\n            this.typingTimeout = setTimeout(function () { _this.word = \"\"; }, this.delay);\n            this.selectNext();\n        }\n    };\n    DropDownListComponent.prototype.selectNext = function () {\n        var data = this.data.map(function (item, index) {\n            return { item: item, itemIndex: index };\n        });\n        var isInLoop = sameCharsOnly(this.word, this.last);\n        var dataLength = data.length;\n        var startIndex = isNaN(this.selectionService.selected[0]) ? 0 : this.selectionService.selected[0];\n        var text, index, defaultItem;\n        if (this.defaultItem) {\n            defaultItem = { item: this.defaultItem, itemIndex: -1 };\n            dataLength += 1;\n            startIndex += 1;\n        }\n        startIndex += isInLoop ? 1 : 0;\n        data = shuffleData(data, startIndex, defaultItem);\n        index = 0;\n        for (; index < dataLength; index++) {\n            text = getter(data[index].item, this.textField);\n            var loopMatch = Boolean(isInLoop && matchText(text, this.last, this.ignoreCase));\n            var nextMatch = Boolean(matchText(text, this.word, this.ignoreCase));\n            if (loopMatch || nextMatch) {\n                index = data[index].itemIndex;\n                break;\n            }\n        }\n        if (index !== dataLength) {\n            this.navigate(index);\n        }\n    };\n    DropDownListComponent.prototype.emitChange = function (value) {\n        this.onChangeCallback(value);\n        this.valueChange.emit(value);\n    };\n    DropDownListComponent.prototype.navigate = function (index) {\n        this.selectionService.select(index);\n    };\n    DropDownListComponent.prototype.prop = function (field, usePrimitive) {\n        return function (dataItem) {\n            if (isPresent(dataItem)) {\n                if (usePrimitive) {\n                    return field && dataItem.hasOwnProperty(field) ? dataItem[field] : dataItem;\n                }\n                else {\n                    return dataItem[field];\n                }\n            }\n            return null;\n        };\n    };\n    DropDownListComponent.prototype.findDataItem = function (_a) {\n        var primitive = _a.primitive, valueField = _a.valueField, data = _a.data, value = _a.value;\n        var result = {\n            dataItem: null,\n            index: -1\n        };\n        var prop = this.prop(valueField, primitive);\n        var mappedData = data.map(prop);\n        var index = mappedData.indexOf(prop(value));\n        result.dataItem = data[index];\n        result.index = index;\n        return result;\n    };\n    DropDownListComponent.prototype.setState = function () {\n        var value = this.value;\n        var valueField = this.valueField;\n        var textField = this.textField;\n        var primitive = this.valuePrimitive;\n        var data = this.data;\n        if (this.defaultItem) {\n            var defaultValue = this.prop(valueField, primitive)(this.defaultItem);\n            var currentValue = this.prop(valueField, primitive)(value);\n            if (!isPresent(value) || (currentValue === defaultValue)) {\n                this.updateState({ dataItem: this.defaultItem, confirm: true });\n                this.resetSelection(-1);\n                if (this.filterable && this.filterText && data.length) {\n                    this.selectionService.focused = this.firstFocusableIndex(0);\n                }\n                return;\n            }\n        }\n        var resolved = this.findDataItem({ primitive: primitive, valueField: valueField, data: data, value: value });\n        // the data and value are of same shape\n        // e.g value: 'foo', data: ['foo', 'bar']\n        // or value: { value: 1, text: 'foo' }, data: [{ value: 1, text: 'foo' }]\n        var ofSameType = !(primitive && textField);\n        if (resolved.dataItem) {\n            this.updateState({ dataItem: resolved.dataItem, confirm: true });\n            this.resetSelection(resolved.index);\n        }\n        else if (isPresent(value) && ofSameType) {\n            this.updateState({ dataItem: value });\n            this.resetSelection();\n        }\n        else if (this._previousDataItem) {\n            this.updateState({ dataItem: this._previousDataItem });\n            this.resetSelection();\n        }\n        else {\n            this.clearState();\n            this.resetSelection();\n        }\n    };\n    /**\n     * @hidden\n     */\n    DropDownListComponent.prototype.handleFilter = function (event) {\n        this.filterChange.emit(event.target.value);\n    };\n    DropDownListComponent.prototype.setMessages = function () {\n        var _this = this;\n        this._zone.runOutsideAngular(function () {\n            clearTimeout(_this.messagesTimeout);\n            _this.messagesTimeout = setTimeout(function () {\n                _this.noDataText = _this.localization.get('noDataText');\n                _this.cdr.detectChanges();\n            });\n        });\n    };\n    DropDownListComponent.decorators = [\n        { type: Component, args: [{\n                    exportAs: 'kendoDropDownList',\n                    providers: [\n                        DROPDOWNLIST_VALUE_ACCESSOR,\n                        SelectionService,\n                        NavigationService,\n                        DisabledItemsService,\n                        LocalizationService,\n                        {\n                            provide: L10N_PREFIX,\n                            useValue: 'kendo.dropdownlist'\n                        },\n                        {\n                            provide: FilterableDropDownComponentBase, useExisting: forwardRef(function () { return DropDownListComponent; })\n                        }\n                    ],\n                    selector: 'kendo-dropdownlist',\n                    template: \"\\n        <ng-container kendoDropDownListLocalizedMessages\\n            i18n-noDataText=\\\"kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items\\\"\\n            noDataText=\\\"NO DATA FOUND\\\"\\n        >\\n        </ng-container>\\n        <span #wrapper unselectable=\\\"on\\\"\\n          role=\\\"listbox\\\"\\n          [id]=\\\"focusableId\\\"\\n          [ngClass]=\\\"{\\n            'k-dropdown-wrap': true,\\n            'k-state-default': !this.disabled,\\n            'k-state-disabled': this.disabled,\\n            'k-state-focused': this.isFocused\\n          }\\\"\\n          [attr.dir]=\\\"direction\\\"\\n          [attr.readonly]=\\\"readonly\\\"\\n          [attr.tabindex]=\\\"widgetTabIndex\\\"\\n          [attr.aria-disabled]=\\\"disabled\\\"\\n          [attr.aria-readonly]=\\\"readonly\\\"\\n          [attr.aria-haspopup]=\\\"ariaHasPopup\\\"\\n          [attr.aria-expanded]=\\\"ariaExpanded\\\"\\n          [attr.aria-owns]=\\\"ariaOwns\\\"\\n          [attr.aria-activedescendant]=\\\"ariaActivedescendant\\\"\\n          [attr.aria-label]=\\\"noDataLabel\\\"\\n          (focus)=\\\"focusComponent()\\\"\\n          (blur)=\\\"blurComponent()\\\"\\n          (keydown)=\\\"keydown($event)\\\"\\n          (keypress)=\\\"keypress($event)\\\"\\n          (click)=\\\"click()\\\"\\n        >\\n            <span [ngClass]=\\\"{ 'k-input': true }\\\" unselectable=\\\"on\\\">\\n               <ng-template *ngIf=\\\"valueTemplate\\\"\\n                   [templateContext]=\\\"{\\n                       templateRef: valueTemplate.templateRef,\\n                       $implicit: dataItem\\n                   }\\\">\\n               </ng-template>\\n               <ng-template [ngIf]=\\\"!valueTemplate\\\">{{ getText() }}</ng-template>\\n           </span>\\n           <span [ngClass]=\\\"{ 'k-select': true}\\\" unselectable=\\\"on\\\">\\n               <span [ngClass]=\\\"buttonClasses\\\"></span>\\n           </span>\\n           <ng-template #popupTemplate>\\n               <!--filterable-->\\n\\n               <ng-template [ngIf]=\\\"filterable\\\">\\n                   <span [ngClass]=\\\"{ 'k-list-filter': true }\\\" (click)=\\\"$event.stopImmediatePropagation()\\\">\\n                       <input\\n                           tabindex=\\\"-1\\\"\\n                           [filterInput]=\\\"isFocused && !touchEnabled\\\"\\n                           [dir]=\\\"direction\\\"\\n                           [(ngModel)]=\\\"filterText\\\"\\n                           class=\\\"k-textbox\\\"\\n                           (keydown)=\\\"keydown($event)\\\"\\n                           (input)=\\\"handleFilter($event)\\\"\\n                           (focus)=\\\"onFilterFocus()\\\"\\n                           (blur)=\\\"blurFilterInput()\\\" />\\n                       <span [ngClass]=\\\"{ 'k-icon': true, 'k-i-search': true }\\\" unselectable=\\\"on\\\"></span>\\n                   </span>\\n               </ng-template>\\n               <!--default item-->\\n               <ng-template [ngIf]=\\\"defaultItem && !itemTemplate\\\">\\n                   <div [ngClass]=\\\"setDefaultItemClasses()\\\" kendoDropDownsSelectable [index]=\\\"-1\\\">\\n                       {{ getDefaultItemText() }}\\n                   </div>\\n               </ng-template>\\n               <ng-template [ngIf]=\\\"defaultItem && itemTemplate\\\">\\n                   <div [ngClass]=\\\"setDefaultItemClasses()\\\" kendoDropDownsSelectable [index]=\\\"-1\\\">\\n                       <ng-template\\n                           [templateContext]=\\\"{\\n                               templateRef: itemTemplate.templateRef,\\n                               $implicit: defaultItem\\n                           }\\\">\\n                       </ng-template>\\n                   </div>\\n               </ng-template>\\n               <!--header template-->\\n               <ng-template *ngIf=\\\"headerTemplate\\\"\\n                   [templateContext]=\\\"{\\n                       templateRef: headerTemplate.templateRef\\n                   }\\\">\\n               </ng-template>\\n               <!--list-->\\n               <kendo-list\\n                   [id]=\\\"listBoxId\\\"\\n                   [optionPrefix]=\\\"optionPrefix\\\"\\n                   [data]=\\\"data\\\"\\n                   [textField]=\\\"textField\\\"\\n                   [valueField]=\\\"valueField\\\"\\n                   [template]=\\\"itemTemplate\\\"\\n                   [height]=\\\"listHeight\\\"\\n                   [show]=\\\"isOpen\\\"\\n                   >\\n               </kendo-list>\\n               <!--no-data template-->\\n               <div class=\\\"k-nodata\\\" *ngIf=\\\"data.length === 0\\\">\\n                   <ng-template [ngIf]=\\\"noDataTemplate\\\"\\n                       [templateContext]=\\\"{\\n                           templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\\n                       }\\\">\\n                   </ng-template>\\n                   <ng-template [ngIf]=\\\"!noDataTemplate\\\">\\n                       <div>{{ noDataText }}</div>\\n                   </ng-template>\\n               </div>\\n               <!--footer template-->\\n               <ng-template *ngIf=\\\"footerTemplate\\\"\\n                   [templateContext]=\\\"{\\n                       templateRef: footerTemplate.templateRef\\n                   }\\\">\\n               </ng-template>\\n            </ng-template>\\n        </span>\\n        <ng-template [ngIf]=\\\"isOpen\\\">\\n            <kendo-resize-sensor (resize)=\\\"onResize()\\\"></kendo-resize-sensor>\\n        </ng-template>\\n        <ng-container #container></ng-container>\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    DropDownListComponent.ctorParameters = function () { return [\n        { type: LocalizationService, },\n        { type: PopupService, },\n        { type: SelectionService, },\n        { type: NavigationService, },\n        { type: DisabledItemsService, },\n        { type: NgZone, },\n        { type: Renderer2, },\n        { type: ElementRef, },\n        { type: ChangeDetectorRef, },\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [TOUCH_ENABLED,] },] },\n    ]; };\n    DropDownListComponent.propDecorators = {\n        'focusableId': [{ type: Input },],\n        'iconClass': [{ type: Input },],\n        'loading': [{ type: Input },],\n        'data': [{ type: Input },],\n        'value': [{ type: Input },],\n        'textField': [{ type: Input },],\n        'valueField': [{ type: Input },],\n        'popupSettings': [{ type: Input },],\n        'listHeight': [{ type: Input },],\n        'defaultItem': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'itemDisabled': [{ type: Input },],\n        'readonly': [{ type: Input },],\n        'filterable': [{ type: Input },],\n        'ignoreCase': [{ type: Input },],\n        'delay': [{ type: Input },],\n        'valuePrimitive': [{ type: Input },],\n        'tabindex': [{ type: Input },],\n        'tabIndex': [{ type: Input, args: [\"tabIndex\",] },],\n        'valueChange': [{ type: Output },],\n        'filterChange': [{ type: Output },],\n        'selectionChange': [{ type: Output },],\n        'open': [{ type: Output },],\n        'close': [{ type: Output },],\n        'onFocus': [{ type: Output, args: ['focus',] },],\n        'onBlur': [{ type: Output, args: ['blur',] },],\n        'itemTemplate': [{ type: ContentChild, args: [ItemTemplateDirective,] },],\n        'valueTemplate': [{ type: ContentChild, args: [ValueTemplateDirective,] },],\n        'headerTemplate': [{ type: ContentChild, args: [HeaderTemplateDirective,] },],\n        'footerTemplate': [{ type: ContentChild, args: [FooterTemplateDirective,] },],\n        'noDataTemplate': [{ type: ContentChild, args: [NoDataTemplateDirective,] },],\n        'container': [{ type: ViewChild, args: ['container', { read: ViewContainerRef },] },],\n        'popupTemplate': [{ type: ViewChild, args: ['popupTemplate',] },],\n        'wrapper': [{ type: ViewChild, args: ['wrapper',] },],\n        'widgetClasses': [{ type: HostBinding, args: ['class.k-widget',] }, { type: HostBinding, args: ['class.k-dropdown',] }, { type: HostBinding, args: ['class.k-header',] },],\n        'dir': [{ type: HostBinding, args: ['attr.dir',] },],\n    };\n    return DropDownListComponent;\n}());\nexport { DropDownListComponent };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the content of the custom list item in the MultiSelect\n * ([see example]({% slug templates_multiselect %}#toc-customizing-the-item-content)).\n * The template context is set to the current component.\n * To get a reference to the current text that is typed by the\n * user, use the `let-customItem` directive.\n *\n * > The `CustomItemTemplate` directive can only be used with the MultiSelect component.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-multiselect [data]=\"listItems\" [allowCustom]=\"true\">\n *    <ng-template kendoMultiSelectCustomItemTemplate let-customItem>\n *      <span>New Item: {{customItem}}</span>\n *    </ng-template>\n *  </kendo-multiselect>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n *\n */\nvar CustomItemTemplateDirective = /** @class */ (function () {\n    function CustomItemTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    CustomItemTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoMultiSelectCustomItemTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    CustomItemTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return CustomItemTemplateDirective;\n}());\nexport { CustomItemTemplateDirective };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the selected tag value of the MultiSelect\n * ([see example]({% slug templates_multiselect %}#toc-tag-template)).\n * The template context is set to the current component.\n * To get a reference to the current data item, use the `let-dataItem` directive.\n *\n * > The `TagTemplate` directive can only be used with the MultiSelect component.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-multiselect [data]=\"items\">\n *    <ng-template kendoMultiSelectTagTemplate let-dataItem>\n *      <span>{{dataItem}} option</span>\n *    </ng-template>\n *  </kendo-multiselect>\n * `\n * })\n * class AppComponent {\n *   public items: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar TagTemplateDirective = /** @class */ (function () {\n    function TagTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    TagTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoMultiSelectTagTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    TagTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return TagTemplateDirective;\n}());\nexport { TagTemplateDirective };\n","/* tslint:disable:max-line-length */\nimport { Directive, TemplateRef } from '@angular/core';\n/**\n * Renders the grouped tag values in the MultiSelect\n * ([see example]({% slug summarytagmode_multiselect %})).\n * The template context is set to the current component.\n * To get a reference to the current grouped\n * data items collection, use the `let-dataItems` directive.\n *\n * > The `GroupTagTemplate` directive can only be used with the MultiSelect component.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-multiselect kendoMultiSelectSummaryTag [data]=\"items\">\n *    <ng-template kendoMultiSelectGroupTagTemplate let-dataItems>\n *      <span>{{dataItems.length}} item(s) selected</span>\n *    </ng-template>\n *  </kendo-multiselect>\n * `\n * })\n * class AppComponent {\n *   public items: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar GroupTagTemplateDirective = /** @class */ (function () {\n    function GroupTagTemplateDirective(templateRef) {\n        this.templateRef = templateRef;\n    }\n    GroupTagTemplateDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoMultiSelectGroupTagTemplate]'\n                },] },\n    ];\n    /** @nocollapse */\n    GroupTagTemplateDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n    ]; };\n    return GroupTagTemplateDirective;\n}());\nexport { GroupTagTemplateDirective };\n","import * as tslib_1 from \"tslib\";\nimport { PreventableEvent } from './preventable-event';\n/**\n * Fires when a tag is about to the removed. If you cancel the event, the removal is prevented.\n */\nvar RemoveTagEvent = /** @class */ (function (_super) {\n    tslib_1.__extends(RemoveTagEvent, _super);\n    /**\n     * Constructs the event arguments for the `remove` event.\n     * @param dataItem - The data item or an array of data items that will be removed.\n     */\n    function RemoveTagEvent(dataItem) {\n        var _this = _super.call(this) || this;\n        _this.dataItem = dataItem;\n        return _this;\n    }\n    return RemoveTagEvent;\n}(PreventableEvent));\nexport { RemoveTagEvent };\n","/* tslint:disable:max-line-length */\nimport { guid, isDocumentAvailable, isPresent, isArray, isObjectArray, isChanged, resolveAllValues, selectedIndices, getter, isNumber } from './util';\nimport { SearchBarComponent } from './searchbar.component';\nimport { ViewChild, Renderer2, ViewContainerRef, Component, HostBinding, Input, ElementRef, Output, EventEmitter, isDevMode, forwardRef, ContentChild, ChangeDetectorRef, KeyValueDiffers, NgZone, Optional, Inject } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Subject } from 'rxjs/Subject';\nimport { catchError } from 'rxjs/operators/catchError';\nimport { filter } from 'rxjs/operators/filter';\nimport { map } from 'rxjs/operators/map';\nimport { tap } from 'rxjs/operators/tap';\nimport { of } from 'rxjs/observable/of';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { SelectionService } from './selection.service';\nimport { NavigationService } from './navigation.service';\nimport { NavigationAction } from './navigation-action';\nimport { DisabledItemsService } from './disabled-items.service';\nimport { Keys } from './common/keys';\nimport { ItemTemplateDirective } from './templates/item-template.directive';\nimport { CustomItemTemplateDirective } from './templates/custom-item-template.directive';\nimport { HeaderTemplateDirective } from './templates/header-template.directive';\nimport { FooterTemplateDirective } from './templates/footer-template.directive';\nimport { TagTemplateDirective } from './templates/tag-template.directive';\nimport { GroupTagTemplateDirective } from './templates/group-tag-template.directive';\nimport { NoDataTemplateDirective } from './templates/no-data-template.directive';\nimport { MultiselectMessages } from './error-messages';\nimport { PreventableEvent } from './common/preventable-event';\nimport { RemoveTagEvent } from './common/remove-tag-event';\nimport { LocalizationService, L10N_PREFIX } from '@progress/kendo-angular-l10n';\nimport { PopupService } from '@progress/kendo-angular-popup';\nimport { FilterableDropDownComponentBase } from './filterable-base.component';\nimport { TOUCH_ENABLED } from './touch-enabled';\nvar MULTISELECT_VALUE_ACCESSOR = {\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    // tslint:disable-next-line:no-use-before-declare\n    useExisting: forwardRef(function () { return MultiSelectComponent; })\n};\n/**\n * Represents the Kendo UI MultiSelect component for Angular.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-multiselect [data]=\"listItems\">\n *  </kendo-multiselect>\n * `\n * })\n * class AppComponent {\n *   public listItems: Array<string> = [\"Item 1\", \"Item 2\", \"Item 3\", \"Item 4\"];\n * }\n * ```\n */\nvar MultiSelectComponent = /** @class */ (function () {\n    function MultiSelectComponent(localization, popupService, selectionService, navigationService, disabledItemsService, cdr, differs, renderer, hostElement, _zone, touchEnabled) {\n        var _this = this;\n        this.localization = localization;\n        this.popupService = popupService;\n        this.selectionService = selectionService;\n        this.navigationService = navigationService;\n        this.disabledItemsService = disabledItemsService;\n        this.cdr = cdr;\n        this.differs = differs;\n        this.renderer = renderer;\n        this.hostElement = hostElement;\n        this._zone = _zone;\n        this.touchEnabled = touchEnabled;\n        this.listBoxId = guid();\n        this.tagListId = guid();\n        this.tagPrefix = \"tag-\" + guid();\n        this.optionPrefix = \"option-\" + guid();\n        this.focusedTagIndex = undefined;\n        /**\n         * @hidden\n         */\n        this.focusableId = \"k-\" + guid();\n        /**\n         * Determines whether to close the options list of the MultiSelect after the item selection is finished\n         * ([see example]({% slug openstate_multiselect %}#toc-keeping-the-options-list-open-while-on-focus)).\n         * @default true\n         */\n        this.autoClose = true;\n        /**\n         * Specifies the [`tabindex`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) of the component.\n         */\n        this.tabindex = 0;\n        /**\n         * Sets the disabled state of the component.\n         */\n        this.disabled = false;\n        /**\n         * Sets the read-only state of the component.\n         */\n        this.readonly = false;\n        /**\n         * Enables the [filtering]({% slug filtering_multiselect %}) functionality of the MultiSelect.\n         */\n        this.filterable = false;\n        /**\n         * Sets the height of the suggestions list. By default, `listHeight` is 200px.\n         *\n         * > The `listHeight` property affects only the list of suggestions and not the whole popup container.\n         * > To set the height of the popup container, use `popupSettings.height`.\n         */\n        this.listHeight = 200;\n        /**\n         * If set to `true`, renders a button on hovering over the component.\n         * Clicking this button resets the value of the component to an empty array and triggers the `change` event.\n         */\n        this.clearButton = true;\n        /**\n         * A user-defined callback function which receives an array of selected data items and maps them to an array of tags.\n         *\n         * @param { Any[] } dataItems - The selected data items from the list.\n         * @returns { Any[] } - The tags that will be rendered by the component.\n         */\n        this.tagMapper = function (tags) { return tags || []; };\n        /**\n         * Specifies whether the MultiSelect allows user-defined values that are not present in the dataset.\n         * The default value is `false`.\n         * For more information, refer to the article on [custom values]({% slug custom_values_multiselect %}).\n         */\n        this.allowCustom = false;\n        /**\n         * A user-defined callback function which returns normalized custom values.\n         * Typically used when the data items are different from type `string`.\n         *\n         * @param { Any } value - The custom value that is defined by the user.\n         * @returns { Any }\n         *\n         * @example\n         * ```ts\n         * import { map } from 'rxjs/operators/map';\n         *\n         * _@Component({\n         * selector: 'my-app',\n         * template: `\n         *   <kendo-multiselect\n         *       [allowCustom]=\"true\"\n         *       [data]=\"listItems\"\n         *       [textField]=\"'text'\"\n         *       [valueField]=\"'value'\"\n         *       [valueNormalizer]=\"valueNormalizer\"\n         *       (valueChange)=\"onValueChange($event)\"\n         *   >\n         *   </kendo-multiselect>\n         * `\n         * })\n         *\n         * class AppComponent {\n         *   public listItems: Array<{ text: string, value: number }> = [\n         *       { text: \"Small\", value: 1 },\n         *       { text: \"Medium\", value: 2 },\n         *       { text: \"Large\", value: 3 }\n         *   ];\n         *\n         *   public onValueChange(value) {\n         *       console.log(\"valueChange : \", value);\n         *   }\n         *\n         *   public valueNormalizer = (text$: Observable<string>) => text$.pipe(map((text: string) => {\n         *      return {\n         *         value: Math.floor(Math.random() * (1000 - 100) + 1000), //generate unique valueField\n         *         text: text };\n         *   }));\n         *\n         * }\n         * ```\n         */\n        this.valueNormalizer = function (text) { return text.pipe(map(function (userInput) {\n            var comparer = function (item) { return userInput.toLowerCase() === item.toLowerCase(); };\n            var matchingValue = _this.value.find(comparer);\n            if (matchingValue) {\n                return matchingValue;\n            }\n            var matchingItem = _this.data.find(comparer);\n            return matchingItem ? matchingItem : userInput;\n        })); };\n        /**\n         * Fires each time the user types in the input field.\n         * You can filter the source based on the passed filtration value.\n         */\n        this.filterChange = new EventEmitter();\n        /**\n         * Fires each time the value is changed&mdash;\n         * when the component is blurred or the value is cleared through the **Clear** button.\n         * For more details, refer to the example on [events]({% slug overview_multiselect %}#toc-events).\n         * When the value of the component is programmatically changed to `ngModel` or `formControl`\n         * through its API or form binding, the `valueChange` event is not triggered because it\n         * might cause a mix-up with the built-in `valueChange` mechanisms of the `ngModel` or `formControl` bindings.\n         */\n        this.valueChange = new EventEmitter();\n        /**\n         * Fires each time the popup is about to open\n         * ([see example]({% slug openstate_multiselect %}#toc-preventing-opening-and-closing)).\n         * This event is preventable. If you cancel it, the popup will remain closed.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires each time the popup is about to close\n         * ([see example]({% slug openstate_multiselect %}#toc-preventing-opening-and-closing)).\n         * This event is preventable. If you cancel it, the popup will remain open.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires each time the user focuses the MultiSelect.\n         */\n        this.onFocus = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires each time the MultiSelect gets blurred.\n         */\n        this.onBlur = new EventEmitter(); //tslint:disable-line:no-output-rename\n        /**\n         * Fires each time a tag is about to be removed.\n         * This event is preventable. If you cancel it, the tag will not be removed.\n         */\n        this.removeTag = new EventEmitter();\n        this.onChangeCallback = function (_) { };\n        this.onTouchedCallback = function (_) { };\n        this._data = [];\n        this._placeholder = '';\n        this._open = false;\n        this._value = [];\n        this._popupSettings = { animate: true };\n        this.isFocused = false;\n        this.selectedDataItems = [];\n        this.customValueSubject = new Subject();\n        this.observableSubscriptions = new Subscription();\n        this.hostElement = hostElement.nativeElement;\n        this.popupMouseDownHandler = this.onMouseDown.bind(this);\n        this.direction = this.localization.rtl ? 'rtl' : 'ltr';\n        this.subscribeEvents();\n    }\n    /**\n     * Focuses the MultiSelect.\n     */\n    MultiSelectComponent.prototype.focus = function () {\n        if (!this.disabled) {\n            this.searchbar.focus();\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.onSearchBarFocus = function () {\n        if (!this.isFocused) {\n            this.isFocused = true;\n            this.onFocus.emit();\n        }\n    };\n    /**\n     * Blurs the MultiSelect.\n     */\n    MultiSelectComponent.prototype.blur = function () {\n        if (!this.disabled) {\n            this.searchbar.blur();\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.onSearchBarBlur = function () {\n        if (this.isFocused) {\n            this.closePopup();\n            this.isFocused = false;\n            if (!this.allowCustom) {\n                this.clearFilter();\n            }\n            this.onBlur.emit();\n            this.onTouchedCallback();\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.wrapperMousedown = function (event) {\n        var inputElement = this.searchbar.input.nativeElement;\n        if (event.button === 0) {\n            if (this.isFocused && this.isOpen && event.target === inputElement) {\n                return;\n            }\n            if (!this.touchEnabled || (this.touchEnabled && event.target.tagName !== 'SPAN')) {\n                this.searchbar.focus();\n            }\n            this.togglePopup(!this.isOpen);\n            event.preventDefault();\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.onMouseDown = function (event) {\n        event.preventDefault();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.onResize = function () {\n        if (this._open) {\n            var popupWrapper = this.popupRef.popupElement;\n            var _a = this.width, min = _a.min, max = _a.max;\n            popupWrapper.style.minWidth = min;\n            popupWrapper.style.width = max;\n        }\n    };\n    Object.defineProperty(MultiSelectComponent.prototype, \"appendTo\", {\n        get: function () {\n            var appendTo = this.popupSettings.appendTo;\n            if (!appendTo || appendTo === 'root') {\n                return undefined;\n            }\n            return appendTo === 'component' ? this.container : appendTo;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        /**\n         * Sets the data of the MultiSelect.\n         *\n         * > The data has to be provided in an array-like list of items.\n         */\n        set: function (data) {\n            this._data = data || [];\n            this.disabledItemsService.data = this._data;\n            this.setState(this.value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        /**\n         * Sets the value of the MultiSelect. It can be either of the primitive (string, numbers) or of the complex (objects) type.\n         * To define the type, use the `valuePrimitive` option.\n         *\n         * > All selected values which are not present in the source are ignored.\n         */\n        set: function (values) {\n            this._value = values ? values : [];\n            if (!this.differ && this.value) {\n                this.differ = this.differs.find(this.value).create();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"tabIndex\", {\n        get: function () {\n            return this.tabindex;\n        },\n        /**\n         * @hidden\n         */\n        set: function (tabIndex) {\n            this.tabindex = tabIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"placeholder\", {\n        get: function () {\n            return this.selectedDataItems.length ? '' : this._placeholder;\n        },\n        /**\n         * The hint which is displayed when the component is empty.\n         * When the values are selected, it disappears.\n         */\n        set: function (text) {\n            this._placeholder = text || '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"itemDisabled\", {\n        /**\n         * Defines a Boolean function that is executed for each data item in the component\n         * ([see examples]({% slug disableditems_multiselect %})). Determines whether the item will be disabled.\n         */\n        set: function (fn) {\n            if (typeof fn !== 'function') {\n                throw new Error(\"itemDisabled must be a function, but received \" + JSON.stringify(fn) + \".\");\n            }\n            this.disabledItemsService.itemDisabled = fn;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"popupSettings\", {\n        get: function () {\n            return this._popupSettings;\n        },\n        /**\n         * Configures the popup of the MultiSelect.\n         *\n         * The available options are:\n         * - `animate: Boolean`&mdash;Controls the popup animation. By default, the open and close animations are enabled.\n         * - `width: Number`&mdash;Sets the width of the popup container. By default, the width of the host element is used.\n         * - `height: Number`&mdash;Sets the height of the popup container.\n         * - `popupClass: String`&mdash;Specifies a list of CSS classes that are used to style the popup.\n         * - `appendTo: \"root\" | \"component\" | ViewContainerRef`&mdash;Specifies the component to which the popup will be appended.\n         */\n        set: function (settings) {\n            this._popupSettings = Object.assign({ animate: true }, settings);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"widgetClasses\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"dir\", {\n        get: function () {\n            return this.direction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"focusedClass\", {\n        get: function () {\n            return this.isFocused;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"disabledClass\", {\n        get: function () {\n            return this.disabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"listContainerClasses\", {\n        get: function () {\n            var containerClasses = ['k-list-container', 'k-reset'];\n            if (this.popupSettings.popupClass) {\n                containerClasses.push(this.popupSettings.popupClass);\n            }\n            return containerClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"width\", {\n        get: function () {\n            var wrapperOffsetWidth = 0;\n            if (isDocumentAvailable()) {\n                wrapperOffsetWidth = this.wrapper.nativeElement.offsetWidth;\n            }\n            var width = this.popupSettings.width || wrapperOffsetWidth;\n            var minWidth = isNaN(wrapperOffsetWidth) ? wrapperOffsetWidth : wrapperOffsetWidth + \"px\";\n            var maxWidth = isNaN(width) ? width : width + \"px\";\n            return { min: minWidth, max: maxWidth };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"height\", {\n        get: function () {\n            var popupHeight = this.popupSettings.height;\n            return isPresent(popupHeight) ? popupHeight + \"px\" : 'auto';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"activeDescendant\", {\n        get: function () {\n            var focusedTagIndex = this.focusedTagIndex;\n            var focusedListIndex = this.selectionService.focused;\n            var prefix;\n            var item;\n            if (isPresent(focusedTagIndex)) {\n                item = this.tags[focusedTagIndex];\n                prefix = this.tagPrefix;\n            }\n            else {\n                item = this.data[focusedListIndex];\n                prefix = this.optionPrefix;\n            }\n            return prefix + \"-\" + this.prop(this.valueField, this.valuePrimitive)(item);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectComponent.prototype, \"noDataLabel\", {\n        get: function () {\n            if (this.data.length === 0) {\n                return this.noDataText;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.verifySettings = function () {\n        var valueOrText = !isPresent(this.valueField) !== !isPresent(this.textField);\n        if (!isDevMode() || this.value.length === 0) {\n            return;\n        }\n        if (!isArray(this.value)) {\n            throw new Error(MultiselectMessages.array);\n        }\n        if (this.valuePrimitive === true && isObjectArray(this.value)) {\n            throw new Error(MultiselectMessages.primitive);\n        }\n        if (this.valuePrimitive === false && !isObjectArray(this.value)) {\n            throw new Error(MultiselectMessages.object);\n        }\n        if (valueOrText) {\n            throw new Error(MultiselectMessages.textAndValue);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.change = function (event) {\n        var isCustomItem = (isPresent(event.added) || isPresent(event.removed)) && (event.added === -1 || event.removed === -1);\n        if (isCustomItem) {\n            this.addCustomValue(this.text);\n            return; //change is emited asynchronosly\n        }\n        //existing items\n        if (isPresent(event.added)) {\n            var dataItem = this.data[event.added];\n            var newItem = (this.valuePrimitive && isPresent(dataItem[this.valueField])) ? dataItem[this.valueField] :\n                dataItem;\n            this.value = this.value.concat([newItem]);\n            this.cdr.markForCheck();\n        }\n        if (isPresent(event.removed)) {\n            var dataItem_1 = this.data[event.removed];\n            var prop_1 = this.prop(this.valueField, this.valuePrimitive);\n            this.value = this.value.filter(function (item) { return prop_1(item) !== prop_1(dataItem_1); });\n            this.cdr.markForCheck();\n        }\n        this.emitValueChange();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.setState = function (value) {\n        var objectArray = isObjectArray(value);\n        var selection = selectedIndices(this.value, this.data, this.valueField);\n        this.selectionService.resetSelection(selection);\n        if (this.isOpen && this.selectionService.focused === undefined) {\n            this.selectionService.focused = this.data.length ? this.firstFocusableIndex(0) : this.allowCustom ? -1 : undefined;\n        }\n        if (!this.text) {\n            if (this.valuePrimitive && !this.valueField) {\n                this.selectedDataItems = value.slice();\n            }\n            if (objectArray || this.valuePrimitive && this.valueField) {\n                this.selectedDataItems = resolveAllValues(value, this.data, this.valueField);\n            }\n        }\n        this.tags = this.tagMapper(this.selectedDataItems.slice(0));\n        this.cdr.markForCheck();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.handleFilter = function (text) {\n        this.text = text;\n        if (text && !this.isOpen) {\n            this.openPopup();\n        }\n        if (this.filterable) {\n            this.filterChange.emit(text);\n        }\n        else {\n            this.searchTextAndFocus(text);\n        }\n        this.searchbar.setInputSize();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.clearFilter = function () {\n        if (this.filterable && this.text) {\n            this.filterChange.emit(\"\");\n        }\n        this.text = \"\";\n        this.searchbar.setInputSize();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.handleNavigate = function (event) {\n        var navigateInput = this.text && event.keyCode !== Keys.down && event.keyCode !== Keys.up;\n        var selectValue = this.text && event.keyCode === Keys.enter || event.keyCode === Keys.esc;\n        var deleteTag = !this.text && event.keyCode === Keys.backspace && this.tags.length > 0;\n        if (deleteTag) {\n            this.handleBackspace();\n            return;\n        }\n        if (this.disabled || navigateInput && !selectValue) {\n            return;\n        }\n        var eventData = event;\n        var focused = isNaN(this.selectionService.focused) ? -1 : this.selectionService.focused;\n        var action = this.navigationService.process({\n            current: focused,\n            max: this.data.length - 1,\n            min: this.allowCustom && this.text ? -1 : 0,\n            open: this.isOpen,\n            originalEvent: eventData\n        });\n        if (action !== NavigationAction.Undefined &&\n            ((action === NavigationAction.Enter && this.isOpen) || action !== NavigationAction.Enter)) {\n            event.preventDefault();\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.handleRemoveTag = function (tagData) {\n        var eventArgs = new RemoveTagEvent(tagData);\n        if (this.disabled || this.readonly) {\n            return;\n        }\n        this.focus();\n        this.removeTag.emit(eventArgs);\n        if (eventArgs.isDefaultPrevented()) {\n            return;\n        }\n        if (tagData instanceof Array) {\n            this.removeGroupTag(tagData);\n        }\n        else {\n            this.removeSingleTag(tagData);\n        }\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.clearAll = function (event) {\n        event.stopImmediatePropagation();\n        this.clearFilter();\n        this.reset();\n        this.emitValueChange();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.addCustomValue = function (text) {\n        this.customValueSubject.next(text);\n    };\n    MultiSelectComponent.prototype.ngAfterContentChecked = function () {\n        this.verifySettings();\n    };\n    MultiSelectComponent.prototype.ngDoCheck = function () {\n        var _this = this;\n        if (this.differ) {\n            var valueChanges = this.differ.diff(this.value);\n            if (valueChanges && !this.valueChangeDetected) {\n                this.selectedDataItems = this.getSelectedDataItems(valueChanges);\n                this.tags = this.tagMapper(this.selectedDataItems.slice(0));\n                if (!(this.tags && this.data)) {\n                    return;\n                }\n                var isValueCustom_1 = function (tag) { return _this.data.indexOf(tag) === -1; };\n                var isValueSelected_1 = function (tag) { return _this.selectionService.isSelected(_this.data.indexOf(tag)); };\n                var tagsAndSelectionInconsistency = this.tags.some(function (tag) { return !(isValueCustom_1(tag) || isValueSelected_1(tag)); });\n                if (tagsAndSelectionInconsistency) {\n                    this.setState(this.value);\n                }\n            }\n        }\n        this.valueChangeDetected = false;\n    };\n    MultiSelectComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.renderer.removeAttribute(this.hostElement, \"tabindex\");\n        this.createCustomValueStream();\n        this.localizationChangeSubscription = this.localization\n            .changes.subscribe(function (_a) {\n            var rtl = _a.rtl;\n            _this.direction = rtl ? 'rtl' : 'ltr';\n            _this.setMessages();\n        });\n        this.setMessages();\n    };\n    MultiSelectComponent.prototype.ngOnChanges = function (changes) {\n        if (this.valuePrimitive === undefined) {\n            this.valuePrimitive = !this.valueField;\n        }\n        if (isChanged(\"valueNormalizer\", changes)) {\n            this.createCustomValueStream();\n        }\n        var STATE_PROPS = /(data|textField|valueField|valuePrimitive|value)/g;\n        if (changes.hasOwnProperty(\"value\")) {\n            this.valueChangeDetected = true;\n        }\n        if (STATE_PROPS.test(Object.keys(changes).join())) {\n            this.setState(this.value);\n        }\n    };\n    MultiSelectComponent.prototype.ngAfterViewInit = function () {\n        this.searchbar.setInputSize();\n    };\n    MultiSelectComponent.prototype.ngOnDestroy = function () {\n        this._toggle(false);\n        this.unsubscribeEvents();\n        clearTimeout(this.messagesTimeout);\n        if (this.localizationChangeSubscription) {\n            this.localizationChangeSubscription.unsubscribe();\n        }\n    };\n    /**\n     * Toggles the visibility of the popup\n     * ([see example]({% slug openstate_multiselect %}#toc-setting-the-initially-opened-component)).\n     * If you use the `toggle` method to open or close the popup, the respective `open` and `close` events will not be fired.\n     *\n     * @param open - The state of the popup.\n     */\n    MultiSelectComponent.prototype.toggle = function (open) {\n        var _this = this;\n        // the Promise is required in order to open the popup on load\n        // otherwise \"Expression has changed...\" type error will be thrown\n        Promise.resolve(null).then(function () {\n            _this._toggle((open === undefined) ? !_this._open : open);\n            _this.cdr.markForCheck();\n        });\n    };\n    Object.defineProperty(MultiSelectComponent.prototype, \"isOpen\", {\n        /**\n         * Returns the current open state of the popup.\n         */\n        get: function () {\n            return this._open;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Resets the value of the MultiSelect.\n     * If you use the `reset` method to clear the value of the component,\n     * the model will not update automatically and the `selectionChange` and `valueChange` events will not be fired.\n     */\n    MultiSelectComponent.prototype.reset = function () {\n        this.text = \"\";\n        this.value = [];\n        this.selectedDataItems = [];\n        this.setState([]);\n        this.cdr.markForCheck();\n    };\n    // NG MODEL BINDINGS\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.writeValue = function (value) {\n        this.value = value || [];\n        this.selectedDataItems = [];\n        this.setState(this.value);\n        this.verifySettings();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.registerOnChange = function (fn) {\n        this.onChangeCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.registerOnTouched = function (fn) {\n        this.onTouchedCallback = fn;\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectComponent.prototype.onTagMapperChange = function () {\n        this.tags = this.tagMapper(this.selectedDataItems.slice(0));\n        this.cdr.markForCheck();\n    };\n    MultiSelectComponent.prototype.prop = function (field, usePrimitive) {\n        return function (dataItem) {\n            if (isPresent(dataItem)) {\n                if (usePrimitive) {\n                    return field && dataItem.hasOwnProperty(field) ? dataItem[field] : dataItem;\n                }\n                else {\n                    return dataItem[field];\n                }\n            }\n            return null;\n        };\n    };\n    MultiSelectComponent.prototype.subscribeEvents = function () {\n        var _this = this;\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        var isOpen = function () { return _this.isOpen; };\n        var isClosed = function () { return !_this.isOpen; };\n        var isTagFocused = function () { return !_this.isOpen && _this.focusedTagIndex !== undefined; };\n        [\n            this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),\n            this.navigationService.esc.subscribe(this.closePopup.bind(this)),\n            this.navigationService.enter.pipe(filter(isOpen)).subscribe(this.handleEnter.bind(this)),\n            this.navigationService.open.subscribe(this.openPopup.bind(this)),\n            this.navigationService.close.subscribe(this.handleClose.bind(this)),\n            this.navigationService.up.pipe(filter(isOpen)).subscribe(function (event) { return _this.handleUp(event.index); }),\n            this.navigationService.home.pipe(filter(function () { return isClosed; })).subscribe(this.handleHome.bind(this)),\n            this.navigationService.end.pipe(filter(function () { return isClosed; })).subscribe(this.handleEnd.bind(this)),\n            this.navigationService.backspace.pipe(filter(isTagFocused)).subscribe(this.handleBackspace.bind(this)),\n            this.navigationService.delete.pipe(filter(isTagFocused)).subscribe(this.handleDelete.bind(this)),\n            this.navigationService.left.subscribe(this.handleLeftKey.bind(this)),\n            this.navigationService.right.subscribe(this.handleRightKey.bind(this)),\n            this.navigationService.down.subscribe(function (event) { return _this.handleDownKey(event.index); })\n        ].forEach(function (s) { return _this.observableSubscriptions.add(s); });\n    };\n    MultiSelectComponent.prototype.unsubscribeEvents = function () {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this.observableSubscriptions.unsubscribe();\n        if (this.customValueSubscription) {\n            this.customValueSubscription.unsubscribe();\n        }\n    };\n    MultiSelectComponent.prototype.removeGroupTag = function (dataItems) {\n        var _this = this;\n        var prop = this.prop(this.valueField, this.valuePrimitive);\n        var indices = selectedIndices(dataItems, this.data, this.valueField);\n        var valuesToRemove = [];\n        indices.forEach(function (currentValue, index) {\n            if (isNumber(currentValue)) {\n                _this.selectionService.unselect(currentValue);\n            }\n            else {\n                var valueToRemove = _this.value.find(function (item) { return prop(item) !== prop(dataItems[index]); });\n                valuesToRemove.push(valueToRemove);\n            }\n        });\n        if (valuesToRemove.length) {\n            var newValue_1 = this.value.slice();\n            var newSelectedDataItems_1 = this.selectedDataItems.slice();\n            valuesToRemove.forEach(function (value) {\n                var filter = function (item) { return prop(item) !== value; };\n                newValue_1 = newValue_1.filter(filter);\n                newSelectedDataItems_1 = newSelectedDataItems_1.filter(filter);\n            });\n            this.value = newValue_1;\n            this.selectedDataItems = newSelectedDataItems_1;\n        }\n        this.tags = this.tagMapper(this.selectedDataItems.slice(0));\n        this.cdr.markForCheck();\n        this.emitValueChange();\n    };\n    MultiSelectComponent.prototype.removeSingleTag = function (dataItem) {\n        var prop = this.prop(this.valueField, this.valuePrimitive);\n        var index = selectedIndices([dataItem], this.data, this.valueField)[0];\n        if (isNumber(index)) {\n            this.selectionService.unselect(index);\n            this.togglePopup(false);\n        }\n        else {\n            var filter_1 = function (item) { return prop(item) !== prop(dataItem); };\n            this.value = this.value.filter(filter_1);\n            this.selectedDataItems = this.selectedDataItems.filter(filter_1);\n            this.tags = this.tagMapper(this.selectedDataItems.slice(0));\n            this.cdr.markForCheck();\n            this.emitValueChange();\n        }\n    };\n    MultiSelectComponent.prototype.createCustomValueStream = function () {\n        var _this = this;\n        if (this.customValueSubscription) {\n            this.customValueSubscription.unsubscribe();\n        }\n        this.customValueSubscription = this.customValueSubject.pipe(tap(function () {\n            _this.loading = true;\n            _this.disabled = true;\n            _this.cdr.detectChanges();\n        }), this.valueNormalizer, catchError(function () {\n            _this.loading = false;\n            _this.disabled = false;\n            _this.clearFilter();\n            if (_this.autoClose) {\n                _this.togglePopup(false);\n                _this.nextTick(function () {\n                    _this.searchbar.focus();\n                });\n            }\n            _this.createCustomValueStream();\n            return of(null);\n        }))\n            .subscribe(function (normalizedValue) {\n            _this.loading = false;\n            _this.disabled = false;\n            _this.clearFilter();\n            if (isPresent(normalizedValue)) {\n                var newValue_2 = _this.valuePrimitive ? getter(normalizedValue, _this.valueField) : normalizedValue;\n                if (_this.value.indexOf(newValue_2) === -1) {\n                    _this.value = _this.value.concat([newValue_2]);\n                    _this.selectedDataItems = _this.selectedDataItems.concat([normalizedValue]);\n                }\n                else {\n                    var itemIndex = _this.data.indexOf(newValue_2);\n                    var customItem = itemIndex === -1;\n                    if (!customItem && _this.selectionService.isSelected(itemIndex)) {\n                        _this.selectionService.unselect(itemIndex);\n                    }\n                    else {\n                        _this.value.splice(_this.value.indexOf(newValue_2), 1);\n                        _this.selectedDataItems = _this.selectedDataItems.filter(function (item) { return getter(item, _this.valueField) !== newValue_2; });\n                    }\n                }\n                _this.tags = _this.tagMapper(_this.selectedDataItems.slice(0));\n                _this.emitValueChange();\n            }\n            if (_this.autoClose) {\n                _this.togglePopup(false);\n                _this.nextTick(function () {\n                    _this.searchbar.focus();\n                });\n            }\n        });\n    };\n    MultiSelectComponent.prototype.handleItemChange = function (event) {\n        this.change(event);\n        if (this.autoClose) {\n            this.togglePopup(false);\n        }\n        if (isPresent(event.added) && event.added !== -1) {\n            this.clearFilter();\n        }\n    };\n    MultiSelectComponent.prototype.handleEnter = function (event) {\n        var service = this.selectionService;\n        var focusedIndex = this.selectionService.focused;\n        if (this.isOpen) {\n            event.originalEvent.preventDefault();\n        }\n        if (focusedIndex === -1) {\n            if (this.allowCustom && this.text) {\n                this.addCustomValue(this.text);\n            }\n            return; //clear filter & close are done at customValueSubscription due to race conditions\n        }\n        if (service.isSelected(focusedIndex)) {\n            service.unselect(focusedIndex);\n        }\n        else {\n            service.add(focusedIndex);\n        }\n        this.clearFilter();\n        if (this.autoClose) {\n            this.togglePopup(false);\n        }\n    };\n    MultiSelectComponent.prototype.handleClose = function () {\n        this.closePopup();\n        this.searchbar.focus();\n    };\n    MultiSelectComponent.prototype.handleEnd = function () {\n        this.focusedTagIndex = this.tags.length - 1;\n    };\n    MultiSelectComponent.prototype.handleHome = function () {\n        this.focusedTagIndex = 0;\n    };\n    MultiSelectComponent.prototype.handleUp = function (index) {\n        this.selectionService.focused = index;\n    };\n    MultiSelectComponent.prototype.handleBackspace = function () {\n        if (this.focusedTagIndex !== undefined) {\n            this.handleDelete();\n        }\n        else {\n            this.handleRemoveTag(this.tags[this.tags.length - 1]);\n            this.searchbar.focus();\n        }\n    };\n    MultiSelectComponent.prototype.handleDelete = function () {\n        this.handleRemoveTag(this.tags[this.focusedTagIndex]);\n        if (this.focusedTagIndex === this.tags.length) {\n            this.focusedTagIndex = undefined;\n        }\n    };\n    MultiSelectComponent.prototype.handleLeftKey = function () {\n        if (this.direction === 'rtl') {\n            if (this.focusedTagIndex === 0) {\n                this.focusedTagIndex = undefined;\n            }\n            if (this.focusedTagIndex === undefined) {\n                return;\n            }\n        }\n        if (this.focusedTagIndex === undefined || this.focusedTagIndex < 0) {\n            this.focusedTagIndex = this.tags.length - 1;\n        }\n        else if (this.focusedTagIndex !== 0) {\n            this.focusedTagIndex--;\n        }\n    };\n    MultiSelectComponent.prototype.handleDownKey = function (index) {\n        if (this.isOpen) {\n            this.selectionService.focused = index || this.firstFocusableIndex(0);\n        }\n        else {\n            this.openPopup();\n        }\n    };\n    MultiSelectComponent.prototype.handleRightKey = function () {\n        var last = this.tags.length - 1;\n        if (this.direction === 'rtl') {\n            if (this.focusedTagIndex === undefined) {\n                this.focusedTagIndex = 0;\n                return;\n            }\n            if (this.focusedTagIndex === last) {\n                return;\n            }\n        }\n        if (this.focusedTagIndex === last) {\n            this.focusedTagIndex = undefined;\n        }\n        else if (this.focusedTagIndex < last) {\n            this.focusedTagIndex++;\n        }\n    };\n    MultiSelectComponent.prototype.findIndex = function (text, startsWith) {\n        var _this = this;\n        if (startsWith === void 0) { startsWith = 0; }\n        var itemText;\n        text = text.toLowerCase();\n        var index = this.data.slice(startsWith).findIndex(function (item) {\n            itemText = _this.prop(_this.textField, _this.valuePrimitive)(item);\n            itemText = (itemText === undefined) ? \"\" : itemText.toString().toLowerCase();\n            return text && itemText.startsWith(text);\n        });\n        index = (index === -1) ? -1 : index + startsWith;\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            return (index + 1 > this.data.length) ? -1 : this.findIndex(text, index + 1);\n        }\n        else {\n            return index;\n        }\n    };\n    MultiSelectComponent.prototype.searchTextAndFocus = function (text) {\n        var index = this.allowCustom ? -1 : this.findIndex(text);\n        this.selectionService.focused = index;\n    };\n    MultiSelectComponent.prototype.closePopup = function () {\n        this.togglePopup(false);\n        this.focusedTagIndex = undefined;\n    };\n    MultiSelectComponent.prototype.openPopup = function () {\n        this.togglePopup(true);\n        this.focusedTagIndex = undefined;\n    };\n    MultiSelectComponent.prototype.togglePopup = function (open) {\n        var isDisabled = this.disabled || this.readonly;\n        var sameState = this.isOpen === open;\n        if (isDisabled || sameState) {\n            return;\n        }\n        var isDefaultPrevented = this.triggerPopupEvents(open);\n        if (!isDefaultPrevented) {\n            this._toggle(open);\n        }\n    };\n    MultiSelectComponent.prototype.triggerPopupEvents = function (open) {\n        var eventArgs = new PreventableEvent();\n        if (open) {\n            this.open.emit(eventArgs);\n        }\n        else {\n            this.close.emit(eventArgs);\n        }\n        return eventArgs.isDefaultPrevented();\n    };\n    MultiSelectComponent.prototype._toggle = function (open) {\n        this._open = (open === undefined) ? !this._open : open;\n        this.destroyPopup();\n        if (this._open) {\n            this.createPopup();\n        }\n    };\n    MultiSelectComponent.prototype.destroyPopup = function () {\n        if (this.popupRef) {\n            this.popupRef.popupElement\n                .removeEventListener('mousedown', this.popupMouseDownHandler);\n            this.popupRef.close();\n            this.popupRef = null;\n        }\n    };\n    MultiSelectComponent.prototype.createPopup = function () {\n        var _this = this;\n        var horizontalAlign = this.direction === \"rtl\" ? \"right\" : \"left\";\n        var anchorPosition = { horizontal: horizontalAlign, vertical: \"bottom\" };\n        var popupPosition = { horizontal: horizontalAlign, vertical: \"top\" };\n        this.popupRef = this.popupService.open({\n            anchor: this.wrapper,\n            anchorAlign: anchorPosition,\n            animate: this.popupSettings.animate,\n            appendTo: this.appendTo,\n            content: this.popupTemplate,\n            popupAlign: popupPosition,\n            popupClass: this.listContainerClasses,\n            positionMode: 'absolute'\n        });\n        var popupWrapper = this.popupRef.popupElement;\n        var _a = this.width, min = _a.min, max = _a.max;\n        popupWrapper.addEventListener('mousedown', this.popupMouseDownHandler);\n        popupWrapper.style.minWidth = min;\n        popupWrapper.style.width = max;\n        popupWrapper.style.height = this.height;\n        popupWrapper.setAttribute(\"dir\", this.direction);\n        this.popupRef.popupAnchorViewportLeave.subscribe(function () {\n            _this.togglePopup(false);\n        });\n    };\n    MultiSelectComponent.prototype.emitValueChange = function () {\n        this.onChangeCallback(this.value);\n        this.valueChange.emit(this.value);\n    };\n    MultiSelectComponent.prototype.getSelectedDataItems = function (valueChanges) {\n        var _this = this;\n        if (!this.data.length && this.valuePrimitive && this.valueField) {\n            return [];\n        }\n        var isBoundToComplexData = isObjectArray(this.data);\n        var prop = this.prop(this.valueField, this.valuePrimitive);\n        var currentValue;\n        var index;\n        var selectedDataItems = [];\n        valueChanges.forEachItem(function (value) {\n            currentValue = value.currentValue;\n            index = _this.data.findIndex(function (item) {\n                return prop(item) === prop(currentValue);\n            });\n            if (index !== -1) {\n                selectedDataItems.push(_this.data[index]);\n            }\n            else if (isPresent(value) && !(isBoundToComplexData && _this.valuePrimitive)) {\n                selectedDataItems.push(currentValue);\n            }\n        });\n        return selectedDataItems;\n    };\n    MultiSelectComponent.prototype.firstFocusableIndex = function (index) {\n        var maxIndex = this.data.length - 1;\n        if (this.disabledItemsService.isIndexDisabled(index)) {\n            return (index < maxIndex) ? this.firstFocusableIndex(index + 1) : undefined;\n        }\n        else {\n            return index;\n        }\n    };\n    MultiSelectComponent.prototype.nextTick = function (f) {\n        var _this = this;\n        this._zone.runOutsideAngular(function () {\n            // Use `setTimeout` instead of a resolved promise\n            // because the latter does not wait long enough.\n            setTimeout(function () { return _this._zone.run(f); });\n        });\n    };\n    MultiSelectComponent.prototype.setMessages = function () {\n        var _this = this;\n        this._zone.runOutsideAngular(function () {\n            clearTimeout(_this.messagesTimeout);\n            _this.messagesTimeout = setTimeout(function () {\n                _this.noDataText = _this.localization.get('noDataText');\n                _this.cdr.detectChanges();\n            });\n        });\n    };\n    MultiSelectComponent.decorators = [\n        { type: Component, args: [{\n                    exportAs: 'kendoMultiSelect',\n                    providers: [\n                        MULTISELECT_VALUE_ACCESSOR,\n                        SelectionService,\n                        NavigationService,\n                        DisabledItemsService,\n                        LocalizationService,\n                        {\n                            provide: L10N_PREFIX,\n                            useValue: 'kendo.multiselect'\n                        },\n                        {\n                            provide: FilterableDropDownComponentBase, useExisting: forwardRef(function () { return MultiSelectComponent; })\n                        }\n                    ],\n                    selector: 'kendo-multiselect',\n                    template: \"\\n        <ng-container kendoMultiSelectLocalizedMessages\\n            i18n-noDataText=\\\"kendo.multiselect.noDataText|The text displayed in the popup when there are no items\\\"\\n            noDataText=\\\"NO DATA FOUND\\\"\\n        >\\n        </ng-container>\\n        <div class=\\\"k-multiselect-wrap k-floatwrap\\\"\\n            #wrapper\\n            (mousedown)=\\\"wrapperMousedown($event)\\\"\\n        >\\n            <kendo-taglist\\n                [id]=\\\"tagListId\\\"\\n                [tags]=\\\"tags\\\"\\n                [textField]=\\\"textField\\\"\\n                [valueField]=\\\"valueField\\\"\\n                [focused]=\\\"focusedTagIndex\\\"\\n                [disabled]=\\\"disabled\\\"\\n                [template]=\\\"tagTemplate\\\"\\n                [groupTemplate]=\\\"groupTagTemplate\\\"\\n                [tagPrefix]=\\\"tagPrefix\\\"\\n                (removeTag)=\\\"handleRemoveTag($event)\\\"\\n            >\\n            </kendo-taglist>\\n            <kendo-searchbar\\n                #searchbar\\n                [id]=\\\"focusableId\\\"\\n                [role]=\\\"'listbox'\\\"\\n                [listId]=\\\"listBoxId\\\"\\n                [tagListId]=\\\"tagListId\\\"\\n                [activeDescendant]=\\\"activeDescendant\\\"\\n                [noDataLabel]=\\\"noDataLabel\\\"\\n                [userInput]=\\\"text\\\"\\n                [disabled]=\\\"disabled\\\"\\n                [readonly]=\\\"readonly\\\"\\n                [tabIndex]=\\\"tabIndex\\\"\\n                [popupOpen]=\\\"isOpen\\\"\\n                [placeholder]=\\\"placeholder\\\"\\n                (onNavigate)=\\\"handleNavigate($event)\\\"\\n                (valueChange)=\\\"handleFilter($event)\\\"\\n                (onBlur)=\\\"onSearchBarBlur()\\\"\\n                (onFocus)=\\\"onSearchBarFocus()\\\"\\n            >\\n            </kendo-searchbar>\\n            <span *ngIf=\\\"!loading && !readonly && clearButton && (tags?.length || text?.length)\\\" class=\\\"k-icon k-clear-value k-i-close\\\" title=\\\"clear\\\" role=\\\"button\\\" tabindex=\\\"-1\\\" (mousedown)=\\\"clearAll($event)\\\"></span>\\n            <span *ngIf=\\\"loading\\\" class=\\\"k-icon k-i-loading\\\"></span>\\n        </div>\\n        <ng-template #popupTemplate>\\n            <!--header template-->\\n            <ng-template *ngIf=\\\"headerTemplate\\\"\\n                [templateContext]=\\\"{\\n                    templateRef: headerTemplate.templateRef\\n                }\\\">\\n            </ng-template>\\n            <!--custom item template-->\\n            <div class=\\\"k-list\\\" *ngIf=\\\"allowCustom && text\\\">\\n                <div class=\\\"k-item k-custom-item\\\" kendoDropDownsSelectable [multipleSelection]=\\\"true\\\" [index]=\\\"-1\\\">\\n                    <ng-template *ngIf=\\\"customItemTemplate;else default_custom_item_template\\\"\\n                        [templateContext]=\\\"{\\n                            templateRef: customItemTemplate.templateRef,\\n                            $implicit: text\\n                        }\\\">\\n                    </ng-template>\\n                    <ng-template #default_custom_item_template>{{ text }}</ng-template>\\n                    <span class=\\\"k-icon k-i-plus\\\" style=\\\"float: right\\\"></span>\\n                </div>\\n            </div>\\n            <!--list-->\\n            <kendo-list\\n                [id]=\\\"listBoxId\\\"\\n                [optionPrefix]=\\\"optionPrefix\\\"\\n                [data]=\\\"data\\\"\\n                [textField]=\\\"textField\\\"\\n                [valueField]=\\\"valueField\\\"\\n                [height]=\\\"listHeight\\\"\\n                [template]=\\\"template\\\"\\n                [show]=\\\"isOpen\\\"\\n                [multipleSelection]=\\\"true\\\"\\n                >\\n            </kendo-list>\\n            <!--no data template-->\\n            <div class=\\\"k-nodata\\\" *ngIf=\\\"data.length === 0\\\">\\n                <ng-template [ngIf]=\\\"noDataTemplate\\\"\\n                    [templateContext]=\\\"{\\n                        templateRef: noDataTemplate ? noDataTemplate.templateRef : undefined\\n                    }\\\">\\n                </ng-template>\\n                <ng-template [ngIf]=\\\"!noDataTemplate\\\">\\n                    <div>{{ noDataText }}</div>\\n                </ng-template>\\n            </div>\\n            <!--footer template-->\\n            <ng-template *ngIf=\\\"footerTemplate\\\"\\n                [templateContext]=\\\"{\\n                    templateRef: footerTemplate.templateRef\\n                }\\\">\\n            </ng-template>\\n        </ng-template>\\n        <ng-template [ngIf]=\\\"isOpen\\\">\\n            <kendo-resize-sensor (resize)=\\\"onResize()\\\"></kendo-resize-sensor>\\n        </ng-template>\\n        <ng-container #container></ng-container>\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    MultiSelectComponent.ctorParameters = function () { return [\n        { type: LocalizationService, },\n        { type: PopupService, },\n        { type: SelectionService, },\n        { type: NavigationService, },\n        { type: DisabledItemsService, },\n        { type: ChangeDetectorRef, },\n        { type: KeyValueDiffers, },\n        { type: Renderer2, },\n        { type: ElementRef, },\n        { type: NgZone, },\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [TOUCH_ENABLED,] },] },\n    ]; };\n    MultiSelectComponent.propDecorators = {\n        'focusableId': [{ type: Input },],\n        'autoClose': [{ type: Input },],\n        'loading': [{ type: Input },],\n        'data': [{ type: Input },],\n        'value': [{ type: Input },],\n        'valueField': [{ type: Input },],\n        'textField': [{ type: Input },],\n        'tabindex': [{ type: Input },],\n        'tabIndex': [{ type: Input, args: [\"tabIndex\",] },],\n        'placeholder': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'itemDisabled': [{ type: Input },],\n        'readonly': [{ type: Input },],\n        'filterable': [{ type: Input },],\n        'popupSettings': [{ type: Input },],\n        'listHeight': [{ type: Input },],\n        'valuePrimitive': [{ type: Input },],\n        'clearButton': [{ type: Input },],\n        'tagMapper': [{ type: Input },],\n        'allowCustom': [{ type: Input },],\n        'valueNormalizer': [{ type: Input },],\n        'filterChange': [{ type: Output },],\n        'valueChange': [{ type: Output },],\n        'open': [{ type: Output },],\n        'close': [{ type: Output },],\n        'onFocus': [{ type: Output, args: ['focus',] },],\n        'onBlur': [{ type: Output, args: ['blur',] },],\n        'removeTag': [{ type: Output },],\n        'container': [{ type: ViewChild, args: ['container', { read: ViewContainerRef },] },],\n        'searchbar': [{ type: ViewChild, args: [SearchBarComponent,] },],\n        'popupTemplate': [{ type: ViewChild, args: ['popupTemplate',] },],\n        'wrapper': [{ type: ViewChild, args: ['wrapper',] },],\n        'template': [{ type: ContentChild, args: [ItemTemplateDirective,] },],\n        'customItemTemplate': [{ type: ContentChild, args: [CustomItemTemplateDirective,] },],\n        'headerTemplate': [{ type: ContentChild, args: [HeaderTemplateDirective,] },],\n        'footerTemplate': [{ type: ContentChild, args: [FooterTemplateDirective,] },],\n        'tagTemplate': [{ type: ContentChild, args: [TagTemplateDirective,] },],\n        'groupTagTemplate': [{ type: ContentChild, args: [GroupTagTemplateDirective,] },],\n        'noDataTemplate': [{ type: ContentChild, args: [NoDataTemplateDirective,] },],\n        'widgetClasses': [{ type: HostBinding, args: ['class.k-widget',] }, { type: HostBinding, args: ['class.k-multiselect',] }, { type: HostBinding, args: ['class.k-header',] },],\n        'dir': [{ type: HostBinding, args: ['attr.dir',] },],\n        'focusedClass': [{ type: HostBinding, args: ['class.k-state-focused',] },],\n        'disabledClass': [{ type: HostBinding, args: ['class.k-state-disabled',] },],\n    };\n    return MultiSelectComponent;\n}());\nexport { MultiSelectComponent };\n","/* tslint:disable:max-line-length */\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\n/**\n * @hidden\n */\nvar TagListComponent = /** @class */ (function () {\n    function TagListComponent() {\n        this.removeTag = new EventEmitter();\n    }\n    TagListComponent.prototype.tagAriaLabel = function (tag) {\n        return this.tagProp(tag, this.textField) + \" selected\";\n    };\n    TagListComponent.prototype.tagProp = function (tag, prop) {\n        return tag[prop] ? tag[prop] : tag;\n    };\n    TagListComponent.prototype.deleteTag = function (event, tag) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        if (!this.disabled && event.which === 1) {\n            this.removeTag.emit(tag);\n        }\n    };\n    TagListComponent.prototype.itemId = function (tag) {\n        if (tag) {\n            return this.tagPrefix + \"-\" + this.tagProp(tag, this.valueField);\n        }\n    };\n    TagListComponent.prototype.isGroupTag = function (tag) {\n        return tag instanceof Array;\n    };\n    TagListComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'kendo-taglist',\n                    template: \"\\n        <ul [attr.id]=\\\"id\\\" role=\\\"listbox\\\" class=\\\"k-reset\\\">\\n            <li role=\\\"option\\\" *ngFor=\\\"let tag of tags; let i = index;\\\"\\n                [ngClass]=\\\"{'k-button': true, 'k-state-focused': i === focused }\\\"\\n                [attr.id]=\\\"itemId(tag)\\\" [attr.aria-label]=\\\"tagAriaLabel(tag)\\\"\\n            >\\n                <ng-template *ngIf=\\\"isGroupTag(tag); then groupTag else singleTag\\\"></ng-template>\\n                    <ng-template #groupTag>\\n                        <span>\\n                            <ng-template *ngIf=\\\"groupTemplate\\\"\\n                                [templateContext]=\\\"{\\n                                templateRef: groupTemplate.templateRef,\\n                                $implicit: tag\\n                            }\\\">\\n                            </ng-template>\\n                            <ng-template [ngIf]=\\\"!groupTemplate\\\">{{ tag.length }} {{ tag.length === 1 ? 'item' : 'items' }} selected</ng-template>\\n                        </span>\\n                    </ng-template>\\n                    <ng-template #singleTag>\\n                        <span>\\n                            <ng-template *ngIf=\\\"template\\\"\\n                                [templateContext]=\\\"{\\n                                templateRef: template.templateRef,\\n                                $implicit: tag\\n                            }\\\">\\n                            </ng-template>\\n                            <ng-template [ngIf]=\\\"!template\\\">{{ tagProp(tag, textField) }}</ng-template>\\n                        </span>\\n                    </ng-template>\\n\\n                <span aria-label=\\\"delete\\\" [attr.aria-hidden]=\\\"i !== focused\\\" class=\\\"k-select\\\">\\n                    <span class=\\\"k-icon k-i-close\\\" (mousedown)=\\\"deleteTag($event, tag)\\\">\\n                    </span>\\n                </span>\\n            </li>\\n        </ul>\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    TagListComponent.ctorParameters = function () { return []; };\n    TagListComponent.propDecorators = {\n        'tags': [{ type: Input },],\n        'textField': [{ type: Input },],\n        'valueField': [{ type: Input },],\n        'focused': [{ type: Input },],\n        'template': [{ type: Input },],\n        'groupTemplate': [{ type: Input },],\n        'disabled': [{ type: Input },],\n        'tagPrefix': [{ type: Input },],\n        'id': [{ type: Input },],\n        'removeTag': [{ type: Output },],\n    };\n    return TagListComponent;\n}());\nexport { TagListComponent };\n","import { Directive, ViewContainerRef, Input } from '@angular/core';\n/**\n * @hidden\n */\nvar TemplateContextDirective = /** @class */ (function () {\n    function TemplateContextDirective(viewContainerRef) {\n        this.viewContainerRef = viewContainerRef;\n    }\n    Object.defineProperty(TemplateContextDirective.prototype, \"templateContext\", {\n        set: function (context) {\n            if (this.insertedViewRef) {\n                this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef));\n                this.insertedViewRef = undefined;\n            }\n            if (context.templateRef) {\n                this.insertedViewRef = this.viewContainerRef.createEmbeddedView(context.templateRef, context);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TemplateContextDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[templateContext]' // tslint:disable-line\n                },] },\n    ];\n    /** @nocollapse */\n    TemplateContextDirective.ctorParameters = function () { return [\n        { type: ViewContainerRef, },\n    ]; };\n    TemplateContextDirective.propDecorators = {\n        'templateContext': [{ type: Input },],\n    };\n    return TemplateContextDirective;\n}());\nexport { TemplateContextDirective };\n","import { Directive, Input, HostBinding, HostListener } from '@angular/core';\nimport { SelectionService } from './selection.service';\n/**\n * @hidden\n */\nvar SelectableDirective = /** @class */ (function () {\n    function SelectableDirective(selectionService) {\n        this.multipleSelection = false;\n        this.selectionService = selectionService;\n    }\n    Object.defineProperty(SelectableDirective.prototype, \"focusedClassName\", {\n        get: function () {\n            return this.selectionService.isFocused(this.index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectableDirective.prototype, \"selectedClassName\", {\n        get: function () {\n            return this.selectionService.isSelected(this.index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectableDirective.prototype, \"ariaSelected\", {\n        get: function () {\n            return this.selectionService.isSelected(this.index) ? true : undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectableDirective.prototype.onClick = function (event) {\n        event.stopPropagation();\n        if (this.multipleSelection) {\n            if (this.selectionService.isSelected(this.index)) {\n                this.selectionService.unselect(this.index);\n            }\n            else {\n                this.selectionService.add(this.index);\n            }\n        }\n        else {\n            this.selectionService.change(this.index);\n        }\n    };\n    SelectableDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownsSelectable]'\n                },] },\n    ];\n    /** @nocollapse */\n    SelectableDirective.ctorParameters = function () { return [\n        { type: SelectionService, },\n    ]; };\n    SelectableDirective.propDecorators = {\n        'index': [{ type: Input },],\n        'multipleSelection': [{ type: Input },],\n        'focusedClassName': [{ type: HostBinding, args: ['class.k-state-focused',] },],\n        'selectedClassName': [{ type: HostBinding, args: ['class.k-state-selected',] },],\n        'ariaSelected': [{ type: HostBinding, args: ['attr.aria-selected',] },],\n        'onClick': [{ type: HostListener, args: ['click', ['$event'],] },],\n    };\n    return SelectableDirective;\n}());\nexport { SelectableDirective };\n","import { Directive, Input } from '@angular/core';\nimport { isChanged } from './util';\nimport { MultiSelectComponent } from './multiselect.component';\n/**\n * A directive which configures the MultiSelect to show one single summary tag for all selected data items.\n * When a number is provided, the summary tag is displayed after the given amount of data items are selected\n * ([more information and examples]({% slug summarytagmode_multiselect %})).\n *\n * @example\n * ```ts-no-run\n * <kendo-multiselect kendoMultiSelectSummaryTag [data]=\"data\"></kendo-multiselect>\n * ```\n *\n * @example\n * ```ts-no-run\n * <kendo-multiselect [kendoMultiSelectSummaryTag]=\"2\" [data]=\"data\"></kendo-multiselect>\n * ```\n */\nvar SummaryTagDirective = /** @class */ (function () {\n    function SummaryTagDirective(multiSelectComponent) {\n        this.multiSelectComponent = multiSelectComponent;\n        /**\n         * A numeric value that indicates the number of selected data items after which the summary tag will appear.\n         */\n        this.showAfter = 0; // tslint:disable-line:no-input-rename\n        this.createTagMapper();\n    }\n    SummaryTagDirective.prototype.ngOnChanges = function (changes) {\n        if (isChanged(\"showAfter\", changes)) {\n            this.createTagMapper();\n            this.multiSelectComponent.onTagMapperChange();\n        }\n    };\n    SummaryTagDirective.prototype.createTagMapper = function () {\n        var _this = this;\n        this.multiSelectComponent.tagMapper = function (tags) {\n            if (tags.length > _this.showAfter) {\n                var result = void 0;\n                result = tags.slice(0, _this.showAfter);\n                result.push(tags.slice(_this.showAfter, tags.length));\n                return result;\n            }\n            else {\n                return tags;\n            }\n        };\n    };\n    SummaryTagDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoMultiSelectSummaryTag]'\n                },] },\n    ];\n    /** @nocollapse */\n    SummaryTagDirective.ctorParameters = function () { return [\n        { type: MultiSelectComponent, },\n    ]; };\n    SummaryTagDirective.propDecorators = {\n        'showAfter': [{ type: Input, args: ['kendoMultiSelectSummaryTag',] },],\n    };\n    return SummaryTagDirective;\n}());\nexport { SummaryTagDirective };\n","// tslint:disable:no-input-rename\n// tslint:disable:member-ordering\nimport { Directive, Input } from '@angular/core';\nimport { FilterableDropDownComponentBase } from './filterable-base.component';\nimport { getter } from './util';\n/**\n * Implements an event handler for the `filterChange` event of a DropDowns component\n * which performs simple data filtering.\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <kendo-autocomplete\n *      [data]=\"data\"\n *      kendoDropDownFilter\n *      placeholder=\"e.g. Andorra\">\n *  </kendo-autocomplete>\n * `\n * })\n * class AppComponent {\n *     public data: Array<string> = [\"Albania\", \"Andorra\", \"Armenia\", \"Austria\", \"Azerbaijan\"];\n * }\n * ```\n */\nvar FilterDirective = /** @class */ (function () {\n    function FilterDirective(component) {\n        this.component = component;\n    }\n    FilterDirective.prototype.ngOnChanges = function () {\n        this.data = this.data || [];\n        this.filterSettings = this.filterSettings || {\n            caseSensitive: false,\n            operator: 'startsWith'\n        };\n    };\n    FilterDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        this.component.filterable = true;\n        this.filterChangeSubscription = this.component.filterChange\n            .subscribe(function (query) { return _this.component.data = _this.getFilteredData(query); });\n    };\n    FilterDirective.prototype.ngOnDestroy = function () {\n        this.filterChangeSubscription.unsubscribe();\n    };\n    FilterDirective.prototype.getFilteredData = function (query) {\n        var _this = this;\n        var field = this.component.textField || this.component.valueField;\n        return this.data.filter(function (item) { return _this.checkItem(getter(item, field, _this.isPrimitive()), query); });\n    };\n    FilterDirective.prototype.checkItem = function (target, query) {\n        if (target === void 0) { target = ''; }\n        if (query === void 0) { query = ''; }\n        target = this.filterSettings.caseSensitive ? target : target.toLowerCase();\n        query = this.filterSettings.caseSensitive ? query : query.toLowerCase();\n        return this.filterSettings.operator === 'contains' ? target.indexOf(query) !== -1 : target.indexOf(query) === 0;\n    };\n    FilterDirective.prototype.isPrimitive = function () {\n        return !(this.component.textField || this.component.valueField);\n    };\n    FilterDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[kendoDropDownFilter]'\n                },] },\n    ];\n    /** @nocollapse */\n    FilterDirective.ctorParameters = function () { return [\n        { type: FilterableDropDownComponentBase, },\n    ]; };\n    FilterDirective.propDecorators = {\n        'data': [{ type: Input },],\n        'filterSettings': [{ type: Input, args: ['kendoDropDownFilter',] },],\n    };\n    return FilterDirective;\n}());\nexport { FilterDirective };\n","import { Directive, ElementRef } from '@angular/core';\n/**\n * @hidden\n */\nvar ListItemDirective = /** @class */ (function () {\n    function ListItemDirective(element) {\n        this.element = element;\n    }\n    ListItemDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: 'li' // tslint:disable-line\n                },] },\n    ];\n    /** @nocollapse */\n    ListItemDirective.ctorParameters = function () { return [\n        { type: ElementRef, },\n    ]; };\n    return ListItemDirective;\n}());\nexport { ListItemDirective };\n","import { Component, Input, Output, EventEmitter, ViewChildren, ViewChild } from '@angular/core';\nimport { ListItemDirective } from './list-item.directive';\nimport { isPresent, getter } from './util';\nimport { SelectionService } from './selection.service';\nimport { map } from 'rxjs/operators/map';\nimport { merge } from 'rxjs/operators/merge';\nimport { DisabledItemsService } from './disabled-items.service';\n/**\n * @hidden\n */\nvar ListComponent = /** @class */ (function () {\n    /* tslint:disable:member-ordering */\n    function ListComponent(selectionService, disabledItemsService) {\n        this.selectionService = selectionService;\n        this.disabledItemsService = disabledItemsService;\n        this.data = [];\n        this.selected = [];\n        this.focused = -1;\n        this.multipleSelection = false;\n        this.onClick = new EventEmitter();\n        this.scrollSubscription = this.selectionService\n            .onSelect.pipe(map(function (args) { return args.indices[0]; }), merge(this.selectionService.onFocus))\n            .subscribe(this.scrollToItem.bind(this));\n    }\n    ListComponent.prototype.ngAfterViewInit = function () {\n        if (this.show === true) {\n            this.scrollToItem(this.selectionService.focused);\n        }\n    };\n    ListComponent.prototype.ngOnDestroy = function () {\n        this.scrollSubscription.unsubscribe();\n    };\n    ListComponent.prototype.setContainerClasses = function () {\n        return {\n            'k-list-scroller': true\n        };\n    };\n    ListComponent.prototype.getHeight = function () {\n        return this.height + \"px\";\n    };\n    ListComponent.prototype.getText = function (dataItem) {\n        return getter(dataItem, this.textField);\n    };\n    ListComponent.prototype.getValue = function (dataItem) {\n        return getter(dataItem, this.valueField);\n    };\n    ListComponent.prototype.isDisabled = function (index) {\n        return this.disabledItemsService.isIndexDisabled(index);\n    };\n    ListComponent.prototype.scrollToItem = function (index) {\n        var items = this.items.toArray();\n        if (isPresent(items[index]) && index !== -1) {\n            this.scroll(items[index].element);\n        }\n    };\n    ListComponent.prototype.scroll = function (item) {\n        if (!item) {\n            return;\n        }\n        var nativeElement = item.nativeElement;\n        var content = this.content.nativeElement, itemOffsetTop = nativeElement.offsetTop, itemOffsetHeight = nativeElement.offsetHeight, contentScrollTop = content.scrollTop, contentOffsetHeight = content.clientHeight, bottomDistance = itemOffsetTop + itemOffsetHeight;\n        if (contentScrollTop > itemOffsetTop) {\n            contentScrollTop = itemOffsetTop;\n        }\n        else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n            contentScrollTop = (bottomDistance - contentOffsetHeight);\n        }\n        content.scrollTop = contentScrollTop;\n    };\n    ListComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'kendo-list',\n                    template: \"\\n    <div #content [ngClass]=\\\"setContainerClasses()\\\" [style.maxHeight]=\\\"getHeight()\\\" unselectable=\\\"on\\\">\\n    <ul role=\\\"listbox\\\" [attr.id]=\\\"id\\\" [attr.aria-hidden]=\\\"!show\\\" [ngClass]=\\\"{ 'k-list': true, 'k-reset': true }\\\">\\n        <li role=\\\"option\\\"\\n            *ngFor=\\\"let dataItem of data; let index = index\\\"\\n            kendoDropDownsSelectable\\n            [index]=\\\"index\\\"\\n            [multipleSelection]=\\\"multipleSelection\\\"\\n            [attr.id]=\\\"optionPrefix + '-' + getValue(dataItem)\\\"\\n            [attr.tabIndex]=\\\"-1\\\"\\n            [ngClass]=\\\"{ 'k-item': true, 'k-state-disabled': isDisabled(index) }\\\">\\n            <ng-template *ngIf=\\\"template\\\"\\n                [templateContext]=\\\"{\\n                    templateRef: template.templateRef,\\n                    $implicit: dataItem\\n                }\\\">\\n            </ng-template>\\n            <ng-template [ngIf]=\\\"!template\\\">{{ getText(dataItem) }}</ng-template>\\n        </li>\\n    </ul>\\n    </div>\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    ListComponent.ctorParameters = function () { return [\n        { type: SelectionService, },\n        { type: DisabledItemsService, },\n    ]; };\n    ListComponent.propDecorators = {\n        'data': [{ type: Input },],\n        'selected': [{ type: Input },],\n        'focused': [{ type: Input },],\n        'textField': [{ type: Input },],\n        'valueField': [{ type: Input },],\n        'height': [{ type: Input },],\n        'template': [{ type: Input },],\n        'show': [{ type: Input },],\n        'id': [{ type: Input },],\n        'optionPrefix': [{ type: Input },],\n        'multipleSelection': [{ type: Input },],\n        'onClick': [{ type: Output },],\n        'items': [{ type: ViewChildren, args: [ListItemDirective,] },],\n        'content': [{ type: ViewChild, args: ['content',] },],\n    };\n    return ListComponent;\n}());\nexport { ListComponent };\n","import { Injectable, NgZone } from '@angular/core';\n/**\n * @hidden\n */\nvar ResizeBatchService = /** @class */ (function () {\n    function ResizeBatchService(ngZone) {\n        this.ngZone = ngZone;\n        this.scheduled = [];\n    }\n    ResizeBatchService.prototype.schedule = function (instance, method) {\n        var _this = this;\n        this.scheduled.push({ instance: instance, method: method });\n        this.ngZone.runOutsideAngular(function () {\n            clearTimeout(_this.timeout);\n            _this.timeout = setTimeout(function () {\n                _this.scheduled.forEach(function (item) {\n                    item.method.call(item.instance);\n                });\n                _this.scheduled = [];\n            }, 0);\n        });\n    };\n    ResizeBatchService.prototype.isScheduled = function (instance) {\n        return Boolean(this.scheduled.find(function (item) { return item.instance === instance; }));\n    };\n    ResizeBatchService.prototype.cancel = function (instance) {\n        var scheduled = this.scheduled;\n        var count = scheduled.length;\n        for (var idx = 0; idx < count; idx++) {\n            if (scheduled[idx].instance === instance) {\n                scheduled.splice(idx, 1);\n                if (!scheduled.length) {\n                    clearTimeout(this.timeout);\n                }\n                return;\n            }\n        }\n    };\n    ResizeBatchService.prototype.ngOnDestroy = function () {\n        clearTimeout(this.timeout);\n    };\n    ResizeBatchService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    ResizeBatchService.ctorParameters = function () { return [\n        { type: NgZone, },\n    ]; };\n    return ResizeBatchService;\n}());\nexport { ResizeBatchService };\n","import { Component, ElementRef, EventEmitter, Input, Output, ViewChild, NgZone, Renderer2 } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { auditTime } from 'rxjs/operators/auditTime';\nimport { ResizeBatchService } from './resize-batch.service';\n/**\n * Emit up to 10 resize events per second by default.\n * Chosen as a compromise between responsiveness and performance.\n */\nvar DEFAULT_RATE_LIMIT = 10;\nvar computedProp = function (elem, prop) {\n    return getComputedStyle(elem, null).getPropertyValue(prop);\n};\nvar WRAP_STYLE = 'position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;' +\n    'overflow: hidden; visibility: hidden;';\nvar EXPAND_CHILD_STYLE = 'position: absolute; left: 0; top: 0; transition: 0s;';\nvar SHRINK_CHILD_STYLE = EXPAND_CHILD_STYLE + 'width: 200%; height: 200%;';\n/**\n * Resize Sensor Component\n *\n * Triggers a \"resize\" event whenever the parent DOM element size changes.\n */\nvar ResizeSensorComponent = /** @class */ (function () {\n    function ResizeSensorComponent(resizeBatchService, element, zone, renderer) {\n        this.resizeBatchService = resizeBatchService;\n        this.element = element;\n        this.zone = zone;\n        this.renderer = renderer;\n        /**\n         * The maximum number of resize events to emit per second.\n         *\n         * Defaults to 10.\n         */\n        this.rateLimit = DEFAULT_RATE_LIMIT;\n        /**\n         * Fires when the parent DOM element has been resized.\n         */\n        this.resize = new EventEmitter();\n        this.source = new Subject();\n        this.state = 0 /* Initial */;\n        this.acceptedSize = false;\n    }\n    ResizeSensorComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.zone.runOutsideAngular(function () {\n            var scrollHandler = _this.scroll.bind(_this);\n            var detachExpand = _this.renderer.listen(_this.expand.nativeElement, 'scroll', scrollHandler);\n            var detachShrink = _this.renderer.listen(_this.shrink.nativeElement, 'scroll', scrollHandler);\n            _this.detachScrollHandlers = function () {\n                detachExpand();\n                detachShrink();\n            };\n        });\n    };\n    ResizeSensorComponent.prototype.ngAfterViewChecked = function () {\n        if (typeof document === 'undefined') {\n            return;\n        }\n        if (this.state === 2 /* Initialized */) {\n            if (!this.resizeBatchService.isScheduled(this)) {\n                this.resizeBatchService.schedule(this, this.scroll);\n            }\n            return;\n        }\n        if (this.state === 0 /* Initial */) {\n            this.state = 1 /* Initializing */;\n            this.resizeBatchService.schedule(this, this.init);\n        }\n    };\n    ResizeSensorComponent.prototype.ngOnDestroy = function () {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n        if (this.detachScrollHandlers) {\n            this.detachScrollHandlers();\n        }\n        this.resizeBatchService.cancel(this);\n    };\n    /**\n     * Sets the passed size or the element size as current.\n     */\n    ResizeSensorComponent.prototype.acceptSize = function (size) {\n        if (size === void 0) { size = this.measure(); }\n        this.lastWidth = size.width;\n        this.lastHeight = size.height;\n        this.acceptedSize = true;\n    };\n    /**\n     * @hidden\n     */\n    ResizeSensorComponent.prototype.scroll = function (_event) {\n        var _this = this;\n        if (!this.parentElement) {\n            return;\n        }\n        var _a = this.measure(), width = _a.width, height = _a.height;\n        var sameSize = width === this.lastWidth && height === this.lastHeight;\n        if (sameSize) {\n            return;\n        }\n        this.lastWidth = width;\n        this.lastHeight = height;\n        this.acceptedSize = false;\n        this.zone.runOutsideAngular(function () {\n            _this.source.next();\n        });\n        this.reset();\n    };\n    ResizeSensorComponent.prototype.init = function () {\n        var _this = this;\n        var throttleTime = 1000 / (this.rateLimit || DEFAULT_RATE_LIMIT);\n        this.subscription = this.source.asObservable()\n            .pipe(auditTime(throttleTime))\n            .subscribe(function () {\n            if (!_this.acceptedSize) {\n                _this.resize.emit();\n            }\n        });\n        this.parentElement = this.element.nativeElement.parentElement;\n        if (computedProp(this.parentElement, 'position') === 'static') {\n            this.parentElement.style.position = 'relative';\n        }\n        this.reset();\n        this.lastWidth = this.parentElement.offsetWidth;\n        this.lastHeight = this.parentElement.offsetHeight;\n        this.state = 2 /* Initialized */;\n    };\n    ResizeSensorComponent.prototype.reset = function () {\n        var expandChild = this.expandChild.nativeElement;\n        expandChild.style.width = 100000 + 'px';\n        expandChild.style.height = 100000 + 'px';\n        var expand = this.expand.nativeElement;\n        expand.scrollLeft = 100000;\n        expand.scrollTop = 100000;\n        var shrink = this.shrink.nativeElement;\n        shrink.scrollLeft = 100000;\n        shrink.scrollTop = 100000;\n    };\n    ResizeSensorComponent.prototype.measure = function () {\n        var width = 0;\n        var height = 0;\n        if (this.parentElement) {\n            height = this.parentElement.offsetHeight;\n            width = this.parentElement.offsetWidth;\n        }\n        return { height: height, width: width };\n    };\n    ResizeSensorComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'kendo-resize-sensor',\n                    styles: [':host { ' + WRAP_STYLE + ' }'],\n                    template: '<div #expand style=\"' + WRAP_STYLE + '\">' +\n                        '  <div #expandChild style=\"' + EXPAND_CHILD_STYLE + '\"></div>' +\n                        '</div>' +\n                        '<div #shrink style=\"' + WRAP_STYLE + '\">' +\n                        '  <div style=\"' + SHRINK_CHILD_STYLE + '\"></div>' +\n                        '</div>'\n                },] },\n    ];\n    /** @nocollapse */\n    ResizeSensorComponent.ctorParameters = function () { return [\n        { type: ResizeBatchService, },\n        { type: ElementRef, },\n        { type: NgZone, },\n        { type: Renderer2, },\n    ]; };\n    ResizeSensorComponent.propDecorators = {\n        'rateLimit': [{ type: Input },],\n        'resize': [{ type: Output },],\n        'expand': [{ type: ViewChild, args: ['expand',] },],\n        'expandChild': [{ type: ViewChild, args: ['expandChild',] },],\n        'shrink': [{ type: ViewChild, args: ['shrink',] },],\n    };\n    return ResizeSensorComponent;\n}());\nexport { ResizeSensorComponent };\n","import { NgModule } from '@angular/core';\nimport { ResizeSensorComponent } from './resize-sensor.component';\nimport { ResizeBatchService } from './resize-batch.service';\nvar COMPONENT_DIRECTIVES = [ResizeSensorComponent];\n/**\n * Resize Sensor module\n */\nvar ResizeSensorModule = /** @class */ (function () {\n    function ResizeSensorModule() {\n    }\n    ResizeSensorModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [COMPONENT_DIRECTIVES],\n                    exports: [COMPONENT_DIRECTIVES],\n                    providers: [ResizeBatchService]\n                },] },\n    ];\n    /** @nocollapse */\n    ResizeSensorModule.ctorParameters = function () { return []; };\n    return ResizeSensorModule;\n}());\nexport { ResizeSensorModule };\n","import * as tslib_1 from \"tslib\";\nimport { Input } from '@angular/core';\nimport { ComponentMessages } from '@progress/kendo-angular-l10n';\n/**\n * @hidden\n */\nvar Messages = /** @class */ (function (_super) {\n    tslib_1.__extends(Messages, _super);\n    function Messages() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Messages.propDecorators = {\n        'noDataText': [{ type: Input },],\n    };\n    return Messages;\n}(ComponentMessages));\nexport { Messages };\n","import * as tslib_1 from \"tslib\";\nimport { Directive, forwardRef } from '@angular/core';\nimport { LocalizationService } from '@progress/kendo-angular-l10n';\nimport { Messages } from './messages';\n/**\n * @hidden\n */\nvar LocalizedMessagesDirective = /** @class */ (function (_super) {\n    tslib_1.__extends(LocalizedMessagesDirective, _super);\n    function LocalizedMessagesDirective(service) {\n        var _this = _super.call(this) || this;\n        _this.service = service;\n        return _this;\n    }\n    LocalizedMessagesDirective.decorators = [\n        { type: Directive, args: [{\n                    providers: [\n                        {\n                            provide: Messages,\n                            useExisting: forwardRef(function () { return LocalizedMessagesDirective; }) // tslint:disable-line:no-forward-ref\n                        }\n                    ],\n                    selector: \"\\n    [kendoDropDownListLocalizedMessages],\\n    [kendoComboBoxLocalizedMessages],\\n    [kendoAutoCompleteLocalizedMessages],\\n    [kendoMultiSelectLocalizedMessages]\\n  \"\n                },] },\n    ];\n    /** @nocollapse */\n    LocalizedMessagesDirective.ctorParameters = function () { return [\n        { type: LocalizationService, },\n    ]; };\n    return LocalizedMessagesDirective;\n}(Messages));\nexport { LocalizedMessagesDirective };\n","import * as tslib_1 from \"tslib\";\nimport { Component, forwardRef } from '@angular/core';\nimport { LocalizationService } from '@progress/kendo-angular-l10n';\nimport { Messages } from './messages';\n/**\n * Custom component messages override default component messages\n * ([see example]({% slug globalization_grid %}#toc-localization)).\n */\nvar CustomMessagesComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(CustomMessagesComponent, _super);\n    function CustomMessagesComponent(service) {\n        var _this = _super.call(this) || this;\n        _this.service = service;\n        return _this;\n    }\n    Object.defineProperty(CustomMessagesComponent.prototype, \"override\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CustomMessagesComponent.decorators = [\n        { type: Component, args: [{\n                    providers: [\n                        {\n                            provide: Messages,\n                            useExisting: forwardRef(function () { return CustomMessagesComponent; }) // tslint:disable-line:no-forward-ref\n                        }\n                    ],\n                    selector: 'kendo-dropdownlist-messages, kendo-combobox-messages, kendo-autocomplete-messages, kendo-multiselect-messages',\n                    template: \"\"\n                },] },\n    ];\n    /** @nocollapse */\n    CustomMessagesComponent.ctorParameters = function () { return [\n        { type: LocalizationService, },\n    ]; };\n    return CustomMessagesComponent;\n}(Messages));\nexport { CustomMessagesComponent };\n","import { NgModule } from '@angular/core';\nimport { ItemTemplateDirective } from './templates/item-template.directive';\nimport { HeaderTemplateDirective } from './templates/header-template.directive';\nimport { FooterTemplateDirective } from './templates/footer-template.directive';\nimport { NoDataTemplateDirective } from './templates/no-data-template.directive';\nimport { LocalizedMessagesDirective } from './localization/localized-messages.directive';\nimport { CustomMessagesComponent } from './localization/custom-messages.component';\nimport { FilterDirective } from './filter.directive';\nvar SHARED_DIRECTIVES = [\n    HeaderTemplateDirective,\n    FooterTemplateDirective,\n    ItemTemplateDirective,\n    NoDataTemplateDirective,\n    LocalizedMessagesDirective,\n    CustomMessagesComponent,\n    FilterDirective\n];\n/**\n * @hidden\n *\n * The exported package module.\n *\n * The package exports:\n * - `ItemTemplateDirective`&mdash;The item template directive.\n * - `HeaderTemplateDirective`&mdash;The header template directive.\n * - `FooterTemplateDirective`&mdash;The footer template directive.\n * - `NoDataTemplateDirective`&mdash;The noData template directive.\n */\nvar SharedDirectivesModule = /** @class */ (function () {\n    function SharedDirectivesModule() {\n    }\n    SharedDirectivesModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [SHARED_DIRECTIVES],\n                    exports: [SHARED_DIRECTIVES]\n                },] },\n    ];\n    /** @nocollapse */\n    SharedDirectivesModule.ctorParameters = function () { return []; };\n    return SharedDirectivesModule;\n}());\nexport { SharedDirectivesModule };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ListComponent } from './list.component';\nimport { SearchBarComponent } from './searchbar.component';\nimport { PopupModule } from '@progress/kendo-angular-popup';\nimport { ResizeSensorModule } from '@progress/kendo-angular-resize-sensor';\nimport { SharedDirectivesModule } from './shared-directives.module';\nimport { ListItemDirective } from './list-item.directive';\nimport { SelectableDirective } from './selectable.directive';\nimport { TemplateContextDirective } from './templates/template-context.directive';\nvar INTERNAL_DIRECTIVES = [\n    ListComponent,\n    ListItemDirective,\n    SelectableDirective,\n    SearchBarComponent,\n    TemplateContextDirective\n];\n/**\n * @hidden\n */\nvar SharedModule = /** @class */ (function () {\n    function SharedModule() {\n    }\n    SharedModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [INTERNAL_DIRECTIVES],\n                    exports: [INTERNAL_DIRECTIVES, CommonModule, FormsModule, PopupModule, ResizeSensorModule, SharedDirectivesModule],\n                    imports: [CommonModule, FormsModule, PopupModule, ResizeSensorModule, SharedDirectivesModule]\n                },] },\n    ];\n    /** @nocollapse */\n    SharedModule.ctorParameters = function () { return []; };\n    return SharedModule;\n}());\nexport { SharedModule };\n","import { NgModule } from '@angular/core';\nimport { AutoCompleteComponent } from './autocomplete.component';\nimport { SharedModule } from './shared.module';\nimport { SharedDirectivesModule } from './shared-directives.module';\nvar AUTOCOMPLETE_DIRECTIVES = [\n    AutoCompleteComponent\n];\n/**\n * @hidden\n *\n * The exported package module.\n *\n * The package exports:\n * - `AutoCompleteComponent`&mdash;The AutoComplete component class.\n * - `ItemTemplateDirective`&mdash;The item template directive.\n * - `HeaderTemplateDirective`&mdash;The header template directive.\n * - `FooterTemplateDirective`&mdash;The footer template directive.\n */\nvar AutoCompleteModule = /** @class */ (function () {\n    function AutoCompleteModule() {\n    }\n    AutoCompleteModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [AUTOCOMPLETE_DIRECTIVES],\n                    exports: [AUTOCOMPLETE_DIRECTIVES, SharedDirectivesModule],\n                    imports: [SharedModule]\n                },] },\n    ];\n    /** @nocollapse */\n    AutoCompleteModule.ctorParameters = function () { return []; };\n    return AutoCompleteModule;\n}());\nexport { AutoCompleteModule };\n","/* tslint:disable:object-literal-sort-keys */\nimport { isWindowAvailable } from './util';\nvar agentRxs = {\n    wp: /(Windows Phone(?: OS)?)\\s(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    fire: /(Silk)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    android: /(Android|Android.*(?:Opera|Firefox).*?\\/)\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    iphone: /(iPhone|iPod).*OS\\s+(\\d+)[\\._]([\\d\\._]+)/,\n    ipad: /(iPad).*OS\\s+(\\d+)[\\._]([\\d_]+)/,\n    meego: /(MeeGo).+NokiaBrowser\\/(\\d+)\\.([\\d\\._]+)/,\n    webos: /(webOS)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    blackberry: /(BlackBerry|BB10).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    playbook: /(PlayBook).*?Tablet\\s*OS\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    windows: /(MSIE)\\s+(\\d+)\\.(\\d+(\\.\\d+)?)/,\n    tizen: /(tizen).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/i,\n    sailfish: /(sailfish).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*firefox/i,\n    ffos: /(Mobile).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*Firefox/\n};\nvar osRxs = {\n    ios: /^i(phone|pad|pod)$/i,\n    android: /^android|fire$/i,\n    blackberry: /^blackberry|playbook/i,\n    windows: /windows/,\n    wp: /wp/,\n    flat: /sailfish|ffos|tizen/i,\n    meego: /meego/\n};\nvar desktopBrowserRxs = {\n    edge: /(edge)[ \\/]([\\w.]+)/i,\n    webkit: /(chrome)[ \\/]([\\w.]+)/i,\n    safari: /(webkit)[ \\/]([\\w.]+)/i,\n    opera: /(opera)(?:.*version|)[ \\/]([\\w.]+)/i,\n    msie: /(msie\\s|trident.*? rv:)([\\w.]+)/i,\n    mozilla: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\nvar mobileBrowserRxs = {\n    omini: /Opera\\sMini/i,\n    omobile: /Opera\\sMobi/i,\n    firefox: /Firefox|Fennec/i,\n    mobilesafari: /version\\/.*safari/i,\n    ie: /MSIE|Windows\\sPhone/i,\n    chrome: /chrome|crios/i,\n    webkit: /webkit/i\n};\nvar testRx = function (agent, rxs, dflt) {\n    for (var rx in rxs) {\n        if (rxs.hasOwnProperty(rx) && rxs[rx].test(agent)) {\n            return rx;\n        }\n    }\n    return dflt !== undefined ? dflt : agent;\n};\n/**\n * @hidden\n */\nexport var detectMobileOS = function (ua) {\n    var minorVersion;\n    var match = [];\n    for (var agent in agentRxs) {\n        if (agentRxs.hasOwnProperty(agent)) {\n            match = ua.match(agentRxs[agent]);\n            if (!match) {\n                continue;\n            }\n            if (agent === 'windows' && 'plugins' in window.navigator) {\n                return null;\n            } // Break if not Metro/Mobile Windows\n            var os = {};\n            os.device = agent;\n            os.browser = testRx(ua, mobileBrowserRxs, 'default');\n            os.name = testRx(agent, osRxs);\n            os[os.name] = true;\n            os.majorVersion = match[2];\n            os.minorVersion = match[3].replace('_', '.');\n            minorVersion = os.minorVersion.replace('.', '').substr(0, 2);\n            os.flatVersion = os.majorVersion + minorVersion +\n                (new Array(3 - (minorVersion.length < 3 ? minorVersion.length : 2)).join('0'));\n            os.cordova = typeof window.PhoneGap !== undefined\n                || typeof window.cordova !== undefined; // Use file protocol to detect appModes.\n            os.appMode = window.navigator.standalone\n                || (/file|local|wmapp/).test(window.location.protocol)\n                || os.cordova; // Use file protocol to detect appModes.\n            return os;\n        }\n    }\n    return null;\n};\n/**\n * @hidden\n */\nexport var detectDesktopBrowser = function (ua) {\n    var browserInfo = null;\n    var match = [];\n    for (var agent in desktopBrowserRxs) {\n        if (desktopBrowserRxs.hasOwnProperty(agent)) {\n            match = ua.match(desktopBrowserRxs[agent]);\n            if (match) {\n                browserInfo = {};\n                browserInfo[agent] = true;\n                browserInfo[match[1].toLowerCase().split(' ')[0].split('/')[0]] = true;\n                browserInfo.version = parseInt(document.documentMode || match[2], 10);\n                break;\n            }\n        }\n    }\n    return browserInfo;\n};\nvar userAgent = isWindowAvailable() && window.navigator ? window.navigator.userAgent : null;\n/**\n * @hidden\n */\nexport var browser = userAgent ? detectDesktopBrowser(userAgent) : null;\n/**\n * @hidden\n */\nexport var mobileOS = userAgent ? detectMobileOS(userAgent) : null;\n/**\n * @hidden\n */\nexport var touch = isWindowAvailable() && 'ontouchstart' in window;\n/**\n * @hidden\n */\nexport var msPointers = browser && !browser.chrome && window.MSPointerEvent;\n/**\n * @hidden\n */\nexport var pointers = browser && !browser.chrome && window.PointerEvent;\n/**\n * @hidden\n */\nexport var touchEnabled = mobileOS && (touch || msPointers || pointers);\n","import { NgModule } from '@angular/core';\nimport { ComboBoxComponent } from './combobox.component';\nimport { SharedModule } from './shared.module';\nimport { SharedDirectivesModule } from './shared-directives.module';\nimport { TOUCH_ENABLED } from './touch-enabled';\nimport { touchEnabled } from './support';\nvar COMBOBOX_DIRECTIVES = [\n    ComboBoxComponent\n];\n/**\n * @hidden\n *\n * The exported package module.\n *\n * The package exports:\n * - `ComboBoxComponent`&mdash;The ComboBox component class.\n * - `ItemTemplateDirective`&mdash;The item template directive.\n * - `HeaderTemplateDirective`&mdash;The header template directive.\n * - `FooterTemplateDirective`&mdash;The footer template directive.\n */\nvar ComboBoxModule = /** @class */ (function () {\n    function ComboBoxModule() {\n    }\n    ComboBoxModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [COMBOBOX_DIRECTIVES],\n                    exports: [COMBOBOX_DIRECTIVES, SharedDirectivesModule],\n                    imports: [SharedModule],\n                    providers: [{ provide: TOUCH_ENABLED, useValue: touchEnabled }]\n                },] },\n    ];\n    /** @nocollapse */\n    ComboBoxModule.ctorParameters = function () { return []; };\n    return ComboBoxModule;\n}());\nexport { ComboBoxModule };\n","import { Directive, ElementRef, Input, NgZone } from '@angular/core';\n/**\n * @hidden\n */\nvar FilterInputDirective = /** @class */ (function () {\n    function FilterInputDirective(element, zone) {\n        this.element = element;\n        this.zone = zone;\n    }\n    FilterInputDirective.prototype.ngOnChanges = function () {\n        var _this = this;\n        if (this.focused) {\n            this.nextTick(function () { return _this.element.nativeElement.focus(); });\n        }\n    };\n    FilterInputDirective.prototype.nextTick = function (fn) {\n        this.zone.runOutsideAngular(function () { return setTimeout(fn); });\n    };\n    FilterInputDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[filterInput]' // tslint:disable-line\n                },] },\n    ];\n    /** @nocollapse */\n    FilterInputDirective.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: NgZone, },\n    ]; };\n    FilterInputDirective.propDecorators = {\n        'focused': [{ type: Input, args: ['filterInput',] },],\n    };\n    return FilterInputDirective;\n}());\nexport { FilterInputDirective };\n","import { NgModule } from '@angular/core';\nimport { DropDownListComponent } from './dropdownlist.component';\nimport { ValueTemplateDirective } from './templates/value-template.directive';\nimport { FilterInputDirective } from './filter-input.directive';\nimport { SharedModule } from './shared.module';\nimport { SharedDirectivesModule } from './shared-directives.module';\nvar DROPDOWNLIST_DIRECTIVES = [\n    DropDownListComponent,\n    ValueTemplateDirective,\n    FilterInputDirective\n];\n/**\n * @hidden\n *\n * The exported package module.\n *\n * The package exports:\n * - `DropDownListComponent`&mdash;The DropDownList component class.\n * - `ItemTemplateDirective`&mdash;The item template directive.\n * - `ValueTemplateDirective`&mdash;The value template directive.\n * - `HeaderTemplateDirective`&mdash;The header template directive.\n * - `FooterTemplateDirective`&mdash;The footer template directive.\n */\nvar DropDownListModule = /** @class */ (function () {\n    function DropDownListModule() {\n    }\n    DropDownListModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [DROPDOWNLIST_DIRECTIVES],\n                    exports: [DROPDOWNLIST_DIRECTIVES, SharedDirectivesModule],\n                    imports: [SharedModule]\n                },] },\n    ];\n    /** @nocollapse */\n    DropDownListModule.ctorParameters = function () { return []; };\n    return DropDownListModule;\n}());\nexport { DropDownListModule };\n","import { NgModule } from '@angular/core';\nimport { MultiSelectComponent } from './multiselect.component';\nimport { TagListComponent } from './taglist.component';\nimport { TagTemplateDirective } from './templates/tag-template.directive';\nimport { CustomItemTemplateDirective } from './templates/custom-item-template.directive';\nimport { GroupTagTemplateDirective } from './templates/group-tag-template.directive';\nimport { SummaryTagDirective } from './summary-tag.directive';\nimport { SharedModule } from './shared.module';\nimport { SharedDirectivesModule } from './shared-directives.module';\nimport { TOUCH_ENABLED } from './touch-enabled';\nimport { touchEnabled } from './support';\nvar MULTISELECT_DIRECTIVES = [\n    MultiSelectComponent,\n    TagListComponent,\n    TagTemplateDirective,\n    GroupTagTemplateDirective,\n    SummaryTagDirective,\n    CustomItemTemplateDirective\n];\n/**\n * @hidden\n *\n * The exported package module.\n *\n * The package exports:\n * - `MultiSelectComponent`&mdash;The MultiSelect component class.\n * - `SummaryTagDirective`&mdash;The MultiSelect summary tag directive.\n * - `ItemTemplateDirective`&mdash;The item template directive.\n * - `CustomItemTemplateDirective`&mdash;The custom item template directive.\n * - `TagTemplateDirective`&mdash;The tag template directive.\n * - `SummaryTagTemplateDirective`&mdash;The summary tag template directive.\n * - `HeaderTemplateDirective`&mdash;The header template directive.\n * - `FooterTemplateDirective`&mdash;The footer template directive.\n * - `NoDataTemplateDirective`&mdash;The no-data template directive.\n */\nvar MultiSelectModule = /** @class */ (function () {\n    function MultiSelectModule() {\n    }\n    MultiSelectModule.decorators = [\n        { type: NgModule, args: [{\n                    declarations: [MULTISELECT_DIRECTIVES],\n                    exports: [MULTISELECT_DIRECTIVES, SharedDirectivesModule],\n                    imports: [SharedModule],\n                    providers: [{ provide: TOUCH_ENABLED, useValue: touchEnabled }]\n                },] },\n    ];\n    /** @nocollapse */\n    MultiSelectModule.ctorParameters = function () { return []; };\n    return MultiSelectModule;\n}());\nexport { MultiSelectModule };\n","import { NgModule } from '@angular/core';\nimport { AutoCompleteModule } from './autocomplete.module';\nimport { ComboBoxModule } from './combobox.module';\nimport { DropDownListModule } from './dropdownlist.module';\nimport { MultiSelectModule } from './multiselect.module';\n/**\n * Represents the [NgModule]({{ site.data.urls.angular['ngmoduleapi'] }})\n * definition for the DropDowns components.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the DropDowns module\n * import { DropDownsModule } from '@progress/kendo-angular-dropdowns';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare the app component\n *     imports:      [BrowserModule, DropDownsModule], // import the DropDowns module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\nvar DropDownsModule = /** @class */ (function () {\n    function DropDownsModule() {\n    }\n    DropDownsModule.decorators = [\n        { type: NgModule, args: [{\n                    exports: [AutoCompleteModule, ComboBoxModule, DropDownListModule, MultiSelectModule]\n                },] },\n    ];\n    /** @nocollapse */\n    DropDownsModule.ctorParameters = function () { return []; };\n    return DropDownsModule;\n}());\nexport { DropDownsModule };\n"],"names":["Keys","NavigationAction","isPresent","value","isNumber","isNaN","isChanged","propertyName","changes","isFirstChange","previousValue","currentValue","guid","i","random","id","Math","toString","isDocumentAvailable","document","isWindowAvailable","window","isArray","Array","isObject","resolveAllValues","data","valueField","customValues","values","filter","item","validateComplexValues","map","find","undefined","resolveValuesInArray","concat","isObjectArray","some","selectedIndices","extractedValues","reduce","arr","index","indexOf","push","getter","dataItem","field","usePrimitive","matchText","text","word","ignoreCase","temp","String","toLowerCase","MessageService","this","Subject","prototype","notify","rtl","next","get","key","decorators","type","Injectable","ctorParameters","ComponentMessages","Object","defineProperty","enumerable","configurable","ngOnChanges","register","ngOnInit","_this","subscription","service","pipe","skip","subscribe","keys","forEach","override","ngOnDestroy","unsubscribe","RTL","InjectionToken","L10N_PREFIX","LocalizationService","prefix","messageService","_rtl","BehaviorSubject","dictionary","_a","tap","shortKey","message","hasOwnProperty","defaultValue","alt","Inject","args","Optional","SearchBarComponent","localization","renderer","valueChange","EventEmitter","onBlur","onFocus","onClick","onNavigate","_userInput","_previousValue","_placeholder","_composing","direction","set","userInput","input","nativeElement","setInputSize","compositionStart","compositionUpdate","compositionEnd","emit","localizationChangeSubscription","previousUserInput","begin","end","suggestedText","caretIndex","selectionStart","caretAtEnd","length","writeInputValue","substr","setInputSelection","setProperty","start","activeElement","setSelectionRange","e","handleInput","event","target","handleFocus","handleBlur","handleKeydown","keyCode","up","down","left","right","enter","esc","delete","backspace","home","focus","blur","lengthOf","x","placeholderLength","placeholder","textLength","size","max","setAttribute","Component","selector","template","Renderer2","propDecorators","Input","listId","tagListId","activeDescendant","noDataLabel","disabled","readonly","tabIndex","popupOpen","role","Output","ViewChild","searchBarClass","HostBinding","HostListener","ItemTemplateDirective","templateRef","Directive","TemplateRef","HeaderTemplateDirective","FooterTemplateDirective","SelectionService","onSelect","onChange","isSelected","current","isFocused","focused","select","indices","newSelection","add","added","slice","unselect","position","splice","removed","change","resetSelection","focusedIndex","DisabledItemsService","itemDisabled","isIndexDisabled","isItemDisabled","NavigationEvent","originalEvent","NavigationService","disabledItemsService","open","close","tab","process","altKey","action","Undefined","Open","Close","Enter","Esc","Tab","min","step","Up","Left","Down","Right","isDisabled","Home","End","Delete","Backspace","eventData","nextIndex","isInBound","NoDataTemplateDirective","PreventableEvent","prevented","preventDefault","isDefaultPrevented","ownerDocument","element","getWindow","defaultView","getDocument","documentElement","cachedWidth","scrollbarWidth","div","createElement","style","cssText","innerHTML","body","appendChild","offsetWidth","scrollWidth","removeChild","windowViewport","win","wnd","result","height","innerHeight","width","innerWidth","scrollHeight","clientHeight","offsetParent","offset","rect","getBoundingClientRect","top","ref","display","rectOfHiddenElement","until","parentNode","scrollPosition","docElement","pageXOffset","scrollLeft","y","pageYOffset","scrollTop","parent","elementStyles","getComputedStyle","offsetRect","parentElement","useRelative","parentOffset","parentStyles","parseInt","borderTopWidth","borderLeftWidth","offsetParentElement","elementScrollPosition","parentScrollPosition","fit","viewPortSize","output","flip","anchorSize","anchorAlignPoint","elementAlignPoint","marginToAdd","margin","alignPoint","isBeforeAnchor","sibling","firstElementChild","nextElementSibling","eitherRect","OVERFLOW_REGEXP","overflowStyle","overflow","overflowX","overflowY","overflowElementStyle","styles","overflowComputedStyle","HAS_RELATIVE_STACKING_CONTEXT","transform","isDifferent","children","hasRelativeStackingContext","zIndex","anchor","container","siblingElements","parentElements","parents","containerElement","siblings","list","p","s","siblingContainer","zIndexStyle","STYLES","DOMService","addOffset","addition","addScroll","scroll","align","settings","options","anchorRect","anchorAlign","elementRect","elementAlign","anchorHorizontal","horizontal","anchorVertical","vertical","elementHorizontal","elementVertical","horizontalMargin","verticalMargin","point","round","boundingOffset","el","viewport","bottom","getFontStyles","computedStyles","font","hasOffsetParent","offsetAtPoint","currentLocation","transition","currentOffset","offsetHeight","popup","ref$1","offsetParentScrollPosition","positionWithScroll","removeScroll","restrictToView","collisions","viewPort","elementTop","elementLeft","elementHeight","elementWidth","viewPortHeight","viewPortWidth","isHorizontalFlip","collision","isVerticalFlip","flippedHorizontal","flippedVertical","flipped","scrollableParents","test","hasAttribute","stackingElementOffset","relativeContextElement","getRelativeContextElement","stackingElementScroll","useRelativePosition","windowViewPort","getWindowViewPort","zoomLevel","parseFloat","clientWidth","toFixed","isZoomed","AlignService","_dom","alignElement","positionMode","absoluteRect","relativeRect","stackingOffset","PositionService","positionElement","dom","ResizeService","_zone","callback","runOutsideAngular","fromEvent","auditTime","isUnsubscribed","closed","NgZone","ScrollableService","forElement","observables","merge","apply","isParent","isDocument","isWindow","isVisible","elem","elemRect","containerRect","AnimationBuilder","tokens","animationTypes","expand","scale","transformOrigin","slide","translate","fade","opacity","zoom","AnimationService","animationBuilder","play","statesFn","states","getDirection","playStates","isDevMode","Error","stopPlayer","timings","duration","factory","build","player","create","onDone","destroy","DEFAULT_OFFSET","ANIMATION_CONTAINER","hasObservers","emitter","observers","PopupComponent","_alignService","domService","_positionService","_resizeService","_scrollableService","animationService","_renderer","animate","popupAlign","copyAnchorStyles","anchorViewportLeave","positionChange","resolvedPromise","Promise","resolve","addClass","updateFixedClass","repositionCallback","reposition","bind","animationSubscriptions","onAnimationStart","onAnimationEnd","onScroll","setZIndex","copyFontStyles","ngAfterViewInit","then","ngAfterViewChecked","repositionSubscription","fromPromise","complete","removeClass","_currentOffset","setContainerStyle","oldOffset","newOffset","oldLeft","oldTop","newLeft","newTop","abs","run","contentContainer","alignedOffset","isInViewPort","hasLeaveObservers","name","setStyle","exportAs","providers","ElementRef","popupClass","POPUP_CONTAINER","PopupService","applicationRef","componentFactoryResolver","injector","rootComponents","components","getComponentRootNode","rootViewContainer","contentFrom","content","component","nodes","popupComponentRef","appendPopup","appendTo","popupInstance","instance","projectComponentInputs","changeDetectorRef","detectChanges","popupElement","hostView","destroyed","popupAnchorViewportLeave","popupClose","popupPositionChange","createComponent","rootViewContainerNode","componentRef","rootNodes","getComponentFactory","componentClass","resolveComponentFactory","attachView","getOwnPropertyNames","prop","location","ApplicationRef","ComponentFactoryResolver","Injector","POPUP_DIRECTIVES","PopupModule","NgModule","declarations","entryComponents","exports","imports","CommonModule","FilterableDropDownComponentBase","NO_VALUE","AUTOCOMPLETE_VALUE_ACCESSOR","multi","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","AutoCompleteComponent","popupService","selectionService","navigationService","cdr","wrapper","focusableId","listHeight","clearButton","tabindex","filterable","filterChange","listBoxId","optionPrefix","onChangeCallback","_value","onTouchedCallback","_","popupMouseDownHandler","_popupSettings","_open","_filtering","valueChangeSubject","_isFocused","subscribeEvents","wrapperOffsetWidth","popupSettings","popupHeight","containerClasses","hasMatch","startsWith","suggest","backspacePressed","toggle","_toggle","togglePopup","sameState","isOpen","triggerPopupEvents","noDataText","_data","setState","firstFocusableIndex","newValue","verifySettings","markForCheck","assign","fn","JSON","stringify","removeAttribute","setMessages","destroyPopup","unsubscribeEvents","clearTimeout","messagesTimeout","join","reset","clearValue","stopImmediatePropagation","writeValue","registerOnChange","registerOnTouched","setDisabledState","searchbar","onResize","popupWrapper","popupRef","minWidth","emitChange","search","startFrom","findIndex","findIndexPredicate","navigate","handleNavigate","hasFocused","handleEnter","match","searchBarChange","currentTextLength","exactMatch","insensitiveMatch","valueChangeSubscription","candidate","changeSubscription","handleItemChange","focusSubscription","handleItemFocus","navigationSubscription","closeSubscription","enterSubscription","escSubscription","_event","Boolean","createPopup","popupTemplate","listContainerClasses","addEventListener","removeEventListener","eventArgs","maxIndex","itemText","setTimeout","useValue","ChangeDetectorRef","loading","ContentChild","headerTemplate","footerTemplate","noDataTemplate","read","ViewContainerRef","widgetClasses","dir","TOUCH_ENABLED","MultiselectMessages","ComboBoxMessages","DropDownListMessages","COMBOBOX_VALUE_ACCESSOR","ComboBoxComponent","touchEnabled","selected","allowCustom","valueNormalizer","selectionChange","_text","customValueSubject","valueSubject","selectionSubject","subs","Subscription","textCandidate","textField","wrapperClasses","k-dropdown-wrap","k-state-default","k-state-disabled","k-state-focused","attachStreams","createValueStream","valueFrom","valuePrimitive","textFrom","valueStream","newText","customValueStreams","partition","throttleTime","allowCustomValueStream","hasChange","normalizedValue","custom","disableCustomValueStream","valueSubscription","merged","catchError","emitSelectionChange","emitValueChange","of","state","textCleared","distinctUntilChanged","updateState","clearState","_previousDataItem","iconClass","valueOrText","primitive","resolved","findDataItem","confirm","_b","clear","getSuggestion","hasSelected","shouldSuggest","previousText","focusedItemText","textHasChanged","currentText","isCustom","selectClick","clearable","extendStatics","d","b","setPrototypeOf","__proto__","__extends","__","constructor","__assign","t","n","arguments","call","ValueTemplateDirective","DROPDOWNLIST_VALUE_ACCESSOR","DropDownListComponent","hostElement","delay","filterText","last","filterFocused","filterBlurred","wrapperFocused","wrapperBlurred","selectionSubscription","onMouseDown","wrapperWidth","providedTabIndex","Number","blurComponent","blurFilterInput","focusComponent","keydown","isHomeEnd","defaultItem","leftRightKeys","keypress","onKeyPress","click","localizationChangesSubscription","isEmpty","onFilterFocus","_changes","setDefaultItemClasses","k-list-optionlabel","getText","getDefaultItemText","horizontalAlign","anchorPosition","popupPosition","onSelectionChange","itemFromEvent","shouldUsePrevious","shouldUseNewValue","clearFilter","tslib_1.__assign","correctNavigationIndex","skipWhile","openSubscription","handleEscape","filterBlurredSubscription","concatMap","interval","take","takeUntil","componentBlurredSubscription","componentBlur","focusedItemSelected","currentOrDefault","selectedIndex","tagName","which","character","fromCharCode","charCode","typingTimeout","selectNext","itemIndex","isInLoop","idx","charAt","sameCharsOnly","dataLength","startIndex","splitIndex","shuffleData","loopMatch","nextMatch","ofSameType","handleFilter","itemTemplate","valueTemplate","CustomItemTemplateDirective","TagTemplateDirective","GroupTagTemplateDirective","RemoveTagEvent","_super","tslib_1.__extends","MULTISELECT_VALUE_ACCESSOR","MultiSelectComponent","differs","tagPrefix","focusedTagIndex","autoClose","tagMapper","tags","comparer","matchingValue","matchingItem","removeTag","selectedDataItems","observableSubscriptions","onSearchBarFocus","onSearchBarBlur","closePopup","wrapperMousedown","inputElement","button","differ","focusedListIndex","addCustomValue","newItem","dataItem_1","prop_1","objectArray","selection","openPopup","searchTextAndFocus","navigateInput","selectValue","handleBackspace","handleRemoveTag","tagData","removeGroupTag","removeSingleTag","clearAll","ngAfterContentChecked","ngDoCheck","valueChanges","diff","valueChangeDetected","getSelectedDataItems","tag","isValueCustom_1","isValueSelected_1","createCustomValueStream","onTagMapperChange","isClosed","isTagFocused","handleClose","handleUp","handleHome","handleEnd","handleDelete","handleLeftKey","handleRightKey","handleDownKey","customValueSubscription","dataItems","valuesToRemove","valueToRemove","newValue_1","newSelectedDataItems_1","filter_1","nextTick","newValue_2","isBoundToComplexData","forEachItem","f","KeyValueDiffers","customItemTemplate","tagTemplate","groupTagTemplate","focusedClass","disabledClass","TagListComponent","tagAriaLabel","tagProp","deleteTag","itemId","isGroupTag","groupTemplate","TemplateContextDirective","viewContainerRef","context","insertedViewRef","remove","createEmbeddedView","templateContext","SelectableDirective","multipleSelection","stopPropagation","focusedClassName","selectedClassName","ariaSelected","SummaryTagDirective","multiSelectComponent","showAfter","createTagMapper","FilterDirective","filterSettings","caseSensitive","operator","filterChangeSubscription","query","getFilteredData","checkItem","isPrimitive","ListItemDirective","ListComponent","scrollSubscription","scrollToItem","show","setContainerClasses","k-list-scroller","getHeight","getValue","items","toArray","itemOffsetTop","offsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","ViewChildren","ResizeBatchService","ngZone","scheduled","schedule","method","timeout","isScheduled","cancel","count","DEFAULT_RATE_LIMIT","WRAP_STYLE","COMPONENT_DIRECTIVES","ResizeSensorComponent","resizeBatchService","zone","rateLimit","resize","source","acceptedSize","scrollHandler","detachExpand","listen","detachShrink","shrink","detachScrollHandlers","init","acceptSize","measure","lastWidth","lastHeight","asObservable","getPropertyValue","expandChild","ResizeSensorModule","Messages","LocalizedMessagesDirective","CustomMessagesComponent","SHARED_DIRECTIVES","SharedDirectivesModule","INTERNAL_DIRECTIVES","SharedModule","FormsModule","AUTOCOMPLETE_DIRECTIVES","AutoCompleteModule","agentRxs","wp","fire","android","iphone","ipad","meego","webos","blackberry","playbook","windows","tizen","sailfish","ffos","osRxs","ios","flat","desktopBrowserRxs","edge","webkit","safari","opera","msie","mozilla","mobileBrowserRxs","omini","omobile","firefox","mobilesafari","ie","chrome","testRx","agent","rxs","dflt","rx","detectMobileOS","ua","minorVersion","navigator","os","device","browser","majorVersion","replace","flatVersion","cordova","PhoneGap","appMode","standalone","protocol","detectDesktopBrowser","browserInfo","split","version","documentMode","userAgent","mobileOS","touch","msPointers","MSPointerEvent","pointers","PointerEvent","COMBOBOX_DIRECTIVES","ComboBoxModule","FilterInputDirective","DROPDOWNLIST_DIRECTIVES","DropDownListModule","MULTISELECT_DIRECTIVES","MultiSelectModule","DropDownsModule"],"mappings":"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"}